"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[68956],{70822:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"DeprecatedCarousel_pin2"}],type:"Pin",abstractKey:null};r.hash="32a4849bbdfc8b2b65b08bf4b8c4c887",t.default=r},415970:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin2",selections:[{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};r.hash="c13d796babebf5b4a8ad6ebb2b50c324",t.default=r},563392:function(e,t,n){n.r(t);var r,i,o,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[r={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinImage_pin"}],type:"Pin",abstractKey:null};l.hash="b67206267f16546b5985ba92b9cb6437",t.default=l},84623:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideoWithVisibility_pin2"},{args:null,kind:"FragmentSpread",name:"useAutoplayOrgVideoOnHover_pin"}],type:"Pin",abstractKey:null};r.hash="2acc30117a5990f7f2c1367aad790447",t.default=r},191317:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin2",selections:[{args:null,kind:"FragmentSpread",name:"PinVideo_pin"}],type:"Pin",abstractKey:null};r.hash="c4876bc86b017c1390fdec3edc77f6d4",t.default=r},632462:function(e,t,n){n.r(t);var r,i,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[r,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin2"}],type:"Pin",abstractKey:null};o.hash="7de1543a7e9ef08dab86ce070f3dca6a",t.default=o},982758:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin2",selections:[{args:null,kind:"FragmentSpread",name:"PinImage_pin"}],type:"Pin",abstractKey:null};r.hash="147f5f417b6700208c89761b9857c06e",t.default=r},183759:function(e,t,n){n.r(t);var r,i,o,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[r={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},i],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="80b098957d3631584738a1b5491246b9",t.default=l},196519:function(e,t,n){n.r(t);var r,i,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAutoplayOrgVideoOnHover_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[r,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:i,storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};o.hash="2942f85ec1d9274bd2a1e72a4b5cf008",t.default=o},748722:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(339001);function i(e){var t=e.altText,n=e.autoAltText,i=e.i18n,o=t?(0,r.nk)(i._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:t}).join(""):"",l=n?(0,r.nk)(i._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:n}).join(""):"";return o||l||""}},119351:function(e,t,n){n.d(t,{Z:function(){return E}}),n(42279);var r,i,o=n(998855),l=n.n(o),a=n(684404),u=n(748722),c=n(598356),s=n(262032),d=n(333739),p=n(807023),f=n(140017),y=n(339001),g=n(223785),m=n(207012),v=n(968508),b=n(819267),h=void 0!==r?r:r=n(183759);function O(e){var t,n,r,i,o,l,u,c,s,d,p,f,y=e.alt,g=e.isInAutoplayOrgVideoOnHoverExp,O=e.onError,S=e.onLoad,P=e.pinKey,j=e._fixCompletedOnLoad,x=(0,m.Z)(h,P),_=x.dominantColor,w=null!==(s=(t={pin:x,isInAutoplayOrgVideoOnHoverExp:g}).pin,d=t.isInAutoplayOrgVideoOnHoverExp,p=!(null!==(c=s.imageSpec_474x)&&void 0!==c&&c.width&&s.imageSpec_474x.height&&s.imageSpec_474x.width>s.imageSpec_474x.height)&&s.imageSpec_474x||s.imageSpec_736x,f=d&&(null!=(u=null===(i=((null===(r=((null===(n=s.storyPinData)||void 0===n?void 0:n.pages)||[])[0])||void 0===r?void 0:r.blocks)||[])[0])||void 0===i?void 0:null===(o=i.video)||void 0===o?void 0:null===(l=o.videoList)||void 0===l?void 0:l.vHLSV3MOBILE)&&u.thumbnail?{height:(null==u?void 0:u.height)||0,width:(null==u?void 0:u.width)||0,url:u.thumbnail||""}:null)||p)&&void 0!==f?f:{},T=w.height,E=w.width,k=w.url;return(0,b.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{zIndex:v.Z.storyPinImage}},"data-test-id":"story-pin-image-box",width:"100%",children:(0,b.jsx)(a.Ee,{_fixCompletedOnLoad:j,alt:y,color:_||"transparent",naturalHeight:null!=T?T:1,naturalWidth:null!=E?E:1,onError:void 0===O?function(){}:O,onLoad:void 0===S?function(){}:S,src:k||""})})}var S=n(253482);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var x=["ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingDynamicHeightGrid"],_=void 0!==i?i:i=n(563392),w=function(e){var t,n,r,i,o,l,a,u,c,s,p,f,y,g,m,v,b,h,O,S,x,_,w,T;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===P(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({altText:null!==(t=e.alt_text)&&void 0!==t?t:null,autoAltText:null!==(n=e.auto_alt_text)&&void 0!==n?n:null,carouselData:e.carousel_data?{__typename:"PinCarouselData"}:null,description:null!==(r=e.description)&&void 0!==r?r:null,dominantColor:null!==(i=e.dominant_color)&&void 0!==i?i:null,entityId:e.id,gridTitle:null!==(o=e.grid_title)&&void 0!==o?o:null,imageSpec_236x:null!==(l=e.images)&&void 0!==l&&l["236x"]?{height:null!==(a=e.images["236x"].height)&&void 0!==a?a:null,url:null!==(u=e.images["236x"].url)&&void 0!==u?u:null,width:null!==(c=e.images["236x"].width)&&void 0!==c?c:null}:null,imageSpec_474x:null!==(s=e.images)&&void 0!==s&&s["474x"]?{height:null!==(p=e.images["474x"].height)&&void 0!==p?p:null,url:null!==(f=e.images["474x"].url)&&void 0!==f?f:null,width:null!==(y=e.images["474x"].width)&&void 0!==y?y:null}:null,imageSpec_736x:null!==(g=e.images)&&void 0!==g&&g["736x"]?{height:null!==(m=e.images["736x"].height)&&void 0!==m?m:null,url:null!==(v=e.images["736x"].url)&&void 0!==v?v:null,width:null!==(b=e.images["736x"].width)&&void 0!==b?b:null}:null,imageSpec_orig:null!==(h=e.images)&&void 0!==h&&h.orig?{height:null!==(O=e.images.orig.height)&&void 0!==O?O:null,url:null!==(S=e.images.orig.url)&&void 0!==S?S:null,width:null!==(x=e.images.orig.width)&&void 0!==x?x:null}:null,storyPinDataId:null!==(_=e.story_pin_data_id)&&void 0!==_?_:null,videos:e.videos?{videoList:e.videos.video_list?{vHLSV4:e.videos.video_list.V_HLSV4?{height:e.videos.video_list.V_HLSV4.height||null,thumbnail:e.videos.video_list.V_HLSV4.thumbnail||null,width:e.videos.video_list.V_HLSV4.width||null}:null}:null}:null,title:null!==(w=e.title)&&void 0!==w?w:null,isThirdPartyAd:null!==(T=e.is_third_party_ad)&&void 0!==T?T:null},d.tx)},T=function(e){var t=e.children,n=e.cropStoryPinImage,r=e.cropWidth,i=e.cropHeight;return n?(0,b.jsx)(a.kC,{alignItems:"center",height:r?i:void 0,justifyContent:"start",width:r||void 0,children:t}):(0,b.jsx)(a.xu,{children:t})},E=function(e){var t=e.cropHeight,n=e.cropWidth,r=e.fallbackColor,i=e.highResOnly,o=e.imageFit,d=e.isInAutoplayOrgVideoOnHoverExp,m=e.lowResOnly,v=e.mediumResOnly,h=e.onError,P=e.onLoad,j=e.pinKey,E=e.saved,k=e.surface,A=e.ssrImpressionFixEnabled,I=(0,f.ZP)(),V=(0,c.Xx)(),D=(0,p.Q)(_,j,{useLegacyAdapter:w}),L=D.data,C=D.childDataKey__DEPRECATED,F=L.altText,K=L.autoAltText,H=L.carouselData,R=L.description,M=void 0===R?"":R,B=L.dominantColor,Z=L.entityId,W=L.gridTitle,z=L.isThirdPartyAd,U=L.title,N=L.videos,G=(0,y.nk)(I._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:U||W}).join(""),Y=(0,u.Z)({altText:F,autoAltText:K,i18n:I})||!!(null!=M&&M.trim().length)&&M||G;if(H)return(0,b.jsx)(S.Z,{_fixCompletedOnLoad:A,highResOnly:i,isThirdPartyAd:z,lowResOnly:m,onError:h,onLoad:P,pinId:Z,pinKey:null});var $,q,J,Q,X="",ee=0,et=0;if(L.imageSpec_736x||L.imageSpec_orig||L.imageSpec_474x||L.imageSpec_236x){var en,er,ei,eo,el,ea=L.imageSpec_236x;if(i)ea=L.imageSpec_736x||L.imageSpec_orig||L.imageSpec_474x||L.imageSpec_236x;else if(v)ea=L.imageSpec_474x||L.imageSpec_orig||L.imageSpec_236x;else if(d){var eu,ec,es,ed,ep=(null==N?void 0:null===(ed=N.videoList)||void 0===ed?void 0:ed.vHLSV4)||{},ef=ep.thumbnail,ey=ep.height,eg=ep.width;ea=ef?{url:ef,height:null!=ey?ey:1,width:null!=eg?eg:1}:ea}ee=null===(eu=ea)||void 0===eu?void 0:eu.height,et=null===(ec=ea)||void 0===ec?void 0:ec.width,X=null===(es=ea)||void 0===es?void 0:es.url,Q=m||v||i?null!==(en=ea)&&void 0!==en&&en.url?"".concat(ea.url," 1x"):"":[(null===(er=L.imageSpec_236x)||void 0===er?void 0:er.url)&&"".concat(L.imageSpec_236x.url," 1x"),(null===(ei=L.imageSpec_474x)||void 0===ei?void 0:ei.url)&&"".concat(L.imageSpec_474x.url," 2x"),(null===(eo=L.imageSpec_736x)||void 0===eo?void 0:eo.url)&&"".concat(L.imageSpec_736x.url," 3x"),(null===(el=L.imageSpec_orig)||void 0===el?void 0:el.url)&&"".concat(L.imageSpec_orig.url," 4x")].filter(Boolean).join(", ")}null!=V&&V.image&&(ee=V.image.height,et=V.image.width,X=V.image.url);var em=["ShoppingGridSmall","ShoppingGridSmallCarousel"].includes(k)?void 0:g.Ml;return(0,b.jsx)(a.kC,{alignItems:"center",justifyContent:"start",minHeight:em,children:(0,b.jsx)(a.xu,{flex:"grow",children:(0,b.jsx)("div",{className:l()({savedGradient:void 0!==E&&E}),children:L.storyPinDataId?(0,b.jsx)(T,{cropHeight:t,cropStoryPinImage:!!n&&x.includes(k),cropWidth:n,children:(0,b.jsx)(O,{_fixCompletedOnLoad:A,alt:Y,isInAutoplayOrgVideoOnHoverExp:d,onError:h,onLoad:P,pinKey:C})}):(0,b.jsx)(a.xu,{"data-test-id":"non-story-pin-image",height:n?t:void 0,width:n||void 0,children:(0,b.jsx)(s.Z,{_fixCompletedOnLoad:A,alt:Y,color:"dominant"===r?null!=B?B:void 0:r,crossOrigin:z?"anonymous":void 0,fit:o,naturalHeight:null!==($=ee)&&void 0!==$?$:1,naturalWidth:null!==(q=et)&&void 0!==q?q:1,onError:h,onLoad:P,src:null!==(J=X)&&void 0!==J?J:"",srcSet:Q})})})})})}},568956:function(e,t,n){n.r(t),n.d(t,{default:function(){return ea}});var r,i,o,l,a,u=n(672652);n(42279);var c=n(684404),s=n(119351),d=n(207012),p=n(807023),f=n(558273),y=n(363074),g=n(239821),m=n(31327),v=n(306781),b=n(233186),h=n(140017),O=n(819267),S={overlay:{__style:{backgroundColor:"#000"}}};function P(e){var t=e.backgroundImage,n=e.naturalHeight,r=e.naturalWidth,i=e.onRestartVideo,o=e.pinId,l=(0,h.ZP)();return(0,O.jsxs)(c.Ee,{alt:l._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:n,naturalWidth:r,src:t,children:[(0,O.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:S.overlay,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,O.jsxs)(c.xu,{"data-test-id":"video-end-card-".concat(o),direction:"column",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",children:[(0,O.jsx)(c.iP,{rounding:2,children:(0,O.jsxs)(c.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,O.jsx)(c.JO,{accessibilityLabel:l._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:{__path:v.Z},size:25}),(0,O.jsx)(c.xu,{margin:1}),(0,O.jsx)(c.xv,{color:"light",lineClamp:1,weight:"bold",children:l._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,O.jsx)(c.xu,{margin:3}),(0,O.jsx)(c.iP,{onTap:i,rounding:2,children:(0,O.jsxs)(c.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,O.jsx)(c.JO,{accessibilityLabel:l._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:{__path:b.Z},size:25}),(0,O.jsx)(c.xu,{margin:1}),(0,O.jsx)(c.xv,{color:"light",lineClamp:1,weight:"bold",children:l._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}function j(e){var t=e.aspectRatio,n=e.children;return(0,O.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:t}},children:n})}var x=n(718561);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,l,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=new Set(["ConversationView","TodayTabFeed"]),I=void 0!==r?r:r=n(632462),V=n(631602);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var F=n(626849),K=n(249803),H=n(960270),R=n(224796),M=n(647123),B=n(953565);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Z(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N=void 0!==o?o:o=n(196519),G=H.Ry({}).shape({activated:H.O7(),triggered:H.O7()}),Y=["pinKey","isHovering","isInAutoplayOrgVideoOnHoverExp","autoplayOrgVideoOnHoverExpGroup"];function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,er(r.key),r)}}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t,n){return(t=er(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$(t)?t:String(t)}var ei=(0,V.Z)(function(e){var t,r,o,l,a,v,b,h=e.isAutoplay,S=e.cropHeight,_=e.currentTime,w=e.lowResOnly,k=e.highResOnly,V=e.onLoad,D=e.onError,L=e.saved,C=e.onTimeChange,F=e.isExperimentalPinRep,K=e.isInAutoplayOrgVideoOnHoverExp,H=e.pinKey,R=e.surface,M=e.playing,B=e.rootMargin,Z=e.viewType,W=e.viewParameter,z=e.onVisibilityChanged,U=e.trackFullVisible,N=e.inVisibilityChangedHookExperiment,G=e.imageHeightModifier,Y=e.cropWidth,$=e.video,q=E((0,u.useState)(!1),2),J=q[0],Q=q[1],X=E((0,u.useState)(!M),2),ee=X[0],et=X[1],en=(0,d.Z)(I,H),er=(0,p.Q)(void 0!==i?i:i=n(982758),en,{useLegacyAdapter:function(e){return{}}}).childDataKey__DEPRECATED,ei=en.isDownstreamPromotion,eo=en.promoter,el=(0,f.jL)(!!ei,!!eo),ea=el&&!en.isEligibleForWebCloseup,eu=F&&el&&en.isEligibleForWebCloseup&&!A.has(R),ec=(0,g.I)().setCurrentVideo,es=ea||!F||!el,ed=(0,y.Z)({onVisibilityChanged:z,trackFullVisible:U,rootMargin:B});h&&M&&ee&&et(!1);var ep=(null!==(t=en.imageSpec_236x)&&void 0!==t?t:{}).url,ef=en.entityId,ey=en.isPromoted,eg=(0,u.useCallback)(function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),ec({pinId:ef,isPromoted:!!ey,currentTime:0}),Q(!1)},[ey,ef,ec]),em=(0,u.useCallback)(function(){ey&&Q(eu)},[eu,ey]),ev=null!=$?$:null===(r=en.videos)||void 0===r?void 0:null===(o=r.videoList)||void 0===o?void 0:o.vHLSV4;if(!ev)return null;var eb=ev.height,eh=ev.thumbnail,eO=ev.width,eS=ev.url,eP=null!==(l=null!==(a=null==$?void 0:$.entityId)&&void 0!==a?a:null===(v=en.videos)||void 0===v?void 0:v.entityId)&&void 0!==l?l:"",ej=[{type:"video/m3u8",src:eS}],ex=(null!=eO?eO:1)/(null!=eb?eb:1),e_=R&&(0,m.Z)(R)&&"UserProfilePinGrid"!==R;if(e_&&(ex=1,b="transparent",G&&(ex-=G-1)),J&&el)return(0,O.jsx)(c.xu,{ref:N?ed:null,children:(0,O.jsx)(P,{backgroundImage:null!=ep?ep:"",naturalHeight:null!=eb?eb:1,naturalWidth:null!=eO?eO:1,onRestartVideo:eg,pinId:ef})});var ew={highResOnly:k,lowResOnly:w,isInAutoplayOrgVideoOnHoverExp:K,onError:D,onLoad:V,pinKey:er,saved:L};e_&&(ew=T(T({},ew),{},{cropHeight:S,cropWidth:Y,imageFit:"contain"}));var eT=(0,O.jsx)(c.xu,{ref:N?ed:null,children:(0,O.jsx)(j,{aspectRatio:ex,children:(0,O.jsx)(s.Z,T({},ew))})});return ee?eT:(0,O.jsx)(c.xu,{ref:N?ed:null,children:(0,O.jsx)(x.ZP,{aspectRatio:ex,backgroundColor:b,captions:"",contextLogData:{viewParameter:W,component:0,objectId:ef,video_id:eP,view:Z},cropHeight:S,fallback:eT,hlsConfig:{capLevelToPlayerSize:!0,startPosition:_||-1},isAutoPlay:!!h,loop:es,onEnded:em,onPlay:function(){},onPlayError:function(){},onTimeChange:C,playing:M,poster:ep||eh||void 0,rootMargin:B,src:null!=ej?ej:[],surface:R,videoStartTime:_,volume:0})})}),eo=void 0!==l?l:l=n(84623),el=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=et(o);if(t){var r=et(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return en(ee(e=i.call.apply(i,[this].concat(n))),"calculateCurrentVideoTime",function(){var t=e.props,n=t.currentTimeFromPinRep,r=t.pin,i=t.videosAutoplaying,o=r.entityId,l=(0,F.Z)(o,i);return e.currentVideoCurrentTime||l||n}),en(ee(e),"handleVisibilityChanged",function(t){var n=e.props,r=n.currentTimeFromPinRep,i=n.pin,o=n.setCurrentVideo,l=n.pauseAutoplay,a=n.videosAutoplaying,u=n.autoplayOrgVideoOnHoverExpGroup,c=i.entityId,s=i.isPromoted,d=(0,K.Z)(c,a),p=function(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=C(C({},n),r);for(var o in i){var l=i[o].paused;if(o!==e&&!l)return!1}return!0}(c,a);t?s?o({pinId:c,isPromoted:s,currentTime:e.calculateCurrentVideoTime()}):p&&"enabled_hover_only"!==u&&o({pinId:c,isPromoted:!!s,currentTime:e.calculateCurrentVideoTime()}):!t&&d&&l({pinId:c,isPromoted:!!s,currentTime:r||e.currentVideoCurrentTime})}),en(ee(e),"handleVideoTimeChange",function(t){var n=e.props,r=n.pin,i=n.onTimeChange,o=n.videosAutoplaying,l=r.entityId;(0,K.Z)(l,o)&&(e.currentVideoCurrentTime=t.time),i&&i(t)}),e}return n=[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"componentDidUpdate",value:function(e){var t=e.appInFocus,n=this.props,r=n.appInFocus,i=n.currentTimeFromPinRep,o=n.pauseAutoplay,l=n.pin,a=n.setCurrentVideo,u=n.videosAutoplaying,c=l.entityId,s=l.isPromoted,d=(0,K.Z)(c,u);r!==t&&!r&&d?(this.pausedDueToBrowserOutOfFocus=!0,o({pinId:c,isPromoted:!!s,currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&r&&(this.pausedDueToBrowserOutOfFocus=!1,a({pinId:c,isPromoted:!!s,currentTime:this.calculateCurrentVideoTime()}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.currentTimeFromPinRep,n=e.pauseAutoplay,r=e.pin,i=e.videosAutoplaying,o=r.entityId,l=r.isPromoted;(0,K.Z)(o,i)&&n({pinId:o,isPromoted:!!l,currentTime:t||this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=e.childDataKey__DEPRECATED,n=e.cropHeight,r=e.isAutoplay,i=e.pin,o=e.surface,l=e.videosAutoplaying,a=e.viewParameter,u=e.viewType,c=e.highResOnly,s=e.lowResOnly,d=e.onError,p=e.onLoad,f=e.saved,y=e.isExperimentalPinRep,g=e.isInAutoplayOrgVideoOnHoverExp,m=e.rootMargin,v=e.cropWidth,b=e.imageHeightModifier,h=e.video,S=i.entityId,P=(0,F.Z)(S,l),j=(0,K.Z)(S,l)&&r,x=J({cropHeight:n,rootMargin:m,currentTime:P,isAutoplay:r,viewParameter:a,viewType:u,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinKey:t,surface:o,playing:j,trackFullVisible:!1,highResOnly:c,lowResOnly:s,onError:d,onLoad:p,saved:f,isExperimentalPinRep:y,isInAutoplayOrgVideoOnHoverExp:g,cropWidth:v,imageHeightModifier:b},h?{video:h}:{});return(0,O.jsx)(ei,J({},x))}}],Q(o.prototype,n),r&&Q(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(u.Component);function ea(e){var t,r,i,o,l,c,s,f,y,m,v,b,h,S,P,j,x,_,w,T,E,k,A,I=e.pinKey,V=e.isHovering,D=void 0!==V&&V,L=e.isInAutoplayOrgVideoOnHoverExp,C=void 0!==L&&L,K=e.autoplayOrgVideoOnHoverExpGroup,H=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Y),Z=(0,g.I)(),z=Z.appUI,$=z.appInFocus,q=z.isAutoplay,Q=z.videosAutoplaying,X=Z.pauseAutoplay,ee=Z.setCurrentVideo,et=(0,d.Z)(eo,I),en=(0,p.Q)(void 0!==a?a:a=n(191317),et,{useLegacyAdapter:function(e){return{}}}).childDataKey__DEPRECATED,er=(0,u.useRef)(D);return f=(t={autoplayOrgVideoOnHover:C&&"enabled_load_only"!==K,pinKey:et,isHovering:D,hoverState:er}).autoplayOrgVideoOnHover,y=t.pinKey,m=t.isHovering,v=t.hoverState,S=(h=function(e){if(Array.isArray(e))return e}(b=(0,M.Z)(R.Ku))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,l,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(b,2)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}}(b,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],P=h[1],j=G.cast({}),x=S||j,_=(0,d.Z)(N,y),T=(w=(0,g.I)()).setCurrentVideo,E=w.pauseAutoplay,k=w.appUI.videosAutoplaying,A=(null==_?void 0:null===(r=_.videos)||void 0===r?void 0:null===(i=r.videoList)||void 0===i?void 0:i.v720P)||(null==_?void 0:null===(o=_.videos)||void 0===o?void 0:null===(l=o.videoList)||void 0===l?void 0:l.vHLSV4)||(null==_?void 0:null===(c=_.videos)||void 0===c?void 0:null===(s=c.videoList)||void 0===s?void 0:s.vHLSV3MOBILE),(0,u.useEffect)(function(){if(_&&f){if(x.activated||(P(U(U({},x),{},{activated:!0})),(0,B.nP)("ads_auto_org_vid_hover_dweb.activated")),v.current!==m){var e=_.entityId,t=_.isPromoted,n=_.storyPinData,r=(0,F.Z)(e,k);if(A||null!=n&&n.totalVideoDuration){if(m){x.triggered||(P(U(U({},x),{},{triggered:!0})),(0,B.nP)("ads_auto_org_vid_hover_dweb.triggered")),(0,B.nP)("ads_auto_org_vid_hover_dweb.hovered");var i,o,l=(i=k.currentlyPlayingOrganicVideoId,o=k.organicVideosAutoplaying,i&&i!==e?i:Object.keys(o).find(function(e){return!1===o[e].paused}));l&&E({currentTime:r,pinId:l,isPromoted:!1}),T({currentTime:r,pinId:e,isPromoted:!!t,allowMultipleOrganicVideos:f})}else t||E({currentTime:r,pinId:e,isPromoted:!!t})}}v.current=m}},[f,m,v,E,_,T,A,k,x,P]),(0,O.jsx)(el,J(J({},H),{},{appInFocus:$,autoplayOrgVideoOnHoverExpGroup:K,childDataKey__DEPRECATED:en,isAutoplay:q,isInAutoplayOrgVideoOnHoverExp:C,pauseAutoplay:X,pin:et,setCurrentVideo:ee,videosAutoplaying:Q}))}},598356:function(e,t,n){n.d(t,{Xx:function(){return o}});var r=n(672652);n(819267),(0,r.createContext)(void 0),n(214877);var i=(0,r.createContext)(void 0),o=function(){return(0,r.useContext)(i)}},223785:function(e,t,n){n.d(t,{Dv:function(){return o},Ml:function(){return l},Oc:function(){return r},mv:function(){return i}});var r=16,i=4,o={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},l=120},259866:function(e,t,n){function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function e(t,n){if(null==t||"object"!==o(t)&&"function"!=typeof t)return t;var l,a=n.find(function(e){return e.value===t});if(a)return a.result;var u=Object.prototype.toString.call(t);switch(u){case"[object Array]":l=Array(t.length);break;case"[object Set]":l=new Set;break;case"[object Object]":case"[object Arguments]":l={};break;case"[object Map]":l=new Map;break;default:return t}var c=[].concat(function(e){if(Array.isArray(e))return i(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||r(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{value:t,result:l}]);switch(u){case"[object Array]":t.forEach(function(t,n){l[n]=e(t,c)});break;case"[object Set]":t.forEach(function(t){l.add(e(t,c))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(function(t){var n=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,l,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(t,2)||r(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],o=n[1];l[i]=e(o,c)});break;case"[object Map]":t.forEach(function(t,n){l.set(n,e(t,c))})}return l}(e,[])}n.d(t,{Z:function(){return l}})},306781:function(e,t){t.Z="M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},233186:function(e,t){t.Z="M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},262032:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(672652),i=n(684404),o=(0,r.createContext)(),l=n(819267);function a(e){(0,r.useContext)(o);var t=e.alt,n=e.color,a=e.children,u=e.crossOrigin,c=e.decoding,s=e.elementTiming,d=e.fetchPriority,p=e.fit,f=e.loading,y=e.naturalHeight,g=e.naturalWidth,m=e.onError,v=e.onLoad,b=e.role,h=e.sizes,O=e.src,S=e.srcSet,P=e._fixCompletedOnLoad;return(0,l.jsx)(i.Ee,{_fixCompletedOnLoad:P,alt:t,color:n,crossOrigin:u,decoding:c,elementTiming:s,fetchPriority:d,fit:p,loading:f,naturalHeight:y,naturalWidth:g,onError:m,onLoad:v,role:b,sizes:h,src:O,srcSet:S,children:a})}},631602:function(e,t,n){var r=n(672652),i=n(843362),o=n(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var y=new Map,g=null,m=function(e){e.forEach(function(e){var t=y.get(e.target);t&&t(e)})},v=function(e){g.unobserve(e),y.delete(e)},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};g=g||new window.IntersectionObserver(m,r),y.set(e,n),g.observe(e)};t.Z=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(m,t);var n,r,f,g=(n=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=d(m);if(n){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return s(e)}(this,e)});function m(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,m);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(s(e=g.call.apply(g,[this].concat(n))),"seen",!1),p(s(e),"enter",function(t){var n=t.intersectionRatio>0||t.isIntersecting;e.seen=n,e.seen&&e.props.onVisibilityChanged(!0)}),p(s(e),"leave",function(){var t=e._node;t&&y.has(t)&&e.seen&&(e.props.onVisibilityChanged(!1),e.seen=!1)}),p(s(e),"observe",function(t){try{e._node=i.findDOMNode(s(e))}catch(e){return}if(e._node){var n=e._node;b(n,t,function(t){if(y.has(n)){var r=e.props.trackFullVisible?t.intersectionRatio>=1:t.intersectionRatio>=.5,i=e.props.trackFullVisible?0===t.intersectionRatio:!r;!e.seen&&r?e.enter(t):e.seen&&i&&e.leave()}})}}),e}return r=[{key:"componentDidMount",value:function(){var e=this.props.rootMargin;this.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this._node;e&&(this.leave(),v(e))}},{key:"render",value:function(){return(0,o.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props))}}],u(m.prototype,r),f&&u(m,f),Object.defineProperty(m,"prototype",{writable:!1}),m}(r.Component);return p(t,"displayName","DeprecatedWithVisibilityChanged(".concat(e.displayName||e.name,")")),t}},363074:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(672652),i=new Map,o=null,l=function(e){e.forEach(function(e){var t=i.get(e.target);t&&t(e)})},a=function(e){o.unobserve(e),i.delete(e)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(l,r),i.set(e,n),o.observe(e)};function c(e){var t=e.onVisibilityChanged,n=e.trackFullVisible,o=e.rootMargin,l=(0,r.useRef)(null),c=!1,s=function(e){(c=e.intersectionRatio>0||e.isIntersecting)&&t(!0)},d=function(){var e;l.current instanceof HTMLElement&&(e=l.current,i.has(e))&&c&&(t(!1),c=!1)},p=(0,r.useCallback)(function(e){l.current instanceof HTMLElement&&u(l.current,e,function(e){if(i.has(l.current)){var t=n?e.intersectionRatio>=1:e.intersectionRatio>=.5,r=n?0===e.intersectionRatio:!t;!c&&t?s(e):c&&r&&d()}})},[l.current]);return(0,r.useEffect)(function(){return p(o),function(){l.current instanceof HTMLElement&&(d(),a(l.current))}},[p]),l}},626849:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);return i[e]&&i[e].currentTime}n.d(t,{Z:function(){return l}})},249803:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var i,o;i=t,o=n[t],(i=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(i))in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);return!!i[e]&&!i[e].paused}n.d(t,{Z:function(){return l}})},239821:function(e,t,n){n.d(t,{g:function(){return v},I:function(){return m}});var r=n(672652),i=n(342513),o=n(705895),l=n(259866);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type&&e.showTypeaheadOverlay!==t.payload)return c(c({},e),{},{showTypeaheadOverlay:t.payload});if("SET_CURRENT_VIDEO"===t.type){var n=t.payload,r=n.pinId,i=n.isPromoted,o=n.currentTime,a=n.allowMultipleOrganicVideos,u=e.videosAutoplaying,d=u.currentlyPlayingOrganicVideoId,p=u.promotedVideosAutoplaying,f=u.organicVideosAutoplaying,y=(0,l.Z)(p),g=(0,l.Z)(f);return i||!d||a?(i?y[r]={pinId:r,currentTime:o,paused:!1}:g[r]={pinId:r,currentTime:o,paused:!1},c(c({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:i?d:r,promotedVideosAutoplaying:y,organicVideosAutoplaying:g}})):e}if("SET_IS_AUTOPLAY"===t.type&&e.isAutoplay!==t.payload)return c(c({},e),{},{isAutoplay:t.payload});if("PAUSE_CURRENT_VIDEO"===t.type){var m=t.payload,v=m.pinId,b=m.isPromoted,h=m.currentTime,O=e.videosAutoplaying,S=O.promotedVideosAutoplaying,P=O.organicVideosAutoplaying,j=(0,l.Z)(S),x=(0,l.Z)(P);return b?j[v]=c(c({},j[v]),{},{paused:!0,currentTime:h}):x[v]=c(c({},x[v]),{},{paused:!0,currentTime:h}),c(c({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:j,organicVideosAutoplaying:x}})}if("SET_APP_FOCUS_STATE"===t.type&&e.appInFocus!==t.payload)return c(c({},e),{},{appInFocus:t.payload});if("SET_VIEWPORT_SIZE"===t.type&&e.viewportSize!==t.payload)return c(c({},e),{},{viewportSize:t.payload});if("SET_FOOTER_VISIBILITY_STATE"===t.type&&e.footerPlusButtonVisible!==t.payload)return c(c({},e),{},{footerPlusButtonVisible:t.payload});return e},p=n(819267);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=(0,i.Z)("AppUI"),g=y.Provider,m=y.useHook;function v(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(d,s))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,l,a=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=i[0],a=i[1],u=(0,r.useCallback)(function(e){return a({type:"PAUSE_CURRENT_VIDEO",payload:e})},[]),c=(0,r.useCallback)(function(e){return a({type:"SET_APP_FOCUS_STATE",payload:e})},[]),y=(0,r.useCallback)(function(e){return a({type:"SET_CURRENT_VIDEO",payload:e})},[]),m=(0,r.useCallback)(function(e){return a({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})},[]),v=(0,r.useCallback)(function(e){return a({type:"SET_IS_AUTOPLAY",payload:e})},[]),b=(0,r.useCallback)(function(e){return a({type:"SET_VIEWPORT_SIZE",payload:e})},[]),h=(0,r.useCallback)(function(e){return a({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})},[]),O=(0,r.useMemo)(function(){return{pauseAutoplay:u,setCurrentVideo:y,setFooterPlusButtonVisible:m,setIsAutoplay:v,setViewportSize:b,toggleTypeaheadOverlay:h,setAppFocusState:c,appUI:l}},[u,y,m,v,b,h,c,l]);return(0,r.useEffect)(function(){o.Z.onSessionResume(function(){c(!0)}).onSessionPause(function(){c(!1)})},[c]),(0,p.jsx)(g,{value:O,children:n})}},31327:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(467139);function i(e){return r.zI.includes(e)}},968508:function(e,t){t.Z={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},253482:function(e,t,n){n.d(t,{Z:function(){return M}});var r,i,o=n(672652);n(308082);var l=n(684404);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){var r;return(r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=n(663056),y=n(207012),g=n(807023),m=n(213377),v=n(140017),b=n(223785),h=n(340523),O=n(5859),S=n(678525),P=n(939809),j=n(19447),x=n(819267),_=["pinKey"];function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){D(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==w(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}var C=void 0!==r?r:r=n(70822),F=function(e){var t=e.reduce(function(e,t){var n,r=t.imageSizeMap,i=(null==r?void 0:r["736x"])||(null==r?void 0:r["236x"])||{},o=i.height,l=i.width,a="".concat(null!=l?l:1,"x").concat(null!=o?o:1),u=(null===(n=e[a])||void 0===n?void 0:n.times)||0;return V(V({},e),{},D({},a,{imageHeight:o,imageWidth:l,times:u+1}))},{}),n=Object.keys(t).reduce(function(e,n){return t[n].times>e.times?t[n]:e},{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(t).length>1?{imageHeight:n.imageHeight,imageWidth:n.imageWidth}:null},K=function(e,t,n,r,i,o,a,u,c,s,d,p,f,y,g,m,v){var b,h,O,P,j,_,w,T,E,k,A,I,V,D,L,C,F,K=n.imageSizeMap,H=n.details,R=void 0===H?"":H,M=236,B=236,Z="";o?(M=474,B=K&&Math.min(M/.8,M/((null!==(j=null===(_=K["564x"])||void 0===_?void 0:_.width)&&void 0!==j?j:1)/(null!==(w=null===(T=K["564x"])||void 0===T?void 0:T.height)&&void 0!==w?w:1))),Z=K&&(null===(E=K["564x"])||void 0===E?void 0:E.url)):K&&K["736x"]?(B=K&&K["736x"]&&K["736x"].height,M=K&&K["736x"]&&K["736x"].width,Z=K&&K["736x"]&&K["736x"].url):K&&K["236x"]&&(B=K&&K["236x"]&&K["236x"].height,M=K&&K["236x"]&&K["236x"].width,Z=K&&K["236x"]&&K["236x"].url),y&&g&&(B=Math.min(y*g,null!==(k=B)&&void 0!==k?k:1)),P=a?"".concat(null!==(A=null==K?void 0:null===(I=K["236x"])||void 0===I?void 0:I.url)&&void 0!==A?A:""," 1x"):o?"".concat(null!==(V=null==K?void 0:null===(D=K["564x"])||void 0===D?void 0:D.url)&&void 0!==V?V:""," 1x"):[(null==K?void 0:K["474x"])&&"".concat(null!==(L=K["474x"].url)&&void 0!==L?L:""," 2x"),(null==K?void 0:K["736x"])&&"".concat(null!==(C=K["736x"].url)&&void 0!==C?C:""," 3x"),(null==K?void 0:K.orig)&&"".concat(null!==(F=K.orig.url)&&void 0!==F?F:""," 4x")].filter(Boolean).join(", ");var W=(0,S.GH)(R,t,i),z=f?void 0:B,U=f?void 0:M,N=m?{boxHeight:null==m?void 0:m.imageHeight,boxWidth:null==m?void 0:m.imageWidth}:{boxHeight:z,boxWidth:U},G=N.boxHeight,Y=N.boxWidth;return(0,x.jsx)(l.xu,{"data-test-id":"carousel-slot-container",height:null!=G?G:void 0,width:null!=Y?Y:void 0,children:(0,x.jsx)(l.xu,{"data-test-id":"carousel-img-".concat(i),height:f?p:void 0,width:f||void 0,children:(0,x.jsx)(l.Ee,{_fixCompletedOnLoad:e,alt:W,crossOrigin:v?"anonymous":void 0,fit:f?"cover":"none",naturalHeight:null!==(b=B)&&void 0!==b?b:1,naturalWidth:null!==(h=M)&&void 0!==h?h:1,onError:u,onLoad:c,src:null!==(O=Z)&&void 0!==O?O:"",srcSet:P})})},"carousel-slot-".concat(r,"-").concat(i))},H=function(e,t){var n=e.pinId,r=e.slot,i=e.slotIndex,o=e.onError,a=e.onLoad,u=e.widthToUse,c=e.gap,s=["564x","736x","474x","236x"].map(function(e){var t;return null===(t=r.imageSizeMap)||void 0===t?void 0:t[e]}).find(function(e){return null==e?void 0:e.url})||{},d=s.url,p=s.width,f=s.height,y=r.details,g=(0,S.GH)(void 0===y?"":y,t,i);return(0,x.jsx)(l.xu,{"data-test-id":"carousel-slot-container",height:"100%",marginEnd:c,width:u,children:(0,x.jsx)(l.zd,{height:"100%",wash:!0,children:(0,x.jsx)(l.Ee,{alt:g,fit:"contain",naturalHeight:null!=f?f:1,naturalWidth:null!=p?p:1,onError:o,onLoad:a,src:null!=d?d:""})})},"carousel-slot-".concat(n,"-").concat(i))},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=A(o);if(t){var r=A(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return k(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return D(k(e=i.call.apply(i,[this].concat(n))),"state",{showBadge:!0,startImpressionTimer:!1}),D(k(e),"renderBadge",function(){var t=e.props,n=t.carouselData,r=t.isCloseup,i=t.showCarouselBadge;if(!n)return null;var o=e.state.showBadge,a=n.carouselSlots,u=n.index;return!r&&i?(0,x.jsx)(l.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:o?.8:0,transition:"opacity .3s"}},"data-test-id":"carousel-badge",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new l.Ry(1),children:(0,x.jsx)(l.xv,{color:"inverse",children:"".concat((null!=u?u:0)+1,"/").concat((null!=a?a:[]).length)})}):null}),D(k(e),"onLoadImage",function(){var t,n;e.setState({startImpressionTimer:!0}),null===(t=(n=e.props).onLoad)||void 0===t||t.call(n)}),D(k(e),"onImageLoadError",function(){var t,n;e.setState({startImpressionTimer:!1}),null===(t=(n=e.props).onError)||void 0===t||t.call(n)}),e}return n=[{key:"componentDidMount",value:function(){var e=this;this.hideBadgeTimeout=setTimeout(function(){return e.setState({showBadge:!1})},3e3)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.showBadge,r=e.carouselData,i=this.props.carouselData;if(r&&i){var o=r.index,l=i.index;n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(function(){return t.setState({showBadge:!1})},3e3)),o!==l&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}}},{key:"componentWillUnmount",value:function(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.isCloseup,o=r.carouselIndex,a=r.closeupHeight,u=r.closeupWidth,c=void 0===u?0:u,s=r.widthRatio,d=void 0===s?1:s,p=r.cropHeight,f=r.cropWidth,y=r.carouselData,g=r.disableTransition,v=r.highResOnly,h=r.lowResOnly,O=r.pinId,j=r.imageSignature,_=r.isEditMode,w=r.isDenseView,T=r.isThirdPartyAd,E=r._fixCompletedOnLoad;if(!y)return null;if(d>1||d<0)throw Error("widthRatio should be between 0 and 1 inclusive");var k=y.carouselSlots,A=null!==(t=y.index)&&void 0!==t?t:0,I=void 0!==o?o:null!=A?A:0,D=!i&&f,L=(k[I]||{}).imageSizeMap,C=Math.floor((e=i?c:D||(v?474:w?m.Lo:m.yF))*d),R=(null==L?void 0:L["236x"])||{},M=p||R.height||0,B=f||R.width||236,Z=a||M/B*C,W=F(k);return(0,x.jsxs)(l.xu,{alignItems:"center","data-test-id":"carousel-pin","data-test-image-signature":j,display:"flex",height:Z,minHeight:b.Ml,overflow:"hidden",children:[!_&&this.renderBadge(),(0,x.jsx)(P.lu,{carouselData:V(V({},y),{},{type:"canonical"}),impressionType:"Pin",isPaused:!this.state.startImpressionTimer,loggingId:O,slotIndex:null!=A?A:0,viewParameter:72,viewType:1,children:function(e){var t=e.impressionTrackerRef;return(0,x.jsx)(l.xu,{ref:t,"data-test-id":"carousel-impression-ref-".concat(O,"-").concat(A),height:Z,overflow:"hidden",position:"absolute",width:C})}},"carousel-impression-key-".concat(I)),(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:g?"":"left .3s",left:(0,S.vF)(k.length,C,e,I)}},direction:"row",display:"flex",height:"100%",left:!0,position:"relative",width:C*k.length,children:k.map(function(t,r){if(i){var o=r===k.length-1;return H({pinId:O,slot:t,slotIndex:r,onError:n.onImageLoadError,onLoad:n.onLoadImage,widthToUse:C,gap:C<e&&!o?1:0},n.props.i18n)}return K(E,n.props.i18n,t,O,r,v,h,n.onImageLoadError,n.onLoadImage,c,a,p,f,Z,C,W,T)})})]})}}],T(o.prototype,n),r&&T(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(o.Component);function M(e){var t,r,o,l=e.pinKey,a=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,_),u=(0,v.ZP)(),p=(0,j.S6)()(a.pinId),m=(0,h.F)().checkExperiment,b=(0,O.B)().isAuthenticated;o=null==l||"graphqlRef"===l.type?l:null!=p?{type:"deprecated",data:p}:null;var S=(0,y.Z)(C,o),P=(0,g.Q)(void 0!==i?i:i=n(415970),S,{useLegacyAdapter:function(e){return{}}}).childDataKey__DEPRECATED,w=(0,f.Z)(P),T=w&&V(V({},w),{},{carouselSlots:(t=w.carouselSlots,r=["236x","474x","564x","736x"].map(function(e){var n=Math.min.apply(Math,d(t.map(function(t){var n,r;return(null===(n=t.imageSizeMap)||void 0===n?void 0:null===(r=n[e])||void 0===r?void 0:r.height)||1/0}))),r=Math.min.apply(Math,d(t.map(function(t){var n,r;return(null===(n=t.imageSizeMap)||void 0===n?void 0:null===(r=n[e])||void 0===r?void 0:r.width)||1/0})));return{imageKey:e,height:n,width:r}}),t.map(function(e){return r.reduce(function(e,t){var n,r=t.imageKey,i=t.height,o=t.width;return null!==(n=e.imageSizeMap)&&void 0!==n&&n[r]?c(c({},e),{},{imageSizeMap:c(c({},e.imageSizeMap),{},s({},r,c(c({},e.imageSizeMap[r]),{},{height:i,width:o})))}):e},e)}))});return(0,x.jsx)(R,V(V({},a),{},{carouselData:T,checkExperiment:m,i18n:u,imageSignature:null==S?void 0:S.imageSignature,isAuthenticated:b}))}D(R,"defaultProps",{showCarouselBadge:!0})},647123:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(672652),i=n(191313),o=function(e){if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},l=new Set;function a(e){var t=(0,r.useCallback)(function(t){var n=function(n){n===e&&t()};return l.add(n),function(){l.delete(n)}},[e]),n=(0,r.useSyncExternalStore)(t,function(){return(0,i.qn)(e)},function(){return null}),a=(0,r.useCallback)(function(t){null===t?(0,i.L_)(e):(0,i.Nh)(e,JSON.stringify(t)),l.forEach(function(t){return t(e)})},[e]);return(0,r.useMemo)(function(){return[o(n),a]},[n,a])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/68956-afe3e074b30db28b.js.map
