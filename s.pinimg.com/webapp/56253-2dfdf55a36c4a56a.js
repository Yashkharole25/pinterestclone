"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[56253],{27063:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ContextMenuClickthroughLogging_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{kind:"InlineDataFragmentSpread",name:"getPinTrackingParamsMap_pin",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"TrackingParamsMap",kind:"LinkedField",name:"trackingParamsMap",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}]}],args:null,argumentDefinitions:[]}],type:"Pin",abstractKey:null};i.hash="9921db16d02bb8ff91ea36443cd7b45a",n.default=i},705533:function(e,n,t){t.r(n);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DebugSignalsFeedback_pin",selections:[{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debAds",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"iconUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"signalMessage",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debContentQuality",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debInclusiveProduct",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debShopping",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"SignalDecisionDict",kind:"LinkedField",name:"debTrustAndSafety",plural:!0,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="06530ceab8fc1bb7b5d868c8ffeb2afd",n.default=i},6619:function(e,n,t){t.d(n,{Z:function(){return k}});var r,i=t(672652);t(42279);var a=t(328038),l=t(798580),o=t(901855);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==s(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===s(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var d=t(214877),f=t(107366),h=t(207012),g=t(456299),p=t(558273),y=t(414131),v=t(268127),m=t(819267);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach(function(n){var r,i;r=n,i=t[n],(r=function(e){var n=function(e,n){if("object"!==b(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===b(n)?n:String(n)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a,l,o=[],s=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw i}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var S=void 0!==r?r:r=t(27063);function k(e){var n,t,r,s,u,b,_,j,k=e.children,w=e.hovered,I=e.pinKey,A=e.slotIndex,C=e.trafficSource,O=e.viewType,D=(0,d.v)().logContextEvent,E=P((0,i.useState)(),2),T=E[0],R=E[1],z=P((0,i.useState)(),2),M=z[0],F=z[1],K=(0,h.Z)(S,I),L=K.entityId,Z=K.trackedLink,B=K.link,U=Z||B||"",N=function(){R(!0)},H=(n={boardUrl:null===(s=K.board)||void 0===s?void 0:s.url,pinId:L,pinnerUserName:null===(u=K.pinner)||void 0===u?void 0:u.username,storyPinDataId:K.storyPinDataId,trackingParams:K.trackingParams,trackingParamsMap:(0,g.Z)(K)},t=(0,a.TH)(),r=(0,o.Hv)().previous,(0,l.Z)(c(c({},n),{},{location:t,previousHistory:r}))),W=(0,y.Z)({hasPin:!!K,hasPinRichMetadata:!!K.richMetadata,hasPinRichMetadataProducts:!!(null!==(b=K.richMetadata)&&void 0!==b&&b.products),hasPinRichMetadataArticle:!!(null!==(_=K.richMetadata)&&void 0!==_&&_.article),hasPinRichMetadataRecipe:!!(null!==(j=K.richMetadata)&&void 0!==j&&j.recipe),hasPinStoryPinData:!!K.storyPinData}),G=(0,v.Z)(K),J=function(){var e=G();(0,f.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:L,url:U,client_tracking_params:H,aux_data:JSON.stringify(x(x({clickthrough_type:"rightClick",objectId:L},A||{}),e))}}).then(function(n){n&&(D({event_type:12,object_id_str:L,view_type:O,view_parameter:W,aux_data:x(x({clickthrough_type:"rightClick"},A||{}),e)}),D({event_type:8948,view_type:O,object_id_str:L,view_parameter:W,aux_data:x(x({click_type:"clickthrough",closeup_navigation_type:C&&(0,p.sV)(C)?"deeplink":"click",clickthrough_type:"rightClick"},A||{}),e)}))})},V=function e(n){if(T){var t;/^\/pin/.test(null===(t=n.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(J(),R(!1)),window.removeEventListener(M,e,!1)}};return(0,i.useEffect)(function(){var e,n,t,r,i,a;void 0!==(null===(e=window)||void 0===e?void 0:null===(n=e.document)||void 0===n?void 0:n.hidden)?F("visibilitychange"):void 0!==(null===(t=window)||void 0===t?void 0:null===(r=t.document)||void 0===r?void 0:r.msHidden)?F("msvisibilitychange"):void 0!==(null===(i=window)||void 0===i?void 0:null===(a=i.document)||void 0===a?void 0:a.webkitHidden)&&F("webkitvisibilitychange")},[]),(0,i.useEffect)(function(){return T&&window&&window.addEventListener(M,V,!1),function(){return window.removeEventListener(M,V)}},[T,M]),(0,i.useEffect)(function(){return w&&window.addEventListener("contextmenu",N),function(){window.removeEventListener("contextmenu",N)}},[w]),(0,m.jsx)(i.Fragment,{children:k})}},343902:function(e,n,t){t.d(n,{N:function(){return l},Z:function(){return a}});var r=t(684404),i=t(819267);function a(e){var n=e.children,t=e.fullWidth;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":"pointer-events-wrapper",children:n})}function l(e){var n=e.children;return e.enabled?(0,i.jsx)(a,{children:n}):n}},891162:function(e,n,t){t.d(n,{Q6:function(){return c},qe:function(){return s},yU:function(){return u}});var r=t(520893),i=function(e,n){return e.length===n.length&&e.every(function(e,t){return e===n[t]})},a=function(e){return e};function l(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return function(r){var i=[];return function(){for(var a=arguments.length,l=Array(a),o=0;o<a;o++)l[o]=arguments[o];var s=i.find(function(e){return n(e.args,t(l))});if(s)return s.result;var u=r.apply(void 0,l);return i.push({args:t(l),result:u}),e&&i.length>e&&i.shift(),u}}}var o=l();n.ZP=o;var s=l(1),u=l(void 0,i,function(e){return[JSON.stringify(e)]}),c=l(0,function(e,n){return e.length===n.length&&e.every(function(e,t){return(0,r.Z)(e,n[t])})})},414131:function(e,n,t){t.d(n,{Z:function(){return r}});function r(e){var n=e.hasPin,t=e.hasPinRichMetadata,r=e.hasPinRichMetadataProducts,i=e.hasPinRichMetadataArticle,a=e.hasPinRichMetadataRecipe,l=e.hasPinStoryPinData;if(n){if(t)return r?144:i?141:a?145:139;if(l)return 157}return 140}},361747:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(684404),i=t(140017),a=t(819267);function l(e){var n=e.height,t=e.isDenseView,l=e.rounding,o=e.width,s=e.color,u=(0,i.ZP)();return(0,a.jsx)(r.xu,{alignItems:"center",color:s||"default","data-test-id":"unavailable-pin",display:"flex",height:n,justifyContent:"center",overflow:"hidden",position:"relative",rounding:l,width:o,children:(0,a.jsxs)(r.kC,{alignItems:"center",direction:"column",children:[(0,a.jsx)(r.xu,{paddingY:t?2:4,children:(0,a.jsx)(r.JO,{accessibilityLabel:u._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,a.jsx)(r.xv,{weight:"bold",children:u._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!t&&(0,a.jsx)(r.xu,{paddingY:1,children:(0,a.jsx)(r.xv,{children:u._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},156032:function(e,n,t){t.d(n,{Z:function(){return C}});var r,i=t(672652);t(42279);var a=t(328038),l=t(684404),o=t(510989),s=t(207012),u=t(343902),c=t(608516),d=t(477458),f=t(149722),h=t(819267),g=function(e){var n,t,r=e.signal,i=e.anchor,a=e.setShowFlyout,o=e.setStore,s=(0,d.Z)(),u=s.hovered,c=s.onMouseEnter,f=s.onMouseLeave,g=function(e){a(function(e){return!e}),o(e)};return(0,h.jsx)(l.iP,{onMouseEnter:c,onMouseLeave:f,onTap:function(){return g(r)},rounding:"pill",children:(0,h.jsxs)(l.xu,{ref:i,alignItems:"center",color:u?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,h.jsx)(l.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,minWidth:24,rounding:"circle",children:(0,h.jsx)(l.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,h.jsx)(l.Ee,{alt:"",color:null!==(n=r.backgroundColor)&&void 0!==n?n:"",naturalHeight:1,naturalWidth:1,src:null!==(t=r.iconUrl)&&void 0!==t?t:""})})}),(0,h.jsx)(l.xv,{color:"inverse",size:"200",weight:"bold",children:r.signalMessage})]})})},p=t(107366),y=t(140017),v=t(13848),m=t(454514);function b(e){var n=(0,y.ZP)(),t=e.onHide,r=(0,h.jsx)(l.xv,{children:n._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,h.jsx)(m.ZP,{onHide:t,text:r})}var _=function(e){var n=e.anchor,t=e.onDismiss,r=e.pinId,i=e.signal,a=(0,y.ZP)(),o=(0,f.Z)(),s=(0,v.F9)().showOneToast;if(!o.isEmployee)return null;var u=i.backgroundColor,c=i.iconUrl,d=i.signalId,g=i.signalMessage;return(0,h.jsx)(l.mh,{children:(0,h.jsx)(l.J2,{anchor:n,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(l.xu,{padding:4,width:"100%",children:[(0,h.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(l.X6,{size:"400",children:a._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(l.xu,{paddingY:3,children:(0,h.jsxs)(l.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,h.jsx)(l.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:c?(0,h.jsx)(l.Ee,{alt:a._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:c}):(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=u?u:""}},height:40,width:40})}),(0,h.jsx)(l.xv,{size:"200",children:g})]})}),(0,h.jsx)(l.xu,{marginBottom:3,children:(0,h.jsx)(l.xv,{size:"200",children:a._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(l.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,h.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:function(){(0,p.Z)({url:"/v3/pins/".concat(r,"/signal_request_review/"),method:"POST",data:{signal_id:d,user:o.id}}),t(),s(function(e){var n=e.hideToast;return(0,h.jsx)(b,{onHide:n})})},size:"md",text:a._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,h.jsx)(l.zx,{color:"gray",fullWidth:!0,onClick:t,size:"md",text:a._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})};function x(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a,l,o=[],s=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw i}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return P(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return P(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function j(e){var n=e.signals,t=e.pinId,r=x((0,i.useState)(!1),2),a=r[0],s=r[1],d=(0,i.useRef)(null),f=x((0,i.useState)(n[0]),2),p=f[0],y=f[1];return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(o.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(l.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(u.Z,{children:(0,h.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:n.map(function(e){return(0,h.jsx)(l.xu,{marginEnd:2,children:(0,h.jsx)(g,{anchor:d,setShowFlyout:s,setStore:y,signal:e})},e.signalId)})})})})})}),a&&(0,h.jsx)(_,{anchor:d.current,onDismiss:function(){return s(!1)},pinId:t,signal:p})]})}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var k=function(e){var n,t=e.anchor,r=e.onDismiss,a=e.pinId,o=e.signals,s=(0,y.ZP)(),u=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(0))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a,l,o=[],s=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw i}}return o}}(n,2)||function(e,n){if(e){if("string"==typeof e)return S(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S(e,n)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],d=u[1],g=(0,f.Z)(),m=(0,v.F9)().showOneToast;if(!g.isEmployee)return null;var _=o.map(function(e){var n=e.signalMessage;return{href:"#",text:null!=n?n:""}}),x=o[c],P=x.backgroundColor,j=x.iconUrl,k=x.signalId,w=x.signalMessage,I=function(e){d(e.activeTabIndex)};return(0,h.jsx)(l.mh,{children:(0,h.jsx)(l.J2,{anchor:t,idealDirection:"right",onDismiss:r,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(l.xu,{padding:4,width:"100%",children:[o.length>1&&(0,h.jsx)(l.xu,{marginBottom:4,overflow:"scrollX",padding:1,children:(0,h.jsx)(l.mQ,{activeTabIndex:c,onChange:function(e){var n=e.event,t=e.activeTabIndex,r=e.dangerouslyDisableOnNavigation;n.preventDefault(),r(),I({activeTabIndex:t})},tabs:_})}),(0,h.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(l.X6,{size:"400",children:s._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(l.xu,{paddingY:3,children:(0,h.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,h.jsx)(l.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:j?(0,h.jsx)(l.Ee,{alt:s._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:j}):(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null!=P?P:""}},height:40,width:40})}),(0,h.jsx)(l.xv,{size:"200",children:w})]})}),(0,h.jsx)(l.xu,{marginBottom:3,children:(0,h.jsx)(l.xv,{size:"200",children:s._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:function(){(0,p.Z)({url:"/v3/pins/".concat(a,"/signal_request_review/"),method:"POST",data:{signal_id:k,user:g.id}}),r(),m(function(e){var n=e.hideToast;return(0,h.jsx)(b,{onHide:n})})},size:"md",text:s._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review')}),(0,h.jsx)(l.zx,{color:"gray",fullWidth:!0,onClick:r,size:"md",text:s._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel')})]})]})})})};function w(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var I=void 0!==r?r:r=t(705533);function A(e){var n,t=e.signals,r=e.pinId,a=t[0],s=a.backgroundColor,f=a.iconUrl,g=a.signalMessage,p=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a,l,o=[],s=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=a.call(t)).done)&&(o.push(r.value),o.length!==n);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw i}}return o}}(n,2)||function(e,n){if(e){if("string"==typeof e)return w(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,n)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=p[0],v=p[1],m=(0,i.useRef)();return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(o.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(l.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(u.Z,{children:(0,h.jsx)(d.q,{children:function(e){var n=e.hovered,t=e.onMouseEnter,r=e.onMouseLeave;return(0,h.jsx)(l.iP,{onMouseEnter:t,onMouseLeave:r,onTap:function(){return v(function(e){return!e})},rounding:"pill",children:(0,h.jsxs)(l.xu,{ref:m,alignItems:"center",color:n?"dark":"transparentDarkGray",display:"flex",padding:3,rounding:"pill",children:[(0,h.jsx)(l.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",marginEnd:1,rounding:"circle",width:24,children:(0,h.jsx)(l.xu,{height:20,overflow:"hidden",rounding:"circle",width:20,children:(0,h.jsx)(l.Ee,{alt:"",color:null!=s?s:"",naturalHeight:1,naturalWidth:1,src:null!=f?f:""})})}),(0,h.jsx)(l.xv,{color:"inverse",size:"200",weight:"bold",children:g})]})})}})})})})}),y&&m&&m.current&&(0,h.jsx)(k,{anchor:m.current,onDismiss:function(){return v(!1)},pinId:r,signals:t})]})}function C(e){var n=e.pinKey,t=(0,s.Z)(I,n),r=(0,f.Z)(),l=(0,a.TH)().search,o=(0,i.useMemo)(function(){return new URLSearchParams(l)},[l]);if(!r.isEmployee)return null;var u=t.entityId,c=t.debAds,d=t.debContentQuality,g=t.debInclusiveProduct,p=t.debShopping,y=t.debTrustAndSafety;if(c)return(0,h.jsx)(A,{pinId:u,signals:c});if(d)return(0,h.jsx)(A,{pinId:u,signals:d});if(g){if("skin_tone"===o.get("type")){var v=g.filter(function(e){return"visual_signals_hair_pattern_v1"!==e.signalId});return(0,h.jsx)(j,{pinId:u,signals:v})}var m=g.filter(function(e){return"visual_body_analyses_v2_0"!==e.signalId});return(0,h.jsx)(j,{pinId:u,signals:m})}return p?(0,h.jsx)(A,{pinId:u,signals:p}):y?(0,h.jsx)(A,{pinId:u,signals:y}):null}},923368:function(e,n,t){t.d(n,{Nb:function(){return o},Of:function(){return s},YO:function(){return l},x4:function(){return c}});var r=t(672652),i=t(891162),a=t(392029),l=function(e){var n=e.showProductDetailPage,t=e.isLargerPane,r=e.showCloseupContentRight;return n&&t?r?a.Uj:a.zT:1},o=(0,i.qe)(function(e){return{paneWidth:e.paneWidth,pdpCarouselSlotToPaneRatio:e.pdpCarouselSlotToPaneRatio,showCloseupContentRight:e.showCloseupContentRight,showProductDetailPage:e.showProductDetailPage,viewportSize:e.viewportSize,maxWidth:e.maxWidth,descriptionPaneWidth:e.descriptionPaneWidth,isCloseupRelatedPinsAboveTheFoldEnabled:e.isCloseupRelatedPinsAboveTheFoldEnabled,isCommentThreadExpanded:e.isCommentThreadExpanded,isPinNoteExpanded:e.isPinNoteExpanded,isProductDetailsExpanded:e.isProductDetailsExpanded,isShoppingModuleExpanded:e.isShoppingModuleExpanded,setIsCommentThreadExpanded:e.setIsCommentThreadExpanded,setIsPinNoteExpanded:e.setIsPinNoteExpanded,setIsProductDetailsExpanded:e.setIsProductDetailsExpanded,setIsShoppingModuleExpanded:e.setIsShoppingModuleExpanded,stackedCloseupEnabled:e.stackedCloseupEnabled,isInRemoveMagnifyingGlassVariant:e.isInRemoveMagnifyingGlassVariant,setAbortNoActionPlacementTimeout:e.setAbortNoActionPlacementTimeout}}),s={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:a.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:a.u6,descriptionPaneWidth:a.u6-a.Gg,isCloseupRelatedPinsAboveTheFoldEnabled:!1,isCommentThreadExpanded:!1,isPinNoteExpanded:!1,isShoppingModuleExpanded:!1,stackedCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1,setAbortNoActionPlacementTimeout:function(){},setIsShoppingModuleExpanded:function(){}},u=(0,r.createContext)(s);function c(){var e=(0,r.useContext)(u);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}n.ZP=u},392029:function(e,n,t){t.d(n,{$T:function(){return b},CI:function(){return l},Ch:function(){return s},ER:function(){return m},Gb:function(){return u},Gg:function(){return i},Hf:function(){return S},Ie:function(){return g},J6:function(){return h},KP:function(){return p},Kn:function(){return o},O5:function(){return _},Uj:function(){return c},YE:function(){return x},bx:function(){return y},cg:function(){return P},d2:function(){return f},g9:function(){return v},iB:function(){return k},rv:function(){return j},u6:function(){return a},zT:function(){return d}});var r=t(684404),i=508,a=1016,l=488,o=992,s=672,u=1176,c=.6,d=.84,f=40,h=16,g=72,p=740,y=912,v=32,m=16,b=24,_=2,x=16,P=16,j=1,S=new r.Ry(5),k={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/56253-2dfdf55a36c4a56a.js.map
