(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[39333,31076,80659,99874],{340723:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheckQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},a],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c881f56582aebd78b7f3f625abfe959aa6d034bcd97439d6b4224d46c1c5f8cc",metadata:{},name:"AlreadyPinnedCheckQuery",operationKind:"query",text:null}};l.hash="bbb62c6d56086b286c3b53ed5e2cff4f",t.default=l,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(l.default||l)},410661:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="6bb1a587f71f85424aa51845831862d4",t.default=r},308322:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheck_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="3caf9424c2af74d2b11a6ea682b57d1b",t.default=r},786903:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"Pin",abstractKey:null};r.hash="18c3db3fbed169f50cffd214f66ddd8e",t.default=r},43737:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};r.hash="f12c153dafdb70970e02775ea0db67c2",t.default=r},245160:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPickerList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="76b22cc5d658befe1dc27454d3aee77f",t.default=r},569483:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPicker_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};r.hash="76215b7b40cb02e76b77e58c8765d0d1",t.default=r},7209:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardTitleSuggestionList_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:r,storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};o.hash="56ef15525cc9a2e668228985788e038e",t.default=o},580986:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardsPane_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPicker_pin"}],type:"Pin",abstractKey:null};r.hash="56f620fbd63abf8f7cb32f9a378198f8",t.default=r},775793:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCreateCreatorCard",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"User",abstractKey:null};r.hash="b4d4b866bb99587a83f9c07c2d76f473",t.default=r},960909:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l,c={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"PinCreateSuccessQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinCreateSuccessQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"PinCreateSuccessQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null},l],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"d37a62552993e3bb6d7936d6cfb2776083bce460be609595d75b67fc31e3aa33",metadata:{},name:"PinCreateSuccessQuery",operationKind:"query",text:null}};c.hash="a235cfa70f84227417924b4cb93aab10",t.default=c,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(c.default||c)},550366:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCreateSuccessQuery_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinCreateCreatorCard"}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};o.hash="b5914e2a9376d4e19331be8b7c6d5e4e",t.default=o},109500:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheck_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="d928a4e793c8e81567357b1faa71d2e3",t.default=r},505406:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};r.hash="1a4583782792fbfe92015cb2dbe50f70",t.default=r},450634:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:r,storageKey:null},{kind:"InlineDataFragmentSpread",name:"getPinTrackingParamsMap_pin",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,concreteType:"TrackingParamsMap",kind:"LinkedField",name:"trackingParamsMap",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}]}],args:null,argumentDefinitions:[]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null}]}],type:"Pin",abstractKey:null};o.hash="2e3ebcb8c63650cfd29ec3d68c4b1456",t.default=o},882455:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"ShuffleAsset",abstractKey:null};r.hash="58c24e25a76e7a1c4533f3b07f490517",t.default=r},738258:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardsPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_pin"}],type:"Pin",abstractKey:null};r.hash="616d5be8fea6092b51f23b548a1a5dca",t.default=r},945950:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_shuffle_asset",selections:[{args:null,kind:"FragmentSpread",name:"PinPane_shuffle_asset"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};r.hash="4435ca5e135b834ea8a6425f68eb2f7a",t.default=r},77256:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinAddSection_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};o.hash="b3ec14d29962e56f80dd52e7e6d7a6d9",t.default=o},43607:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinBoardPicker_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPickerList_pin"},{args:null,kind:"FragmentSpread",name:"BoardTitleSuggestionList_pin"}],type:"Pin",abstractKey:null};o.hash="c58f35d70fea0965bfcee8460bc7f26c",t.default=o},709140:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinCreateBoardButton_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null}],type:"Pin",abstractKey:null};o.hash="1612c2df94f42990b3d4f6ccede72a70",t.default=o},560173:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l,c,s,u=(r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],o=[{kind:"Variable",name:"pin",variableName:"pinId"}],a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},s=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{fragment:{argumentDefinitions:r,kind:"Fragment",metadata:null,name:"RepinPageQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"RepinPage_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"RepinPageQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},a,{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},c,a,l],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"TrackingParamsMap",kind:"LinkedField",name:"trackingParamsMap",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},c],storageKey:null},c],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"61ba87499f9c67761ba3bbd02c865cf8458b8f57dbff84f4990ba9486f30f59a",metadata:{},name:"RepinPageQuery",operationKind:"query",text:null}});u.hash="d3e1e4d941555ea10fa16343ceeace98",t.default=u,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(u.default||u)},870893:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinPage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"useAndUpdatePinTrackingParamsMap_pin"},{args:null,kind:"FragmentSpread",name:"RepinAddSection_pin"},{args:null,kind:"FragmentSpread",name:"RepinBoardPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinSectionPicker_pin"},{args:null,kind:"FragmentSpread",name:"RepinCreateBoardButton_pin"}],type:"Pin",abstractKey:null};o.hash="f6c1c0969b1887b1616fcfdadcf621cb",t.default=o},35934:function(e,t,n){"use strict";n.r(t);var r,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RepinSectionPicker_pin",selections:[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[r],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};o.hash="f0b2fbadfba92480a2077999a000a308",t.default=o},750441:function(e,t,n){"use strict";n.r(t);var r={kind:"InlineDataFragment",name:"getPinTrackingParamsMap_pin"};r.hash="57357f2b0e006ba81b2f258ce3430e30",t.default=r},59363:function(e,t,n){"use strict";n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAndUpdatePinTrackingParamsMap_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"TrackingParamsMap",kind:"LinkedField",name:"trackingParamsMap",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null}],storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="79cec8fe803f71bf5b269a0cd517ae50",t.default=r},733935:function(e,t,n){"use strict";n.r(t);var r,o,i,a,l,c={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,concreteType:"BoardTitleSuggestions",kind:"LinkedField",name:"boardTitleSuggestions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},l={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useFetchBoardTitleSuggestionsQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null},l],storageKey:null}]},params:{id:"0bc9194565339eb122f7cb6b1d5e725f87ffaa6eb7902cc6cb99123110ca9260",metadata:{},name:"useFetchBoardTitleSuggestionsQuery",operationKind:"query",text:null}};c.hash="916a5869ddd0c416de3fc6f310e60323",t.default=c,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(c.default||c)},916737:function(e,t,n){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/repin/x"]=function(){return n(818133).Z}},231199:function(e,t,n){"use strict";n.d(t,{X_:function(){return l},Xo:function(){return f},Xv:function(){return d},fW:function(){return p},h_:function(){return u},vF:function(){return s}});var r=n(953565);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var a=function(e,t){var n="client.partner.quick_promote_button.".concat(e);(0,r.nP)(n,{sampleRate:1,tags:{app_type:"web",location:t}})},l=function(e){e&&e.utm_campaign&&(0,r.nP)("client.partner.account.convert_attempt.utm_campaign.exists",{sampleRate:1,tags:e})},c=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;a({event_type:e,component:t,element:10148,view_type:n,aux_data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r)})},s=function(e,t,n,r,o,i){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};a(t,n),c(r,o,i,l,e)},u=function(e){e({event_type:8217})},d=function(){(0,r.nP)("client.partner.biz_nux_v3.nux_start",{sampleRate:1,tags:{app_type:"web"}})},f=function(){(0,r.nP)("client.partner.biz_nux_v3.nux_end",{sampleRate:1,tags:{app_type:"web"}})},p=function(e){var t="client.partner.biz_nux_v3.render.".concat(e);(0,r.nP)(t,{sampleRate:1,tags:{app_type:"web"}})}},810174:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var r,o,i=n(672652);n(42279);var a=n(328038),l=n(684404),c=n(231199),s=n(477458),u=n(819267);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function h(e){var t=e.accessibilityLabel,n=e.buttonColor,r=e.buttonText,o=e.handleClick,i=e.icon;return(0,u.jsx)(s.q,{children:function(e){var a=e.active,c=e.focused,s=e.hovered,d=e.onBlur,f=e.onFocus,h=e.onMouseDown,m=e.onMouseEnter,b=e.onMouseLeave,g=e.onMouseUp,v={borderRadius:24};return s&&(v=p(p({},v),{},{backgroundColor:"primary"===n?"rgb(216,0,33)":"rgb(226, 226, 226)"})),a&&(v=p(p({},v),{},{backgroundColor:"primary"===n?"rgb(207,0,31)":"rgb(218, 218, 218)"})),c&&(v=p(p({},v),y)),(0,u.jsx)("button",{"aria-label":t,onBlur:d,onClick:o,onFocus:f,onMouseDown:h,onMouseEnter:m,onMouseLeave:b,onMouseUp:g,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},children:(0,u.jsx)(l.xu,{color:n,dangerouslySetInlineStyle:{__style:v},rounding:2,children:(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},display:"flex",minHeight:40,children:["share"===i&&(0,u.jsxs)(l.xu,{children:[(0,u.jsx)(l.JO,{accessibilityLabel:"",color:"default",icon:"share",size:18}),(0,u.jsx)(l.xu,{paddingX:3})]}),(0,u.jsx)(l.xv,{align:"center",color:"primary"===n?"light":"default",weight:"bold",children:r})]})})})}})}var m=n(899378),b=n(214877),g=n(207012),v=n(673500),_=n(140017),P=n(339001),S=n(340523),j=n(757640),x=n(149722),w=n(785059),O=n(199677),I=n(478381),A=n(465615),k=n(540363),E=n(751279);function T(e){var t=e.color,n=e.description,r=e.imageUrl,o=e.link;return(0,u.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:!r&&t&&o?(0,u.jsx)(l.xu,{width:236,children:(0,u.jsx)(E.Z,{color:t,description:n,url:o})}):(0,u.jsx)(l.zd,{rounding:2,width:236,children:(0,u.jsx)("img",{alt:n,src:r})})})}var C=n(217006),R=n(156591);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function F(e,t){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==D(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D(t)?t:String(t)}var N={width:"100%"},M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=z(a);if(t){var r=z(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return Z(e)}(this,e)});function a(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var e,t,n,r,l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return t=Z(e=o.call.apply(o,[this].concat(c))),n="videoRef",r=(0,i.createRef)(),(n=L(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e}return n=[{key:"componentDidMount",value:function(){var e=this.props.video;this.videoRef.current&&(this.videoRef.current.currentTime=e.thumbnail)}},{key:"render",value:function(){var e=this.props.video,t=(0,C.Z)(e.customCoverImg||e,236);return(0,u.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:(0,u.jsxs)(l.xu,{height:t,position:"relative",rounding:2,width:236,children:[(0,u.jsx)(l.zd,{height:"100%",rounding:2,wash:!0,width:"100%",children:e.customCoverImg?(0,u.jsx)(l.Ee,{alt:e.customCoverImg.name,naturalHeight:e.customCoverImg.height,naturalWidth:e.customCoverImg.width,src:e.customCoverImg.src}):(0,u.jsx)("video",{ref:this.videoRef,muted:!0,src:e.src,style:N,children:(0,u.jsx)("track",{kind:"captions"})})}),(0,u.jsx)(l.xu,{alignItems:"end",bottom:!0,display:"flex",justifyContent:"start",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,u.jsx)(R.Z,{duration:1e3*e.duration})})]})})}}],B(a.prototype,n),r&&B(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(i.Component);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=W(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==K(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===K(t)?t:String(t)}function V(e,t){return(V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=q(i);if(t){var r=q(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return n=[{key:"renderPinCreateSuccessImage",value:function(){var e=this.props,t=e.color,n=e.description,r=e.imageUrl,o=e.link,i=e.websiteMedia;return i&&i.length>1?(0,u.jsx)(l.xu,{maxHeight:540,overflow:"scrollY",padding:8,children:(0,u.jsx)(l.Rk,{columnWidth:160,items:i,minCols:3,renderItem:function(e){var t=e.data;return(0,u.jsx)(T,{description:n,imageUrl:t.src})}})}):(0,u.jsx)(T,{color:t,description:n,imageUrl:r,link:o})}},{key:"render",value:function(){var e=this.props.relatedBoard;if(!e.isLoaded)return(0,u.jsx)(l.xu,{minHeight:250,children:(0,u.jsx)(l.$j,{accessibilityLabel:this.props.i18n._('See suggested board', 'suggested board to follow after pinnning', 'suggested board to follow after pinnning'),show:!0})});if(e.data&&!e.data.length){var t=this.props.video;return(0,u.jsx)(l.xu,{marginTop:-8,paddingY:8,children:t?(0,u.jsx)(M,{video:t}):this.renderPinCreateSuccessImage()})}return null}}],G(i.prototype,n),r&&G(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(i.PureComponent);function Q(e){var t=(0,_.ZP)(),n=(0,x.Z)(),r=(0,w.Z)(),o=(0,O.lJ)(n,r),i=(0,j.Z)({name:"RelatedBoardForPinRandomFeedResource",options:{page_size:1,pin:e.pinId,orbac_subject_id:o},noCache:!0});return(0,u.jsx)(Y,H(H({},e),{},{i18n:t,relatedBoard:i}))}var X=n(953565),$=void 0!==r?r:r=n(550366),J=void 0!==o?o:o=n(960909);function ee(e){var t=e.boardName,n=e.color,r=e.description,o=e.hideHeader,s=e.imageUrl,d=e.link,f=e.onClose,p=e.openNewTab,y=e.isQuickPromotableByPinner,E=e.pinId,T=e.sectionName,C=e.siteType,R=e.video,D=e.websiteMedia,B=(0,_.ZP)(),F=(0,b.v)().logContextEvent,Z=(0,a.k6)(),z=(0,x.Z)(),L=(0,w.Z)(),N=(0,O.lJ)(z,L),M=(0,(0,S.F)().checkExperiment)("web_pdm_pin_success_create_gql").anyEnabled,K=(0,v.Z)({strategy:M?"GRAPHQL":"LEGACY",query:J,variables:{pinId:E},options:{fetchPolicy:"store-or-network"},transformGraphQL:function(e){var t;return(null===(t=e.v3GetPinQuery)||void 0===t?void 0:t.__typename)==="V3GetPin"?e.v3GetPinQuery.data:null},useGetLegacyData:function(e){var t=e.pinId;return(0,j.Z)({name:"PinResource",options:{id:t,field_set_key:"detailed",orbac_subject_id:N}}).data}}),U=(0,g.Z)($,K),H=function(){return y&&3!==C&&(0,m.su)(z)};(0,i.useEffect)(function(){H()?((0,c.vF)(F,I.NH.RENDER,I.Xc.PIN_CREATE_SUCCESS_PINNER,120,207),(0,X.nP)("web.pin_create.success.promote")):(0,X.nP)("web.pin_create.success.send"),(0,X.nP)("web.pin_create.success.default")},[]);var G=(0,A.Z)({currentSiteType:C,destinationSiteType:0,inputPath:"/pin/".concat(E)}),W=T?(0,P.nk)(B._('Saved to {{ sectionName }} in {{ boardName }}', ' - ', ' -- '),{boardName:t,sectionName:T}):(0,P.nk)(B._('Saved to {{ boardName }}', ' - ', ' -- '),{boardName:t}),V=U&&U.linkDomain&&U.linkDomain.officialUser,q=z.isAuth&&V&&V.entityId!==z.id&&!V.followedByMe;return(0,u.jsx)(l.xu,{"data-test-id":"saved-pin-modal",minWidth:500,children:(0,u.jsxs)(l.xu,{color:"default",rounding:2,width:"auto",children:[o?null:(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(l.xu,{paddingX:6,paddingY:4,children:(0,u.jsx)(l.X6,{size:"500",children:W})}),(0,u.jsx)(l.iz,{})]}),!!V&&q&&(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(l.xu,{paddingX:6,paddingY:3,children:(0,u.jsx)(k.Z,{userKey:V})}),(0,u.jsx)(l.iz,{})]}),(0,u.jsx)(Q,{color:n,description:void 0===r?"":r,imageUrl:s,link:d,pinId:E,video:R,websiteMedia:D}),(0,u.jsx)(l.iz,{}),(0,u.jsx)(l.xu,{paddingX:6,paddingY:2,children:(0,u.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[!H()&&(0,u.jsx)(h,{accessibilityLabel:B._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),buttonColor:"secondary",buttonText:B._('Send', 'Text for button to send this pin', 'Text for button to send this pin'),handleClick:function(){Z.push("/pin/".concat(E,"/?share=true"))},icon:"share",tabIndex:0}),(0,u.jsx)(l.xu,{"data-test-id":"seeItNow",paddingX:1,children:(0,u.jsx)(l.ZP,{color:z.isAuth&&z.isPartner||H()?"gray":"red",dataTestId:z.isAuth&&z.isPartner||H()?"gray-button-link":"red-button-link",href:G,onClick:function(){(0,c.vF)(F,I.NH.DISMISS,I.Xc.PIN_CREATE_SUCCESS_PINNER,123,207),f()},target:p?"blank":null,text:B._('See it now', 'pinCreateSuccess.seeItNow', 'Text for button that takes user to see their new Pin')})}),H()&&(0,u.jsx)(l.xu,{paddingX:1,children:(0,u.jsx)(l.zx,{color:"red",onClick:function(){(0,c.vF)(F,I.NH.CLICK,I.Xc.PIN_CREATE_SUCCESS_PINNER,101,207),(0,m.Pw)({history:Z,pinId:E}),f()},text:B._('Promote your Pin', 'Text for button to that takes users to promote a Pin', 'Text for button to that takes users to promote a Pin')})})]})})]})})}},251448:function(e,t,n){"use strict";n.d(t,{CB:function(){return m},y9:function(){return h}});var r=n(672652),o=n(342513),i=n(684404),a=n(107366),l=n(930837),c=n(140017),s=n(819267);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t,n=e.onConfirm,o=(0,c.ZP)(),d=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1],y=function(){p(!0),(0,a.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,s.jsx)(l.ZP,{accessibilityModalLabel:o._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,s.jsxs)(i.kC,{gap:{row:2,column:0},justifyContent:"end",children:[f?(0,s.jsx)(i.zx,{color:"gray",disabled:f,fullWidth:!0,onClick:y,size:"lg",text:o._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent')}):(0,s.jsx)(i.zx,{color:"gray",disabled:f,fullWidth:!0,onClick:y,size:"lg",text:o._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email')}),(0,s.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:n,size:"lg",text:o._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required')})]}),heading:o._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:n,role:"alertdialog",children:(0,s.jsx)(i.xu,{padding:8,children:(0,s.jsx)(i.xv,{align:"center",size:"300",children:o._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})};function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,o.Z)("EmailVerificationReminderModal"),y=p.Provider,h=p.useHook;function m(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1],l=(0,r.useMemo)(function(){return{showEmailVerificationReminderModal:function(){a(!0)}}},[]);return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(y,{value:l,children:n}),i&&(0,s.jsx)(d,{onConfirm:function(){a(!1)}})]})}},901855:function(e,t,n){"use strict";n.d(t,{Hv:function(){return h},aX:function(){return g},nK:function(){return v}});var r=n(672652),o=n(328038),i=n(342513),a=n(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=(0,i.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),y=p.Provider,h=p.useHook,m=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function b(e,t){var n,r={action:t.type,location:t.location,match:t.match};if(t.location===(null===(n=e.current)||void 0===n?void 0:n.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&m(e.forward[0].location)===m(r.location))return f(f({},e),{},{forward:e.forward.slice(1),current:f(f({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(c(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});return f(f({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(c(e.forward)):e.forward,current:f(f({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return f(f({},e),{},{forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[].concat(c(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return f(f({},e),{},{current:r});default:return e}}function g(){var e=h(),t=e.current,n=e.previous;return(0,r.useMemo)(function(){return t?n.concat(t):n},[t,n])}function v(e){var t,n=e.children,i=(0,o.k6)(),l=(0,o.TH)(),c=(0,o.$B)(),u={forward:[],current:{action:i.action,location:l,match:c},previous:[]},d=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(b,u))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||s(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=d[0],p=d[1];return(0,r.useEffect)(function(){p({type:i.action,location:l,match:c})},[l]),(0,a.jsx)(y,{value:f,children:n})}},705318:function(e,t){"use strict";var n=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){var r=this._uidToData[e];r||(r=new n(e,t),this._uidToData[e]=r,this._numItems+=1),this._moveToFront(r),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){var t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){var t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1},t.Z=r},704666:function(e,t,n){"use strict";var r=n(934378),o=n(88682);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},s=function(e){var t={};return e&&(t={objectiveTypes:[e]}),t},u={overview:function(){return"/"},reporting:function(e){var t=e.objectiveType||null;delete e.objectiveType;var n=l(l({},e),s(t));return(0,o.Z)("/reporting/campaigns/",n)},reportingAdGroup:function(e){var t=e.campaignId,n=e.objectiveType,r=e.showAllEntities,i=e.adGroupId,a=e.message,u=l(l(l(l({campaignIds:[t]},r?c:{}),s(n)),i?{adGroupIds:[i]}:{}),{},{message:a});return(0,o.Z)("/reporting/adgroups/",u)},campaign:function(e){var t=e.id,n=e.objectiveType;return(0,o.Z)("/reporting/adgroups/",l({campaignIds:[t]},s(n)))},editCampaign:function(e){return e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({campaignId:e.id,view:"campaign"})},adgroup:function(e){var t=e.id,n=e.objectiveType,r=e.showAllEntities,i=e.pinPromotionId,a=e.campaignId;if("TEMPORARY_SHOPPING"===n||"CATALOG_SALES"===n)return(0,o.Z)("/reporting/productgroups/",l({adGroupIds:[t]},s(n)));var u=r?c:{},d=a?{campaignIds:[a]}:{},f=i?{pinPromotionIds:[i]}:{};return(0,o.Z)("/reporting/ads/",l(l(l(l({adGroupIds:[t]},s(n)),u),f),d))},editAdGroup:function(e){return e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({adGroupId:e.id,view:"adgroup"})},pinPromotion:function(e){var t=e.id,n=e.adFilter,r=n?{adFilter:n}:{};return(0,o.Z)("/reporting/ads/",l({pinPromotionIds:[t]},r))},editPinPromotion:function(e){var t=e.isCreatingPins?{isCreatingPins:!0}:{},n=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return u.editV2(l(l({adGroupId:e.adGroupId,view:"ad"},n),t))},productGroup:function(e){var t=e.id,n=e.name;return(0,o.Z)("/reporting/productgroups/",{productGroupIds:[t],name:n})},campaigns:function(){return"/reporting/campaigns/"},adgroups:function(){return"/reporting/adgroups/"},ads:function(){return"/reporting/ads/"},bulkEdit:function(e){var t=e.entity_level,n=e.ids;return(0,o.Z)("/ads/bulk_edit/",{entity_level:t,ids:n})},productgroups:function(){return"/reporting/productgroups/"},productitems:function(){return"/reporting/productitems/"},campaignNegativeKeywords:function(){return"/reporting/campaignNegativeKeywords/"},campaignSearchQueries:function(){return"/reporting/campaignSearchQueries/"},adGroupNegativeKeywords:function(){return"/reporting/adGroupNegativeKeywords/"},adGroupPositiveKeywords:function(){return"/reporting/adGroupPositiveKeywords/"},adGroupSearchQueries:function(){return"/reporting/adGroupSearchQueries/"},ad:function(e){return u.pinPromotion(e)},campaignMode:function(e){return(0,o.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)},create:function(e){var t=e.campaignId,n=e.objectiveType,r=e.partialCreate,i=e.catalogsFeedId,a=e.managedClientId,l=e.catalogId,c=e.productGroupId,s=e.resumeLastDraft,u={};return t&&r&&(u.campaignId=t),n&&(u.objectiveType=n),"CATALOG_SALES"===n&&i&&(u.catalogsFeedId=i),l&&(u.catalogId=l),c&&(u.productGroupId=c),a&&(u.managedClientId=a),s&&(u.resumeLastDraft=!0),(0,o.Z)("/ads/create/",u)},createAutomated:function(e){return(0,o.Z)("/automated/ads/create/",e)},editV2:function(e){return(0,o.Z)("/ads/edit/",e)},editAutomated:function(e){return(0,o.Z)("/automated/ads/edit/",e)},editDraftCampaign:function(e){return(0,o.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"})},duplicateCampaign:function(e){return(0,o.Z)("/ads/duplicate/",e)},audiences:function(e){return(0,o.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)},audience_debug:function(){return"/audience_debug/"},prepaid_spend_campaign_breakdown:function(){return"/billing/prepaid_spend_campaign_breakdown/"},billing:function(e){var t=e.page,n=e.subSection,i=e.nextStepUrl;switch(t){case r.kM.BILLING_HISTORY:return"/billing/history/";case r.kM.ORDER_LINES:return"/billing/order_lines/";case r.kM.PROMOTIONS:return"/billing/promotions/";case r.kM.DOCUMENTS:return"/billing/documents/";case r.kM.TAX_DOCUMENTS:return"/billing/tax_documents/";case r.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:var a={};return n&&(a.section=n),i&&(a.next_step_link_url=i),(0,o.Z)("/billing/",a)}},bulk:function(e){var t=e||{},n=t.subSection,i=t.page,a=t.jobStarted;switch(i){case r.fm.UPLOAD_TEMPLATE:return(0,o.Z)("/bulk_editor/upload_template/",{section:n});case r.fm.DOWNLOAD_TEMPLATE:return(0,o.Z)("/bulk_editor/download_template/",{section:n});case r.fm.HISTORY:return(0,o.Z)("/bulk_editor/history/",{section:n,job_started:a});case r.fm.RESOURCES:return(0,o.Z)("/bulk_editor/resources/",{section:n});default:return"/bulk_editor/"}},history:function(e){return(0,o.Z)("/history/",e)},shopping:function(e){return u.reporting(s("TEMPORARY_SHOPPING"))},pinterest_tag:function(e){var t=e.page,n=e.subSection,i=e.platform,a=e.source,c=e.origin;switch(t){case r.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case r.qp.PINTEREST_EVENT_HISTORY:if(a)return(0,o.Z)("/conversions/event-history/",{source:a});return"/conversions/event-history/";case r.qp.CONVERSION_HEALTH:return"/conversions/health/";case r.qp.PINTEREST_TEST_EVENTS:return(0,o.Z)("/conversions/test-events/",{subPage:n,platform:i});case r.qp.PINTEREST_TAG:return(0,o.Z)("/conversions/tag/",{subPage:n,platform:i});case r.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:if(i)return(0,o.Z)("/conversions/tag_manual_setup/",l(l({},{platform:i}),{source:a}));return"/conversions/tag_manual_setup/";case r.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case r.qp.CONVERSION_UPLOAD:return(0,o.Z)("/conversions/upload/",{subPage:n});case r.qp.UPLOAD_HISTORY:return(0,o.Z)("/conversions/history/",{subPage:n});case r.qp.PCA_UPLOAD_HISTORY:return(0,o.Z)("/conversions/pca_history/",{subPage:n});case r.qp.PCA_UPLOAD:return(0,o.Z)("/conversions/pca_upload/",{subPage:n});case r.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(a||c)return(0,o.Z)("/conversions/api_manual_setup/",l(l({},{source:a}),{origin:c}));return"/conversions/api_manual_setup/";case r.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(a||c)return(0,o.Z)("/conversions/api_partner_setup/",l(l({},{source:a}),{origin:c}));return"/conversions/api_partner_setup/";case r.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case r.qp.PINTEREST_SETUP_API:return"/conversions/setup-api/";case r.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case r.qp.PAYLOAD_HELPER:return"/conversions/payload-helper/";case r.qp.CONVERSIONS:return"/conversions/";case r.qp.NOCODE_CONVERSIONS_API_SETUP_FLOW:return"/conversions/nocode_api_setup/";case r.qp.PINTEREST_EVENT_HISTORY_CAPI_TAB:return"/conversions/event-history/#conversionsAPI";case r.qp.PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:return"/conversions/events-overview/#conversionsAPI";default:return"/conversions/tag/"}},"pin-builder":function(e){return(0,o.Z)("/pin-builder/",e)},purchases:function(){return u.reporting(s("PURCHASE"))},awareness_reserved:function(){return u.reporting(s("IMPRESSION"))},engagement:function(){return u.reporting(s("BILLABLE_ENGAGEMENT"))},videos:function(){return u.reporting(s("TEMPORARY_BIDDED_CPM_VIDEO"))},videos_reserved:function(){return u.reporting(s("TEMPORARY_IMPRESSION_VIDEO"))},videos_cpv:function(){return u.reporting(s("TEMPORARY_MRC_CPV_VIDEO"))},conversions:function(){return u.reporting(s("WEB_CONVERSION"))},accounts_manager:function(){return"/accounts_manager/"},reporting_preferences:function(e){return(0,o.Z)("/reporting/preferences/",e)},report_builder:function(e){return(0,o.Z)("/report-center/builder/",e)},report_history:function(e){return(0,o.Z)("/report-center/history/",e)},report_unsubscribe:function(e){return(0,o.Z)("/report-center/unsubscribe/",e)},report_download:function(e){return(0,o.Z)("/report-center/download/",e)},awareness:function(){return u.reporting(s("AWARENESS"))},traffic:function(){return u.reporting(s("TRAFFIC"))},app_installs:function(){return u.reporting(s("APP_INSTALL"))},catalog_sales:function(){return u.reporting(s("CATALOG_SALES"))},web_conversion:function(){return u.reporting(s("WEB_CONVERSION"))},video_view:function(){return u.reporting(s("VIDEO_VIEW"))},quick_promote:function(e){return(0,o.Z)("/quick-promote/",e)},quick_promote_on_www:function(){return"/advertiser/quick-promote/"},recommendations:function(e){return(0,o.Z)("/recommendations/",e)},catalog_view:function(){return"/product-catalogs/data-source"},campaign_insights:function(e){return"/campaign-insights/".concat(e.campaignId,"/")},product_group_reporting:function(e){return"/campaign-insights/".concat(e.campaignId,"/product-group/").concat(e.productGroupId)},media_planner:function(e){return(0,o.Z)("/media_planner/",e)},ad_spend_optimizer:function(e){return(0,o.Z)("/msot-optimizer/",e)}};t.Z=u},831076:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(704666),o=n(702497),i=n(885896);function a(e,t,n){if(!r.Z[e])throw Error("unknown url key: ".concat(e));n||(n={});var a,l,c=r.Z[e](n),s=(l=null,(a=n)&&(l=a.advertiserId||null),!l&&t&&(l=t.id),l),u=!!n.absolutify;return"string"==typeof s&&(c="/advertiser/"+s+c),u&&(c=(0,i.Z)(c,void 0,o.KUo)),c}},850895:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(702497),o=n(139655);function i(e,t){var n="";if(e&&(n=e,t)){var i=(0,o.Z)(e,!0),a="/advertiser/",l=i.hostname;(null===l||l===r.KUo)&&(e.startsWith(r.auO)&&(e=e.replace(r.auO,"")),n=e.startsWith(a)?e:a+t+e)}return n}},107991:function(e,t,n){"use strict";n.d(t,{t:function(){return h},Z:function(){return b}});var r=n(684404),o=n(672652),i=n(406893),a=n(819267),l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",c=function(e){for(var t=[],n=Math.floor(3*Math.random()+1),r=0;r<n-1;r+=1){var o=Math.floor(Math.random()*(e.length-1)+1);t.push(o)}t.sort(function(e,t){return e-t});for(var i=[],a=0,l=0;l<t.length;l+=1)i.push(e.slice(a,t[l])),a=t[l];return i.push(e.slice(a)),[].concat(i)};function s(e){var t=e.children,n=(0,o.useMemo)(function(){return c(t.replace("  "," ")).map(function(e){return{className:[,,,,,].fill().map(function(){return l[Math.floor(Math.random()*l.length)]}).join(""),content:e}})},[t]);return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(i.Z,{unsafeCSS:n.map(function(e){var t=e.className,n=e.content;return".".concat(t," { display: inline; overflow-wrap: unset; } .").concat(t,':before { content: "').concat(n,'"; font-weight: 600;  }')}).join(" ")}),n.map(function(e){var t=e.className;return(0,a.jsx)("div",{className:t},t)})]})}var u=n(340523),d=n(5859),f=n(149722),p=function(){var e,t=(0,f.Z)(),n=null!==(e=(0,(0,u.F)().checkExperiment)("web_obfuscate_ads_with_global_css").group.split("_")[3])&&void 0!==e?e:"op";return"".concat(n).concat(t.isAuth?t.id:"unauth")},y=function(){return(0,a.jsx)("div",{className:p()})},h=function(){var e=(0,u.F)().checkExperiment,t=p();return e("web_obfuscate_ads_with_global_css").anyEnabled?(0,a.jsx)(i.Z,{unsafeCSS:".".concat(t,':before { content: "Promoted by"; font-weight: 600;  }')}):null};function m(e){var t=e.children;return(0,(0,u.F)().checkExperiment)("web_obfuscate_ads_with_global_css").anyEnabled?(0,a.jsx)(y,{}):(0,a.jsx)(s,{children:t})}function b(e){var t=e.children,n=e.color,o=e.lineClamp,i=e.size,l=e.underline,c=e.weight,s=(0,d.B)().isAuthenticated&&"Promoted by"===t;return(0,a.jsx)(r.xv,{color:n,lineClamp:o,size:i,title:s?void 0:t,underline:l,weight:c,children:s?(0,a.jsx)(m,{children:t}):t})}},86785:function(e,t,n){"use strict";n.d(t,{G6:function(){return i},i7:function(){return a},oi:function(){return r},u$:function(){return o},un:function(){return c},vU:function(){return l},w1:function(){return s}});var r=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=function(e){return e?e.includes("Chrome")?r.CHROME:e.includes("Safari")?r.SAFARI:e.includes("Firefox")?r.FIREFOX:e.includes("Opera")?r.OPERA:e.includes("IE")?r.IE:e.includes("Edge")?r.EDGE:r.OTHER:r.OTHER};function i(e){return o(e)===r.SAFARI}function a(e){return o(e)===r.CHROME}function l(e){return o(e)===r.FIREFOX}function c(e){return o(e)===r.EDGE}function s(e){return o(e)===r.IE}},899378:function(e,t,n){"use strict";n.d(t,{Fl:function(){return c},Pw:function(){return d},QG:function(){return y},dl:function(){return l},k3:function(){return f},su:function(){return p},tW:function(){return s}});var r=n(422210),o=n(588664),i=n(624797),a=["AT","AU","BE","BR","CA","CH","CY","CZ","DE","DK","ES","FI","FR","GB","GR","HU","IE","IT","LU","MT","MX","NL","NO","NZ","PT","RO","SE","SK","US"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","MX","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US","AR","CO","CL","JP"],c=function(e){return a.includes(e.toUpperCase())},s=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),u=function(e,t){var n=(0,i.ru)("/business/convert",{next:t});e.push(n)},d=function(e){var t;u(e.history,(t=e.pinId)?"/advertiser/quick_promote?pinId=".concat(t):"/advertiser/quick_promote")},f=function(e){var t=e.trim().split(" ").filter(function(e){return!!e});return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},p=function(e){return e.isAuth&&!e.isPartner&&!(0,o.Z)(null,e)&&!(0,r.Z)(e.createdAt)},y=function(e,t){return!(e.includes("SHOPIFY")||t.includes("Shopify")||e.includes("WOO_COMMERCE")||t.includes("WooCommerce"))}},798580:function(e,t,n){"use strict";var r=n(624797),o=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,i=function(e,t){return t?e.substring(t.length).split("/")[0]:e},a=function(e){var t,n=e.boardUrl,a=e.path,l=e.pinId,c=e.pinnerUserName,s=e.search,u=e.storyPinDataId;if(!a)return"";switch(a){case"/":case"/homefeed/":return"UserHomefeedResource";case c&&"/".concat(c,"/pins/"):return"UserPinsResource";case c&&"/".concat(c,"/"):case/\/_activity\//.test(a)&&a:return"UserActivityPinsResource";case/\/_created\//.test(a)&&a:return u?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(a)&&a:return"UserDiscoveredPinsResource";case/\/_saved\//.test(a)&&a:return"BoardlessPinsResource";case c&&"/".concat(c,"/_shopping_list/"):return"ShoppingListFeedResource";case/\/visual-search\//.test(a)&&a:return"VisualLiveSearchResource";case/\/pin\//.test(a)&&a:var d=i(a,"/pin/");if(l!==d)return"RelatedPinFeedResource_".concat(d);break;case/\/search\//.test(a)&&a:if(s){var f=(0,r.mB)(s,{shouldDecode:!1}).q||"";return"SearchResource_".concat(f.toLowerCase())}break;case/\/categories\//.test(a)&&a:var p=i(a,"/categories/");return"CategoryFeedResource_".concat(p);case/\/discover\/topics\//.test(a)&&a:return"CategoryFeedResource";case/\/news_hub\//.test(a)&&a:var y=i(a,"/news_hub/");return"NewsHubDetailsResource_".concat(y);case/\/_tools\/more-ideas\//.test(a)&&a:return"BoardContentRecommendationResource";case/\/topics\//.test(a)&&a:var h=i(a,"/topics/");return"TopicFeedResource_".concat(h);case/\/source\//.test(a)&&a:var m=i(a,"/source/");return"DomainFeedResource_".concat(m);case/\/explore\//.test(a)&&a:var b=i(a,"/explore/");return"SearchResource_".concat(b);case n:case!!n&&/\/more_ideas\//.test(a)&&a:return"BoardFeedResource";case n&&a.indexOf(n)>-1&&a:return"BoardSectionPinsResource";case/\/brand_catalog\//.test(a)&&a:return"BrandCatalogFeedResource";case o.test(a)&&a:var g=(null===(t=a.match(o))||void 0===t?void 0:t[2])||"unknown";return"TodayArticleFeedResource_".concat(g);case/\/today\//.test(a):return"TodayTabResource";case/\story_feed\//.test(a)&&a:if(s){var v=(0,r.mB)(s),_=v.feed_type,P=v.request_params;return"StoryFeedResource_".concat(_,"_").concat(P)}}return""},l=function(e){var t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""};t.Z=function(e){var t,n,r=e.boardUrl,o=e.location,i=e.pinId,c=e.pinnerUserName,s=e.previousHistory,u=e.storyPinDataId,d=e.trackingParams,f=e.trackingParamsMap,p=void 0===f?{}:f;if(i&&d&&o){if(!p)return"".concat(null!=d?d:"","~0");var y=o.pathname,h=o.search,m=a({boardUrl:r,path:y,pinId:i,pinnerUserName:c,search:h,storyPinDataId:u,trackingParams:d,trackingParamsMap:p}),b=Object.keys(p);if((y||"").startsWith("/pin/")){var g=b.find(function(e){return"PinResource"!==e});t=g?p[g]:p.PinResource}else t=p[m];return!t&&s&&s.length&&(n=a({boardUrl:r,path:l(s[s.length-1].location),pinId:i,pinnerUserName:c,search:h,storyPinDataId:u,trackingParams:d,trackingParamsMap:p}),t=p[n]),t||(t="".concat(d||"","~0")),t}}},549629:function(e,t,n){"use strict";n.d(t,{Q:function(){return d},Z:function(){return f}});var r=n(672652),o=n(587703),i=n(525364),a=n(996523),l=n(5859);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,i.sV)().setViewContextData,c=(0,l.B)().requestIdentifier,s=(0,o.Z)(),d=(0,i.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),s(u(u({},e),{},{event_type:13,request_identifier:c}))}},[t])}function f(e){var t=e.children;return d(e.log),t||null}},419075:function(e,t,n){"use strict";function r(e){var t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:function(){return r}})},847160:function(e,t,n){"use strict";n.d(t,{Bx:function(){return o},N4:function(){return a},is:function(){return l},lt:function(){return r},oM:function(){return i}});var r=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},o=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},i=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},l=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},515278:function(e,t,n){"use strict";var r=n(847160),o=n(140017),i=n(166770);t.Z=function(){var e=(0,i.H)(),t=e.loginForMore,n=e.viewer,a=e.limitedLoginModalSubheader,l=(0,o.ZP)();return"AUTH"===n.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,r.lt)(l))}}},179370:function(e,t,n){"use strict";n.d(t,{F:function(){return g},M:function(){return b}});var r=n(672652),o=n(780277),i=n(262040),a=n(342513),l=n(25919),c=n(957753),s=n(819267);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){var r;return(r=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===u(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=(0,a.Z)("ExperienceContext"),m=h.Provider,b=h.useHook;function g(e){var t,n=e.children,a=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(function(e,t){if("MOUNT_PLACEMENT"===t.type)return f(f({},e),{},{mountedPlacements:f(f({},e.mountedPlacements),{},p({},t.payload,!0))});if("UNMOUNT_PLACEMENT"===t.type){var n=f({},e);return delete n.mountedPlacements[t.payload],delete n.registerdAfterActionPlacements[t.payload],n}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?f(f({},e),{},{registerdAfterActionPlacements:f(f({},e.registerdAfterActionPlacements),{},p({},t.payload,!0))}):e},{mountedPlacements:{},registerdAfterActionPlacements:{}}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=a[0],d=a[1],h=u.mountedPlacements,b=u.registerdAfterActionPlacements,g=(0,o.useDispatch)(),v=(0,o.useSelector)(function(e){return e.experiences}),_=(0,l.be)(),P=(0,l.Am)(),S=(0,l.Ig)(),j=(0,r.useMemo)(function(){var e=(0,i.bindActionCreators)({completeExperience:_,dismissExperience:P,fetchAllExperiences:l.fO,fetchAllExperiencesMulti:c.NW,fetchExperienceForPlacements:l.pz,mountPlacement:l.N,triggerExperimentsForPlacement:l.kd,viewExperience:S},g);return f(f({},e),{},{mountPlacement:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.mountPlacement.apply(e,[t].concat(r)),d({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:function(e){d({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:function(e){d({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}})},[_,P,g,d,S]),x=(0,r.useMemo)(function(){return f({experiences:v,mountedPlacements:h,registerdAfterActionPlacements:b},j)},[v,h,b,j]);return(0,s.jsx)(m,{value:x,children:n})}},25919:function(e,t,n){"use strict";n.d(t,{Am:function(){return P},Ig:function(){return v},N:function(){return w},Sd:function(){return S},YX:function(){return x},be:function(){return _},fO:function(){return m},kd:function(){return j},pz:function(){return b}});var r,o=n(672652),i=n(216167),a=n(587703),l=n(703404),c=n(957753),s=n(107366),u=n(953565);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,u.nP)("".concat(e,".").concat(t),{sampleRate:1,tags:n})},m=function(e,t){return function(n){var r=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",r).callGet().then(function(e){return e.resource_response?n((0,c.OD)(e.resource_response.data)):void 0})}},b=function(e,t,n,o){return function(a,s){if(t)return Promise.resolve();if(o&&(r=o),1===e.length){var u=e[0],d=s().experiences[u];if(JSON.stringify((null==d?void 0:d.extraContext)||null)===JSON.stringify(n)||(0,l.E3)(d)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:o}).callGet().then(function(e){return e.resource_response?a((0,c.cL)(e.resource_response.data)):void 0})}},g=function(e,t,n,o){return function(a,l,s){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0;return function(p,y){var h,b=y(),g=b.experiences,v=b.experiencesMulti,_=null,P=!0;if(u||(_=(P=g[a]&&g[a].experience_id===l)?g[a]:Array.isArray(v[a])&&(null===(h=v[a])||void 0===h?void 0:h.find(function(e){return e.experience_id===l}))),_&&_.experience_id===l||u&&a&&l){var S=i.Z.create(e,{placed_experience_id:"".concat(a,"%3A").concat(l),extra_context:null!=d?d:{},targeting:f}),j=P?c.Yb:c.xW;switch(t){case"dismissed":return S.callDelete().then(function(){p(j(a,l,t)),p(m(void 0,r)),n&&o&&n({event_type:o,object_id_str:l.toString()})});case"completed":return S.callUpdate().then(function(){!s&&(p(j(a,l,t)),p(m(void 0,r)),n&&o&&n({event_type:o,object_id_str:l.toString()}))});case"viewed":return p(j(a,l,t)),S.callUpdate().then(function(){1000162===a&&p(m()),n&&o&&n({event_type:o,object_id_str:l.toString()})});case"completedWithoutHomefeed":return S.callUpdate().then(function(){s||p(j(a,l,t)),n&&o&&n({event_type:o,object_id_str:l.toString()})})}}return Promise.resolve()}}},v=function(){var e=(0,a.Z)();return(0,o.useCallback)(g("UserExperienceViewedResource","viewed",e,4503),[e])},_=function(){var e=(0,a.Z)();return(0,o.useCallback)(g("UserExperienceCompletedResource","completed",e,6567),[e])},P=function(){var e=(0,a.Z)();return(0,o.useCallback)(g("UserExperienceResource","dismissed",e,6568),[e])},S=function(){var e=(0,a.Z)();return(0,o.useCallback)(g("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},j=function(e,t){return function(n,r){var o=r().experiences[e];o&&o.triggerable_placed_exps&&o.triggerable_placed_exps.length&&o.triggerable_placed_exps.forEach(function(n){var r,i=(function(e){if(Array.isArray(e))return e}(r=n.split(":"))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(r,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],a=t;o.metadata&&o.metadata[i]&&(a=p(p({},t),o.metadata[i])),(0,s.Z)({url:"/v3/experiences/".concat(n.replace(":","%3A"),"/trigger/"),method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then(function(){h("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})})})}},x=function(e){return function(t,n){return t(j(e)),n().experiences[e]}},w=function(e,t,n){return function(o){n&&(r=n),o(j(e,t)),t&&Object.keys(t).length>0&&o(b([e],!1,t,n))}}},703404:function(e,t,n){"use strict";n.d(t,{A0:function(){return s},E3:function(){return l},MQ:function(){return c},fL:function(){return u}});var r=n(684404),o=n(862249),i=n(819267);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return!!e&&0!==e.type}var c=function(e,t,n){var r=e[n];return t[n]&&l(r)?r:null};function s(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}var u=function(e){var t,n,l=((function(e){if(Array.isArray(e))return a(e)})(n=(null===(t=new DOMParser().parseFromString(e,"text/html").body)||void 0===t?void 0:t.childNodes)||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){if("A"!==e.nodeName)return(0,i.jsx)(r.xv,{inline:!0,children:e.textContent});var t=e.href||"",n=(0,o.Z)({url:t});return(0,i.jsx)(r.rU,{display:"inline",externalLinkIcon:n?"default":"none",href:t,rel:n?"nofollow":"none",target:"blank",children:e.textContent})});return(0,i.jsx)(r.xv,{inline:!0,children:l})}},957753:function(e,t,n){"use strict";n.d(t,{NW:function(){return a},OD:function(){return c},Yb:function(){return l},cL:function(){return s},xW:function(){return i}});var r=n(216167),o=n(26616),i=function(e,t,n){return{type:o.V$,payload:{placementId:e,experienceId:t,status:n}}},a=function(e){return function(t){return r.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(function(e){var n;return e.resource_response?t((n=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:n}})):void 0})}},l=function(e,t,n){return{type:o.iY,payload:{placementId:e,experienceId:t,status:n}}},c=function(e){return{type:o._4,payload:{experiences:e}}},s=function(e){return{type:o.mR,payload:{experiences:e}}}},259743:function(e,t,n){"use strict";var r=n(308082),o=n(549216),i=n(288088);t.Z=function(e,t){var n=t[i.G];return n?n[(0,o.getInlineDataFragment)(e).name]:(0,r.readInlineData)(e,t)}},807023:function(e,t,n){"use strict";n.d(t,{Q:function(){return a}});var r=n(42279),o=n(91402),i=n(333739);function a(e,t,n){var a=n.useLegacyAdapter;if(null==t)return{data:null,childDataKey__DEPRECATED:null};var l=(0,o.j)(t);if("deprecated"===l.type){var c=l.data;return null==c?{data:null,childDataKey__DEPRECATED:l}:{data:(0,i.V4)(e,a)(c),childDataKey__DEPRECATED:l}}var s=(0,r.useFragment)(e,l.data);return{data:s,childDataKey__DEPRECATED:{type:"graphqlRef",data:s}}}},673500:function(e,t,n){"use strict";var r=n(42279),o=n(549216),i=n(698681),a=n(226618);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n){var r;return(r=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===l(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){var t=e.strategy,n=e.query,l=e.variables,s=e.options,u=e.transformGraphQL,d=e.useGetLegacyData,f=e.useGetLegacyResource,p=e.useGetLegacyPaginatedResource,y=e.rootFieldName,h=e.type1,m=e.type2,b=e.connectionName;if("GRAPHQL"===t){var g=(0,o.getRequest)(n);return null!=u?u((0,r.useLazyLoadQuery)(g,l,s)):(0,r.useLazyLoadQuery)(g,l,s)}if(null!=d&&null!=f&&null!=p)throw Error("Only pass one of useGetLegacyData or useGetLegacyResource to useLazyLoadQueryOrLegacy");if(null!=d){var v=d(l);return v?(0,a.I9)({},{data:v,refetchInfo:null,paginationInfo:null}):null}if(null!=f){var _=f(l),P=_.data,S=_.refresh;return null==P?null:(0,a.I9)({},{data:P,refetchInfo:{refetch:S},paginationInfo:null})}if(null!=p){var j=p(l),x=j.data,w=j.refresh,O=j.isFetching,I=j.isAtEnd,A=j.fetchMore;if(null==x)return null;if(null==y||null==h||null==m||null==b)throw Error("Unexpected null param");return(0,a.I9)({},{data:c({},(0,i.Cs)(y),{type:h,data:c({type:m},(0,i.Cs)("__".concat(b,"_connection")),{edges:x.map(function(e){return{node:e}})})}),refetchInfo:{refetch:w},paginationInfo:{isLoadingNext:O,hasNext:!I,loadNext:A}})}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},388769:function(e,t,n){"use strict";var r=n(72461),o=n(5859),i=n(819267);t.Z=function(e){var t=e.currency,n=e.maximumFractionDigits,a=e.minimumFractionDigits,l=e.shortform,c=e.shortformMaximumFractionDigits,s=e.formatStyle,u=e.uplimit,d=e.value,f=(0,r.Z)();return(0,i.jsx)(o.LC,{children:function(e){return f(e.locale||"en-US",d,{currency:t,maximum_fraction_digits:n,minimum_fraction_digits:a,shortform:l,shortform_maximum_fraction_digits:c,style:s,uplimit:u})}})}},422210:function(e,t,n){"use strict";function r(e){if(!e)return!1;var t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}n.d(t,{Z:function(){return r}})},588664:function(e,t,n){"use strict";function r(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;n=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;var o=new Date,i=n?new Date(n):o;return i.setDate(i.getDate()+r),new Date().getTime()<i.getTime()}n.d(t,{Z:function(){return r}})},160133:function(e,t,n){"use strict";var r=n(684404),o=n(213377),i=n(403862),a=n(554786),l=n(819267);t.Z=function(e){var t=e.children,n=e.roundedForLargeDevice,c="phone"!==(0,a.ZP)()&&n;return(0,i.V)()?(0,l.jsx)(r.xu,{marginEnd:-o.D6,marginStart:-o.D6,overflow:c?"hidden":void 0,rounding:c?6:void 0,children:(0,l.jsx)(i.C,{value:!1,children:t})}):t}},43665:function(e,t,n){"use strict";function r(e){var t=!1;return{promise:new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)},function(e){return t?r({isCanceled:!0}):r(e)})}),cancel:function(){t=!0}}}n.d(t,{Z:function(){return r}})},891162:function(e,t,n){"use strict";n.d(t,{Q6:function(){return u},qe:function(){return c},yU:function(){return s}});var r=n(520893),o=function(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})},i=function(e){return e};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;return function(r){var o=[];return function(){for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];var c=o.find(function(e){return t(e.args,n(a))});if(c)return c.result;var s=r.apply(void 0,a);return o.push({args:n(a),result:s}),e&&o.length>e&&o.shift(),s}}}var l=a();t.ZP=l;var c=a(1),s=a(void 0,o,function(e){return[JSON.stringify(e)]}),u=a(0,function(e,t){return e.length===t.length&&e.every(function(e,n){return(0,r.Z)(e,t[n])})})},996523:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},l=a(t,n);return void 0!==l?l:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce(function(t,r,o){return t[o]=e(t[o],n[o],a),t},function(e){if(Array.isArray(e))return i(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):t&&"object"===o(t)&&n&&"object"===o(n)?Object.keys(n).reduce(function(t,r){return t[r]=e(t[r],n[r],a),t},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t)):n}}})},456299:function(e,t,n){"use strict";n(42279);var r,o=n(259743);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){var r;return(r=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=void 0!==r?r:r=n(750441);t.Z=function(e){var t=(0,o.Z)(s,e),n=null;return null!=t&&t.trackingParamsMap&&(n=t.trackingParamsMap.reduce(function(e,t){if(null!=t&&t.key){var n;return l(l({},e),{},c({},t.key,null!==(n=t.data)&&void 0!==n?n:""))}return e},{})),n}},203966:function(e,t,n){"use strict";n.d(t,{$4:function(){return T},AQ:function(){return W},Bj:function(){return g},DB:function(){return V},FH:function(){return ec},FM:function(){return J},G9:function(){return Z},GX:function(){return m},Hy:function(){return ed},JO:function(){return R},Ke:function(){return C},LM:function(){return o},Lc:function(){return ep},Lr:function(){return eu},MN:function(){return _},Mn:function(){return ee},N8:function(){return b},NB:function(){return en},P0:function(){return er},P9:function(){return el},Pn:function(){return P},S:function(){return D},TK:function(){return j},TZ:function(){return A},UU:function(){return d},Uw:function(){return X},W_:function(){return es},XB:function(){return c},Xy:function(){return k},YM:function(){return x},aD:function(){return ey},aj:function(){return K},bA:function(){return F},bo:function(){return s},cH:function(){return eg},dS:function(){return O},eZ:function(){return y},fk:function(){return ei},g1:function(){return ef},gU:function(){return u},hH:function(){return N},i2:function(){return f},iR:function(){return z},jh:function(){return eh},km:function(){return p},lx:function(){return B},mr:function(){return q},mt:function(){return G},n_:function(){return M},np:function(){return H},of:function(){return r},q:function(){return eb},qY:function(){return w},qm:function(){return ea},rc:function(){return $},ro:function(){return em},sD:function(){return a},sG:function(){return h},u1:function(){return Q},uR:function(){return l},v5:function(){return i},v9:function(){return Y},vk:function(){return et},wj:function(){return S},x1:function(){return L},yC:function(){return v},yI:function(){return E},yX:function(){return I},yb:function(){return U},zr:function(){return eo}});var r=880,o=340,i=380,a=510,l=40,c=20,s=4,u=474,d=134,f=96,p=800,y=186,h=40,m=10,b=48,g=88,v=183,_=130,P=24,S=400,j=50,x=8,w=8,O=5,I=20,A=29,k=5,E=20,T=400,C=100,R=500,D=800,B=500,F=40,Z=100,z=5,L=["attempted","publishing","succeeded","uploading"],N={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},M=["tl","tc","tr","bl","bc","br"],K=["left","center"],U=["top","center","bottom"],H=["none","uppercase"],G=["sm","md","lg"],W=[1,.75],V=198,q=132,Y=1,Q=56,X=240,$="cubic-bezier(0.66, 0.025, 0.33, 0.975)",J=1e3,ee=1500,et=2,en=3,er=20,eo=20,ei=2,ea=["processing","publishing","saving"],el=60.5,ec=120.5,es=1,eu=209715200,ed=2500,ef=3,ep="pin-builder-default-education-id",ey="pin-builder-default-tour-id",eh="pin-builder-editing-tour-id",em="save_from_url",eb=["processing","edited","creating","saving","saved"],eg=2048},217006:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(203966);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.LM,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(t-2*n)/e.width*e.height+2*n}},826267:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(839967),o=n(637253);function i(e){var t=null!=e?e:{name:r.fY,options:null},n=t.headers,i=t.name,a=t.options,l=t.schema,c=!e,s=(0,o.Z)({headers:n,name:i,noCache:!1,options:a,schema:l},!1,c,!1),u=s.fetchResource,d=s.ref;return c||u(),d}},137023:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(672652),o=n(124946);function i(e){var t=e.allowSearchOnMount,n=e.children,i=e.onTypeaheadSuggestionsChange,a=e.resourceName,l=e.resourceOptions,c=e.value,s=(0,o.Z)({allowSearchOnMount:t,resourceName:a,resourceOptions:l,value:c});return(0,r.useEffect)(function(){null!=s&&s.length&&i(s)},[s]),n||null}},416049:function(e,t){"use strict";t.Z=2},124946:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(672652),o=n(705318),i=n(638747),a=["bookmarks"];function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,l,"next",e)}function l(e){s(i,r,o,a,l,"throw",e)}a(void 0)})}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){var t,n,l,s,d,p,y,h,m,b,g,v,_,P=e.allowSearchOnMount,S=void 0!==P&&P,j=e.resourceName,x=e.resourceOptions,w=void 0===x?{}:x,O=e.value,I=(0,r.useRef)(!1),A=(0,r.useRef)({}),k=function(e){if(Array.isArray(e))return e}(_=(0,r.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(_,2)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(_,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),E=k[0],T=k[1],C=(m=(t={resourceName:j,resourceOptions:w}).resourceName,b=t.resourceOptions,g=(0,i.vL)(),(v=(0,r.useRef)()).current||(v.current=(s=(0,(n={resourceCreator:g,resourceName:m,resourceOptions:b}).resourceCreator)(n.resourceName,f(f({},l=n.resourceOptions),{},{count:"count"in l?l.count:5})),d=new o.Z,p=function(){s.abort()},y=u(regeneratorRuntime.mark(function e(t,n){var r,o,i,l,c,u,y,h,m,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isCalling()){e.next=8;break}if(i=null===(r=s.options)||void 0===r?void 0:r.term,l=null===(o=s.options)||void 0===o?void 0:o.pin_scope,!(t===i&&n===l)){e.next=7;break}return e.abrupt("return",void 0);case 7:p();case 8:return(c=s.options||{}).bookmarks,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(c,a),s.options=f(f({},u),{},{term:t,pin_scope:n}),e.next=12,s.callGet({showError:!1});case 12:return h=null==(y=e.sent.resource_response.data)?void 0:y.items,b={hint:m=(null==y?void 0:y.hint)||{},items:h},d.set("".concat(n,"-").concat(t),b),e.abrupt("return",{term:t,items:h,hint:m});case 19:case"end":return e.stop()}},e)})),h=u(regeneratorRuntime.mark(function e(t,n){var r,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=d.get("".concat(n,"-").concat(t)))||!((o=r.items)&&o.length)){e.next=7;break}return p(),i=r.hint,e.abrupt("return",{hint:i,items:o,term:t});case 7:if(!(t.length>=0)){e.next=11;break}return e.abrupt("return",function(e,t){return y.apply(this,arguments)}(t,n));case 11:return e.abrupt("return",{hint:{},items:[],term:t});case 12:case"end":return e.stop()}},e)})),function(e,t){return h.apply(this,arguments)})),v.current),R=w.pin_scope||"pins",D="".concat(R,"-").concat(O);return(0,r.useEffect)(function(){u(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=O&&""!==O&&(S||I.current))){e.next=17;break}if(!(D in A.current)){e.next=5;break}T(A.current[D]),e.next=17;break;case 5:return e.prev=5,e.next=8,C(O,R);case 8:(t=e.sent)&&(n=t.items,A.current[D]=n,T(n)),e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(5),"Resource call aborted"!==e.t0){e.next=16;break}return e.abrupt("return");case 16:throw e.t0;case 17:I.current||(I.current=!0);case 18:case"end":return e.stop()}},e,null,[[5,12]])}))()},[O,R,D]),E}},675266:function(e,t){"use strict";var n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.Z=function(e){return n.test(e)}},564855:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o},mP:function(){return r}});var r="";function o(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";if(e.length<=n)return e;if(" "!==e[n-1]&&" "===e[n]||i)t=e.substring(0,n);else{var a=e.lastIndexOf(" ",n);t=e.substring(0,a)}return(t=t.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+o}},325362:function(e,t,n){"use strict";function r(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}n.d(t,{Z:function(){return r}})},193163:function(e,t,n){"use strict";n.d(t,{T7:function(){return i},Y_:function(){return s},bl:function(){return l},d9:function(){return d},nx:function(){return u},xt:function(){return c}});var r=n(5859),o=n(149722);function i(e,t,n,r){var o=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-");return"/today/".concat(t?"shop":0===e||2===e?"trending":1===e?"best":"article","/").concat(encodeURIComponent(o),"/").concat(r,"/")}var a={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function l(){var e,t=(0,r.B)(),n=(0,o.Z)(),i=n.isAuth?n.country:t.country;return void 0!==t&&void 0!==t.locale&&(null===(e=a[t.locale.substring(0,2)])||void 0===e?void 0:e.includes(i))}var c=function(e,t,n){return e||t||n||""},s=function(e){return"todayarticle"===e.type},u=function(e){return Array.isArray(e)&&e.length>0&&e.every(function(e){return"story"===e.type})},d=function(e,t){return(null!=e?e:1)/(null!=t?t:1)}},598228:function(e,t,n){"use strict";n.d(t,{Ag:function(){return i},C0:function(){return c},L1:function(){return f},Vi:function(){return a},YD:function(){return d},kS:function(){return o},oo:function(){return l},p3:function(){return p},vC:function(){return s},vI:function(){return u}});var r=n(244413),o="https://www.pinterest.com/business/hub/",i="https://www.pinterest.com/homefeed/",a="www.pinterest.com",l="https://help.pinterest.com",c="".concat((0,r.Z)({site:"www"})),s=(0,r.Z)({site:"developers"}),u="".concat((0,r.Z)({site:"sterling"})),d="".concat((0,r.Z)({site:"analytics"})),f="".concat((0,r.Z)({site:"trends"})),p="".concat((0,r.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="}))},202593:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(850895),o=n(702497);function i(e){var t=e.advertiser,n=e.isAdsSite,i=e.isAnalyticsSite,a=e.isTrendsSite,l=e.baseUrl,c=e.adsUrl,s=e.isQuickPromote,u=e.isShoppingCatalogs;if(n&&!t&&!s)return"/";var d=l;return(n||i||a)&&!u?(c||(c=l),t?(d=(0,r.Z)(c,t.id),n||(d=o.auO+d)):d=n?c:o.auO+d):u?d=o.auO+(0,r.Z)(l,t?t.id:""):c||(d=o.auO+l),d}},862249:function(e,t,n){"use strict";var r=n(968946);t.Z=function(e){var t=e.url;return!!(t&&t.match(/^https{0,1}:\/\//)&&!(0,r.Z)(t))}},498301:function(e,t,n){"use strict";function r(e,t){if(!t)return e;var n=new RegExp(/http(s?):/);if(!n.test(e)){var r=n.exec(t);r&&r.length&&(e=r[0]+e)}return e}n.d(t,{Z:function(){return r}})},334688:function(e,t,n){"use strict";var r=n(672652);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var i=null,a=!1,l=0,c=function(){i&&clearTimeout(i),a=!0,i=setTimeout(function(){a=!1},100)},s=function(){0===l&&window.addEventListener("scroll",c),l+=1},u=function(){(l-=1)||window.removeEventListener("scroll",c)};t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1],l=(0,r.useRef)(null);(0,r.useEffect)(function(){return s(),function(){l.current&&clearTimeout(l.current),u()}},[]);var c=function e(t){l.current&&clearTimeout(l.current),l.current=t&&a?setTimeout(function(){return e(!0)},100):setTimeout(function(){i(t)},32)};return{isHovering:n,hoverHandlers:(0,r.useRef)({onMouseOver:function(){return c(!0)},onMouseLeave:function(){return c(!1)}}).current}}},477458:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var r=n(672652);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){var e=o((0,r.useState)(!1),2),t=e[0],n=e[1],i=o((0,r.useState)(!1),2),a=i[0],l=i[1],c=o((0,r.useState)(!1),2),s=c[0],u=c[1];return{active:t,focused:a,hovered:s,onBlur:function(){l(!1),n(!1)},onFocus:function(){return l(!0)},onMouseDown:function(){return n(!0)},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){u(!1),n(!1)},onMouseUp:function(){return n(!1)}}};function l(e){return(0,e.children)(a())}t.Z=a},825765:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(672652),o=n(43665);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(){var e=(0,r.useRef)([]),t=(0,r.useRef)({});return(0,r.useEffect)(function(){return function(){[].concat(i(Object.keys(t.current).map(function(e){return t.current[e]})),i(e.current)).forEach(function(e){return e()})}},[]),function(n,r){if(r){var a=t.current[r];a&&(a(),delete t.current[r])}var l=(0,o.Z)(n),c=l.cancel,s=l.promise;return r?t.current[r]=c:e.current=[].concat(i(e.current),[c]),s}}},446653:function(e,t,n){"use strict";n.d(t,{r:function(){return A},K:function(){return I}});var r=n(672652),o=n(342513),i=n(340523),a=n(757640),l=n(149722),c=n(998577),s=n(573810),u=n(325362);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==p(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,u.Z)(r)]=t[r]:n[(0,u.Z)(r)]=e(t[r]));return n},h=function(e,t){var n=[];for(var r in e)r!==t&&n.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({id:r},y(e[r])));var o,i=n.sort(function(e,t){var n=e.user.businessName,r=t.user.businessName;return n.localeCompare(r)}),a=new Map,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;a.set(c.id,c)}}catch(e){l.e(e)}finally{l.f()}return a};function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},P=function(e,t){switch(t.type){case"LOAD_PROFILES":return v(v({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return v(v({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return v(v({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return v(v({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return v(v({},e),{},{disableProfileChanger:t.payload});default:return e}},S=function(e){var t=e.dispatch,n=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,l=o.headerVisible;return{changeProfile:(0,r.useCallback)(function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})},[n,t]),toggleORBACVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})},[n,t,i]),toggleDisableProfileChanger:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})},[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)(function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})},[n,t,l])}},j=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(P,_))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],i=n[1],a=S({dispatch:i,isEnabled:e,state:o}),l=o.activeProfile,c=o.orbacVisibility;return(0,r.useEffect)(function(){var e=(0,s.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,r.useEffect)(function(){var e=(0,s.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,r.useEffect)(function(){(0,s.Nh)("orbacVisibility",c)},[c]),(0,r.useEffect)(function(){(0,s.Nh)("orbacActiveProfile",l)},[l]),{state:o,actions:a,receiveProfiles:(0,r.useCallback)(function(e,t){i({type:"LOAD_PROFILES",payload:h(e,t)})},[i])}},x=n(819267),w=(0,o.Z)("RoleBasedAccessControlContext"),O=w.Provider,I=w.useMaybeHook,A=function(e){var t,n=e.children,o=(0,i.F)().checkExperiment,s=(0,l.Z)(),u=!!(s.isAuth&&s.isPartner&&o("web_m10n_business_access_orbac_www").anyEnabled),d=j(u),f=d.state,p=d.actions,y=d.receiveProfiles,h=f.activeProfile,m=f.headerVisible,b=f.profiles,g=void 0===b?[]:b,v=g?Array.from(g.values()):[],_=(0,c.Z)(v),P=!!s.isAuth&&v.length>0&&_,S=s.isAuth?s.id:"",w=s.isAuth?s.username:"",I=p.changeProfile,A=p.toggleORBACVisibility,k=p.toggleDisableProfileChanger,E=p.toggleHeaderVisibility;(0,r.useEffect)(function(){if(u){if("string"==typeof _){I(_);return}h||I(S)}},[_,S,u,I,h]),(0,r.useEffect)(function(){u&&(P&&!m&&E(!0),!P&&m&&E(!1))},[E,P,u,m,g]);var T=(0,a.Z)(u?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,C=null==T?void 0:T.profiles;s&&s.isAuth&&f.activeProfile===s.id?t={id:s.id,permissions:["OWNER"],user:{username:w,businessName:s.fullName,imgUrl:s.imageSmallUrl}}:h&&f.profiles&&(t=f.profiles.get(h)),(0,r.useEffect)(function(){C&&y(C,S)},[y,C,S]);var R=f.profiles?Array.from(f.profiles.values()):[];return(0,x.jsx)(O,{value:{profiles:R,headerVisible:f.headerVisible,activeProfile:t,changeProfile:I,toggleORBACVisibility:A,toggleDisableProfileChanger:k,toggleHeaderVisibility:E},children:n})}},785059:function(e,t,n){"use strict";var r=n(340523),o=n(446653),i=n(998577);t.Z=function(){var e=(0,r.F)().checkExperiment,t=(0,o.K)(),n=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,i.Z)((null==t?void 0:t.profiles)||[]),c=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a&&(!c||l)&&n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({})}},998577:function(e,t,n){"use strict";var r=n(328038),o=n(96157),i=n(340523),a=n(149722),l=n(19447);t.Z=function(e){var t,n,c,s,u=(0,r.TH)(),d=(0,a.Z)(),f=(0,l.S6)(),p=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,y=(0,r.$B)("/:username"),h=null==y?void 0:null===(t=y.params)||void 0===t?void 0:t.username,m=(0,r.$B)("/pin/:id"),b=null!=m&&null!==(n=m.params)&&void 0!==n&&!!n.id&&(null===(c=f(m.params.id))||void 0===c?void 0:null===(s=c.pinner)||void 0===s?void 0:s.id);if((0,o.ej)(u))return!1;if((0,o.RU)(u))return!0;if((0,o.mY)(u))return p;var g=e.concat(d.isAuth?{user:{username:d.username},id:d.id}:{}).find(function(e){var t=e||{},n=t.user,r=t.id,o=(void 0===n?{}:n).username;return(!!o&&!!h||!!b&&!!r)&&(o===h||b===r)});return!!g&&g.id}},199677:function(e,t,n){"use strict";n.d(t,{D3:function(){return s},DX:function(){return l},KY:function(){return u},Ms:function(){return r},N1:function(){return d},_P:function(){return a},lJ:function(){return i},nl:function(){return o},q6:function(){return c}});var r=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=function(e,t){return!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(r=e.advertiser)||void 0===r?void 0:r.merchant_id},l=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},c=function(e,t,n){return!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t)},s=function(e,t,n){return!!(c(e,t,n)||e&&e.isAuth&&t===e.id)},u=function(e,t,n){return s(e,t&&t.owner&&t.owner.id||"",n)};function d(e,t,n){return s(e,t?t.id:"",n)}},403398:function(e,t,n){"use strict";n.d(t,{$v:function(){return h},eN:function(){return m},gf:function(){return a},i7:function(){return y},in:function(){return d},jz:function(){return c},pD:function(){return l},p_:function(){return i},s5:function(){return u},sk:function(){return b},tz:function(){return f},uE:function(){return p},zY:function(){return s}});var r="iphone",o="android_mobile",i="ipad",a="android_tablet",l="web_mobile",c=["web",l,r,i,o,a],s=["android_mobile","android_tablet","iphone","ipad","web"],u=["android_mobile","android_tablet","iphone","ipad","web"],d=["android_mobile","iphone"],f=["android_mobile","android_tablet","iphone","ipad"],p=[r,o],y=[r,o],h=[r,o,i,a],m=[r,o],b=["web",i,l,r,o,a]},621018:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var o,i;o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(o))in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{T3:function(){return l},Ur:function(){return c},i5:function(){return a},kx:function(){return s}});var a={AT:14,BE:13,BG:14,HR:16,CY:14,CZ:15,DK:13,EE:14,FI:13,FR:15,DE:16,GR:15,HU:16,IE:16,IT:14,LV:13,LT:14,LU:16,MT:13,NL:16,PL:16,PT:13,RO:16,SK:16,SI:15,ES:14,SE:13,GB:13},l=i(i({},a),{},{KR:14}),c=13,s=5},172560:function(e,t,n){"use strict";var r=n(672652),o=n(684404),i=n(107991),a=n(205841),l=n(388769),c=n(140017),s=n(339001),u=n(340523),d=n(873955),f=n(564855),p=n(968946),y=n(477458),h=n(519925),m=n(784300),b=n(819267);t.Z=function(e){var t=(0,c.ZP)(),n=e.followerCount,g=e.fullName,v=e.isVerifiedIdentity,_=e.imageUrl,P=e.isPromoted,S=e.isVerifiedMerchant,j=e.profileUrl,x=e.sponsorName,w=e.sponsorshipStatus,O=e.sponsorUsername,I=void 0===O?"":O,A=e.verified,k=e.color,E=void 0===k?"default":k,T=e.onAvatarClick,C=e.onNavigateClick,R=e.onNavigateSponsorClick,D=e.openNewTab,B=e.isLeadPin,F=(0,u.F)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,Z=(0,d.Z)(t._('{{ fullName }} avatar link', 'creatorCardProfile.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{fullName:null!=g?g:""}),z=(0,b.jsx)(y.q,{children:function(e){var t=e.active,n=e.focused,r=e.hovered,i=e.onBlur,l=e.onFocus,c=e.onMouseEnter,s=e.onMouseLeave;return(0,b.jsx)(o.xu,{onBlur:i,onFocus:l,onMouseDown:function(){T&&T()},onMouseEnter:c,onMouseLeave:s,children:(0,b.jsx)(o.zd,{rounding:"circle",wash:r||t||n,children:(0,b.jsx)(a.qE,{accessibilityLabel:Z,name:null!=g?g:"",size:"md",src:null!=_?_:"",verified:A})})})}}),L=(0,f.ZP)(g,70),N=(0,b.jsxs)(r.Fragment,{children:[P&&(0,b.jsx)(i.Z,{lineClamp:1,size:"200",weight:"bold",children:t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin')}),(0,b.jsx)(o.xu,{"data-test-id":"creator-profile-name",children:(0,b.jsx)(o.xu,{maxWidth:270,children:(0,b.jsx)(o.xv,{color:E,size:"200",weight:void 0!==B&&B?"normal":"bold",children:v||S?(0,b.jsx)(o.xu,{"data-test-id":"verified-name",children:(0,b.jsx)(m.Z,{badgeSize:"xs",badgeSpacing:2,fullName:L,isVerifiedIdentity:v,isVerifiedMerchant:S})}):g})})})]}),M=I&&x||h.j.includes(w)&&F;return(0,b.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,b.jsx)(o.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:j?(0,b.jsx)(o.Tg,{dataTestId:"creator-avatar-link",href:j,onTap:C,rel:(0,p.Z)(j)?"none":"nofollow",target:D?"blank":null,children:z}):z}),(0,b.jsxs)(o.xu,{children:[(0,b.jsx)(o.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:j?(0,b.jsx)(o.rU,{dataTestId:"creator-profile-link",href:j,onClick:C,rel:(0,p.Z)(j)?"none":"nofollow",target:D?"blank":null,underline:"none",children:N}):N}),M?(0,b.jsx)(o.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,b.jsx)(h.Z,{href:"/".concat(null!=I?I:"","/"),isPromoted:P,onNavigateSponsorClick:R,sponsorName:x,sponsorshipStatus:w,sponsorUsername:I})}):!!n&&(0,b.jsx)(o.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,b.jsx)(o.xv,{color:E,size:"200",children:(0,s.nk)(t.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', n, 'closeup.creator.followerCount', 'the number of followers the creator of the pin has'),{followerCount:(0,b.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:n},n)})})})]})]})}},599874:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(672652),o=n(780277),i=n(684404),a=n(224796),l=n(214877),c=n(847160),s=n(515278),u=n(251448),d=n(140017),f=n(339001),p=n(96452),y=n(731714),h=n(13848),m=n(494125),b=n(388769),g=n(819267),v=function(e){var t=e.followText,n=e.followerCount,r=e.userFollowed,o=(0,d.ZP)();return(0,f.nk)(o._('{{ followCount }} {{ followText }}', ' - ', ' -- '),{followCount:(0,g.jsx)(i.xu,{"data-test-id":"followCount",opacity:r?void 0:.8,paddingX:1,children:(0,g.jsx)(i.xv,{color:r?"subtle":"inverse",children:(0,g.jsx)(b.Z,{shortform:!0,shortformMaximumFractionDigits:0,value:n})})},"followCount"),followText:(0,g.jsx)(i.xu,{"data-test-id":"followText",paddingX:1,children:(0,g.jsx)(i.xv,{color:r?"default":"inverse",weight:"bold",children:t})},"followText")})},_=n(324186),P=n(70982),S=n(386008),j=n(155087);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=E(a);if(t){var r=E(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return k(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return T(k(e=o.call.apply(o,[this].concat(n))),"handleButtonClick",function(t){var n=t.event,r=e.props,o=r.requireAuth,i=r.i18n,a=r.userFollowed;if(o){n.stopPropagation(),o({loginModalHeader:(0,c.N4)({i18n:i,toFollow:!a})});return}var l=e.props,s=l.shouldStopEventPropagation,u=l.loggingData;s&&(n.preventDefault(),n.stopPropagation()),e.props.logContextEvent(O({event_type:101,component:13672,element:11951,object_id_str:e.props.id,view_type:e.props.viewType,view_parameter:e.props.viewParameter,clientTrackingParams:e.props.clientTrackingParams},u||Object.freeze({}))),e.toggleFollowUnfollow()}),T(k(e),"handleClick",function(t){var n=t.event,r=e.props.requireAuth;if((r||e.props.shouldStopEventPropagation)&&n.stopPropagation(),r){r();return}e.toggleFollowUnfollow()}),T(k(e),"toggleFollowUnfollow",function(){var t=e.props,n=t.id,r=t.mostRecentPinId,o=t.loggingData,i=t.userFollowed,a=t.viewType,l=t.viewParameter,c=t.clientTrackingParams;i?(e.props.logContextEvent(O({event_type:46,object_id_str:n,view_type:a,view_parameter:l,aux_data:{pin_id:r},clientTrackingParams:c},o||Object.freeze({}))),e.unfollow()):(e.props.logContextEvent(O({event_type:45,object_id_str:n,view_type:a,view_parameter:l,aux_data:{pin_id:r},clientTrackingParams:c},o||Object.freeze({}))),e.follow())}),T(k(e),"follow",function(){var t=e.props,n=t.follow,r=t.id,o=t.onUserFollow,i=t.mostRecentPinId,a=t.setMostRecentPinId,l=t.inviteCode,c=t.handleFollowSuccessFromInvite,s=t.loggingData,u=t.viewType,d=t.viewParameter;n(r,i,function(){l?(null==c||c(),e.props.logContextEvent(O({event_type:14858,object_id_str:r,view_type:u,view_parameter:d},s||Object.freeze({})))):e.showConfirmation()},e.showError),o&&o(!0),a(null)}),T(k(e),"showToast",function(t){var n=e.props,r=n.id,o=n.imageUrl,i=n.profileUrl,a=n.toastManagerContext;n.suppressToasts||a.showOneToast(function(e){var n=e.hideToast;return(0,g.jsx)(j.Z,{handleHide:n,href:i,imageUrl:o,text:t,userId:r})})}),T(k(e),"showConfirmation",function(){var t=(0,g.jsx)(i.xv,{children:e.props.i18n._('Following! Their created Pins will show up in your home feed!', 'userFollowButton.informationalToastText2', 'Text explaining that a creator\'s Pins will show up in home feed after follow')});e.showToast(t)}),T(k(e),"showError",function(t){var n=e.props,r=n.fullName,o=n.userFollowed,a=n.showEmailVerificationReminderModal,l=n.loggingData,c=n.inviteCode,s=n.id,u=n.viewParameter,d=n.viewType,y=o?e.props.i18n._('Error unfollowing {{ usernameComponent }}.', 'UserFollowButton.error.unfollowing', 'When there is an API error when unfollowing a user'):e.props.i18n._('Error following {{ usernameComponent }}.', 'UserFollowButton.error.following', 'When there is an API error when following a user');if(t&&t.api_error_code===p.H9){a();return}var h=(0,g.jsx)(i.xv,{children:(0,f.nk)(y,{usernameComponent:(0,g.jsx)(i.xv,{inline:!0,weight:"bold",children:r})})});e.showToast(h),!o&&c&&e.props.logContextEvent(O({event_type:14859,object_id_str:s,view_type:d,view_parameter:u},l||Object.freeze({})))}),T(k(e),"unfollow",function(){var t=e.props,n=t.id,r=t.onUserFollow,o=t.unfollow,i=t.mostRecentPinId,a=t.setMostRecentPinId;o(n,i,function(){},e.showError),r&&r(!1),a(null)}),e}return n=[{key:"renderButton",value:function(){var e=this.props,t=e.button,n=e.followerCount,r=e.inline,o=e.isOwnProfile,a=e.invertButtonColor,l=e.isSecondaryButton,c=e.size,s=e.showFollowerCount,u=e.userFollowed,d=u?this.props.i18n._('Following', 'User follow button', 'User follow button'):this.props.i18n._('Follow', 'User follow button', 'User follow button');if(t)return t({followText:d,onClick:this.handleButtonClick,userFollowed:u});if(o)return(0,g.jsx)(i.zx,{disabled:!0,fullWidth:!0,text:this.props.i18n._('This is you', 'Button label to note that this is your Profile', 'Button label to note that this is your Profile')});if(!s)return(0,g.jsx)(i.xu,{"data-test-id":"user-".concat(u?"unfollow":"follow","-button"),display:"inlineBlock",children:(0,g.jsx)(i.zx,{accessibilityLabel:u?this.props.i18n._('Unfollow', 'userUnfollowButton.button.accessibilityLabel', 'Accessibility label for the unfollow button'):this.props.i18n._('Follow', 'userFollowButton.button.accessibilityLabel', 'Accessibility label for the follow button'),color:l||u?"gray":"red",fullWidth:void 0!==r&&r,onClick:this.handleButtonClick,selected:a?!u:!!u,size:null!=c?c:void 0,text:d})});var f="number"==typeof n?(0,g.jsx)(v,{followerCount:n,followText:d,userFollowed:u}):d;return(0,g.jsx)(i.iP,{onTap:this.handleClick,children:(0,g.jsx)(i.xu,{color:u?"secondary":"primary",paddingX:3,paddingY:3,rounding:2,children:(0,g.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:f})})})}},{key:"render",value:function(){var e=this.props,t=e.showPulsar,n=e.userFollowed;return(0,g.jsxs)(i.xu,{display:"flex",position:"relative",children:[this.renderButton(),t&&(0,g.jsx)(i.iP,{onTap:this.handleClick,children:(0,g.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,g.jsx)(i.o3,{paused:n||!1})})})]})}}],I(a.prototype,n),r&&I(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);function D(e){var t=(0,l.v)().logContextEvent,n=(0,d.ZP)(),r=(0,_.f)(),i=r.id,c=r.setMostRecentPinId,f=(0,s.Z)(),p=(0,o.useDispatch)(),b=(0,u.y9)().showEmailVerificationReminderModal,v=(0,S.mN)()(e.id),j=null==v?void 0:v.follower_count,x=v?v.explicitly_followed_by_me:e.userFollowed;return(0,m.Z)(function(){var t=e.id,n=y.Z.getItem(a.AG)||"";n&&n===t&&(y.Z.removeItem(a.AG),p((0,P.ZN)(n,e.clientTrackingParams)))}),(0,g.jsx)(R,O(O({},e),{},{follow:function(t,n,r,o){p((0,P.yA)(t,n,e.clientTrackingParams,e.inviteCode)).then(r).catch(function(e){o(e)})},followerCount:j,i18n:n,logContextEvent:t,mostRecentPinId:i,requireAuth:f,setMostRecentPinId:c,showEmailVerificationReminderModal:b,toastManagerContext:(0,h.F9)(),unfollow:function(t,n,r,o){p((0,P.KF)(t,n,e.clientTrackingParams)).then(r,o)},userFollowed:x}))}},983983:function(e,t,n){"use strict";n.d(t,{L1:function(){return i},Rz:function(){return c},WZ:function(){return a},cI:function(){return o},fe:function(){return l},hu:function(){return r}});var r=64,o=80,i=22,a="HeaderContent",l=671,c={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},939809:function(e,t,n){"use strict";n.d(t,{Cy:function(){return f},HE:function(){return p},Mv:function(){return c},PR:function(){return b},Y4:function(){return y},dL:function(){return l},fS:function(){return h},fv:function(){return u},lu:function(){return m},qS:function(){return d},uc:function(){return s}});var r=n(666472);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},c=function(e){var t=(0,r.Z)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},s=function(e){var t=(0,r.Z)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},u=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},d=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},y=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},h=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},m=function(e){var t,n=(0,r.Z)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:null!==(t=e.slotIndex)&&void 0!==t?t:0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:n})},b=function(e){var t=(0,r.Z)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"CuratedBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},692440:function(e,t,n){"use strict";n.d(t,{H:function(){return f},N:function(){return d}});var r=n(672652),o=n(342513),i=n(638747),a=n(819267);function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,o.Z)("LastSavedTo"),u=s.Provider,d=s.useHook;function f(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)())||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||l(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=o[0],d=o[1];(0,i.Z8)("BoardPickerBoardsShortlistResource",function(e){s||d(e.response.resource_response.data)});var f=(0,r.useCallback)(function(e){var t=s?s.filter(function(t){return t.id!==e.id}):[];d([e].concat(function(e){if(Array.isArray(e))return c(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||l(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[s]),p=(0,r.useMemo)(function(){return{lastSavedTo:s,saveToBoard:f}},[s,f]);return(0,a.jsx)(u,{value:p,children:n})}},490166:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(684404),o=n(819267);function i(e){var t=e.children,n=e.onMouseEnter,i=e.onMouseLeave,a=e.onTouch,l=e.rounding,c=e.fullWidth,s=e.pressState,u=void 0===s?"none":s,d=e.accessibilityLabel,f=e.role,p=(Array.isArray(u)?u:[u]).includes("compress");return(0,o.jsx)(r.iP,{accessibilityLabel:d,fullWidth:void 0!==c&&c,onMouseEnter:n&&function(e){return n(e.event)},onMouseLeave:i&&function(e){return i(e.event)},onTap:a&&function(e){return a(e.event)},role:f,rounding:l,tapStyle:p?"compress":"none",children:t})}},324186:function(e,t,n){"use strict";n.d(t,{C:function(){return d},f:function(){return u}});var r=n(672652),o=n(342513),i=n(819267);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=(0,o.Z)("MostRecentPin"),s=c.Provider,u=c.useHook;function d(e){var t=e.children,n=a((0,r.useState)(),2),o=n[0],l=n[1],c=a((0,r.useState)(),2),u=c[0],d=c[1],f=(0,r.useCallback)(function(e){d([e].concat((u?u.slice(0,10):[]).filter(function(t){return t!==e})))},[u]),p=(0,r.useMemo)(function(){return{id:o,plpImageSignatures:u,setMostRecentPinId:l,setMostRecentPinImage:f}},[o,u,f]);return(0,i.jsx)(s,{value:p,children:t})}},923075:function(e,t,n){"use strict";var r=n(672652),o=n(684404),i=n(140017),a=n(317540),l=n(819267);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(s,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=y(s);if(t){var r=y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function s(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=i.call.apply(i,[this].concat(n))),"setInputRef",function(t){t&&(e._input=t)}),h(p(e),"handleKeyDown",function(t){var n=e.props,r=n.disabled,o=n.indexManager;if(!r)switch(t.which){case a.Z.ENTER:case a.Z.NUMPAD_ENTER:t.preventDefault(),o.select();break;case a.Z.UP:t.preventDefault(),o.prev();break;case a.Z.DOWN:t.preventDefault(),o.next()}}),e}return n=[{key:"componentDidMount",value:function(){this._input&&this._input.focus()}},{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.value;return(0,l.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,l.jsx)(o.Um,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:function(e){return t(e.value)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:"lg",value:n})})}}],d(s.prototype,n),r&&d(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(r.Component);t.Z=function(e){var t=(0,i.ZP)();return(0,l.jsx)(b,u(u({},e),{},{i18n:t}))}},175597:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(672652),o=n(684404),i=n(140017),a=n(218829),l=n(600959),c=n(923075),s=n(581349),u=n(503500),d=n(160390),f=n(819267);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(y,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=v(y);if(t){var r=v(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return g(e)}(this,e)});function y(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(g(e=i.call.apply(i,[this].concat(n))),"state",{searchQuery:""}),_(g(e),"handleSelectItem",function(t){var n=e.props,r=n.onCreate,o=n.onSelected;!t&&r?r(e.state.searchQuery):t&&o(t),(r||t)&&e.setState({searchQuery:""})}),_(g(e),"handleSearchQueryInput",function(t){e.setState({searchQuery:t})}),_(g(e),"renderSectionHeader",function(e){return e.title?(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{paddingX:3,paddingY:1,children:(0,f.jsx)(o.xv,{size:"200",children:e.title})})}):null}),_(g(e),"renderRow",function(t){var n=t.item,r=t.hovered,o=t.sectionProps,i=e.props,a=i.boardSavedTo,l=i.isSelectMode,c=i.disabledRowId,u=e.state.searchQuery,d=(void 0===o?{}:o).inSectionSelection,p=void 0!==d&&d,y=a&&a.board===n.id?a&&a.state:null,h="board_section"===n.type;return(0,f.jsx)(s.Z,{disabled:n.id===c&&p,isSection:h,isSelectMode:l,isWithinSectionPicker:p,item:n,saveState:y,searchQuery:u,selected:r})}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,n=e.createButtonLabel,r=e.hasLowBoardCount,i=e.getSections,s=e.isLoaded,p=e.onCreate,y=e.pinId;if(!s)return(0,f.jsx)(o.xu,{paddingY:5,children:(0,f.jsx)(o.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})});var h=this.state.searchQuery,m=i(h);return this.indexManager=new a.Z(m.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem),(0,f.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!r&&(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.xu,{marginBottom:4,marginTop:1,paddingX:3,children:(0,f.jsx)(c.Z,{disabled:!!t,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:h})})}),(0,f.jsx)(l.Z,{disabled:!!t,grow:!r&&!h,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:m}),p&&(0,f.jsx)(o.xu,{borderStyle:m.length>1?"shadow":"none",children:(0,f.jsx)(d.Z,{buttonLabel:n,hasHoverState:!0,name:h,onClick:function(){return p(h)}})}),r&&p&&y&&(0,f.jsx)(u.Z,{onBoardSelected:p,pinId:y})]})}}],m(y.prototype,n),r&&m(y,r),Object.defineProperty(y,"prototype",{writable:!1}),y}(r.Component);function j(e){var t=(0,i.ZP)();return(0,f.jsx)(S,h(h({},e),{},{i18n:t}))}},673463:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"s",:"u",:"u",:"u",:"u"},o=function(e){if(!e)return"";for(var t="",n=0;n<e.length;n+=1)t+=r[e.charAt(n)]||e.charAt(n);return t},i=function(e,t){for(var n=t.split(" "),r=e.split(" "),i=0,a=0;a<r.length;a+=1)(o(r[a]).includes(n[i])||r[a].includes(n[i]))&&(i+=1);return i===n.length},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",r=t.toLowerCase();return e.filter(function(e){return i(e[n].toLowerCase(),r)})}},42173:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(672652),o=n(71328);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var f=function(e,t){var n=e.scrollTop,r=e.clientHeight,o=e.scrollHeight;return n+r+(t?t(r):2*r)>o},p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(d,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=s(d);if(t){var r=s(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return c(e)}(this,e)});function d(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return u(c(e=r.call.apply(r,[this].concat(n))),"setContainerRef",function(t){e.containerRef=t}),u(c(e),"fetchMoreIfNecessary",(0,o.Z)(function(){var t=e.props,n=t.fetchMore,r=t.scrollBuffer;n&&e.containerRef&&f(e.containerRef,r)&&n()},200)),e}return a(d.prototype,[{key:"componentDidMount",value:function(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function(){this.fetchMoreIfNecessary()}},{key:"render",value:function(){return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}]),n&&a(d,n),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent)},519925:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},j:function(){return c}});var r=n(684404),o=n(140017),i=n(339001),a=n(340523),l=n(819267),c=[0,2,3];function s(e){var t,n=e.hasAffiliateProducts,s=e.href,u=e.isPromoted,d=e.onNavigateSponsorClick,f=e.sponsorName,p=e.sponsorUsername,y=e.sponsorshipStatus,h=e.textWeight,m=(0,o.ZP)(),b=(0,a.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,a.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,v=s||(p?"/".concat(p,"/"):null),_=v&&f?(0,l.jsx)(r.rU,{dataTestId:"sponsorship-text-link",href:v,onClick:d,children:(0,l.jsx)(r.xv,{size:"200",weight:void 0===h?"bold":h,children:f})},f):void 0;return u?t=(0,i.nk)(m._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:_}):y||0===y?f&&!c.includes(y)?t=(0,i.nk)(m._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:_}):g&&2===y||(t=m._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):n&&(t=m._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,l.jsxs)(r.xv,{inline:!0,lineClamp:2,size:"200",children:[b&&!u&&"Ad  "||"",t]})}},784300:function(e,t,n){"use strict";var r=n(672652),o=n(684404),i=n(572345),a=n(819267);t.Z=function(e){var t=e.badgeSize,n=e.badgeSpacing,l=e.fullName,c=e.isVerifiedIdentity,s=e.isVerifiedMerchant,u=e.truncate,d=l.split(" "),f=d.slice(0,d.length-1).join(" "),p=" ".concat(d[d.length-1]);return void 0!==u&&u?(0,a.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(o.xv,{lineClamp:1,weight:"bold",children:l}),(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:n}},flex:"none",paddingX:1,position:"relative",children:(0,a.jsx)(i.Z,{isVerifiedIdentity:c,isVerifiedMerchant:s,size:t})})]}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("span",{children:f}),(0,a.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[p,"\xa0",(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{top:n}},display:"inlineBlock",flex:"none",position:"relative",children:(0,a.jsx)(i.Z,{isVerifiedIdentity:c,isVerifiedMerchant:s,size:t})})]})]})}},86967:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(684404),o=n(140017),i=n(165706),a=n(179425),l=n(913449),c=n(125768),s=n(819267);function u(e){var t=(0,o.ZP)(),n=e.backButtonIcon,u=e.errorMessage,d=e.name,f=e.onNextButtonTouch,p=e.onNameChange,y=e.selectedPinIds,h=void 0===y?[]:y,m=e.useRoundedCorners,b=h.length>0?130:64;return(0,s.jsxs)(a.default,{hasFixedHeader:!0,children:[(0,s.jsxs)(i.FixedHeader,{height:b,paddingY:3,useRoundedCorners:m,children:[(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,s.jsx)(c.Z,{color:"darkGray",icon:n||"cancel",padding:3,size:"sm"}),(0,s.jsx)(r.X6,{accessibilityLevel:1,size:"300",children:t._('Add section', 'for add board section page', 'for add board section page')}),(0,s.jsx)(r.xu,{"data-test-id":"create-section-button",children:(0,s.jsx)(r.zx,{accessibilityLabel:t._('Add', 'boardSectionCreate.Add.Button.Text', 'Add button accessibility label for board section create page'),color:"red",disabled:""===d.trim(),onClick:f,size:"lg",text:t._('Next', 'Next button for board section create page', 'Next button for board section create page')})})]}),h&&(0,s.jsx)(l.Z,{selectedPinIds:h})]}),(0,s.jsx)(r.xu,{"data-test-id":"addSectionName",paddingX:2,paddingY:3,children:(0,s.jsx)(r.nv,{errorMessage:u||"",id:"section-name-input",label:t._('Name', 'boardSectionCreate.TextField.Name.Label', 'TextField label to Name on BoardSectionCreate'),onChange:function(e){return p(e.event)},size:"lg",value:d})})]})}},533232:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(672652),o=n(780277),i=n(684404),a=n(140017),l=n(870319),c=n(149722),s=n(892185),u=n(296011),d=n(951766),f=n(900876),p=n(819267);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){var e=(0,c.Z)().id;return(0,l.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker",user_id:e}}),(0,o.useSelector)(function(e){return(0,u.Z)(e)||[]})};function m(e){var t,n=e.excludeBoardId,o=e.hideSectionPickerList,l=e.onRepin,c=(0,a.ZP)(),u=h(),m=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=m[0],g=m[1],v=function(e,t){if(!o&&e&&t){g(t);return}l(t)};return u.length>0&&(b&&!o?(0,p.jsx)(f.Z,{boardId:null==b?void 0:b.id,repin:function(e,t){b&&l(b,t)},showSectionRep:!0}):(0,p.jsxs)(i.xu,{"data-test-id":"board-picker-row-container",children:[(0,p.jsx)(i.xu,{marginTop:3,children:(0,p.jsx)(i.xv,{children:c._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')})}),(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"".concat(s.T,"px")}},paddingY:3,children:u.filter(function(e){return e.id!==n}).map(function(e){return(0,p.jsx)(d.Z,{boardId:e.id,onBoardSelected:function(t){return v(t,e)}},e.id)})})]}))}},676166:function(e,t,n){"use strict";n.d(t,{Wx:function(){return C}});var r=n(672652),o=n(780277),i=n(328038),a=n(684404),l=n(454514),c=n(140017),s=n(165706),u=n(179425),d=n(13848),f=n(892185),p=n(533232),y=n(913449),h=n(490166),m=n(402287),b=n(125768),g=n(900876),v=n(819267);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function x(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,l,"next",e)}function l(e){j(i,r,o,a,l,"throw",e)}a(void 0)})}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}function T(e,t,n){return e?n._('Got it! Hang tight while we move all those Pins...', 'Toast message for bulk pins move.', 'Toast message for bulk pins move.'):t?n._('Saved to section!', ' - ', ' -- '):n._('Saved to board!', ' - ', ' -- ')}function C(e){var t=e.onAddNewSection,n=e.useIconWithBackground,r=(0,c.ZP)();return(0,v.jsx)(s.FixedFooter,{alignCenter:n,height:n?f.y:f.T,children:(0,v.jsx)(h.Z,{onTouch:t,pressState:"none",children:(0,v.jsxs)(a.xu,{alignItems:"center","data-test-id":"addSectionButton",display:"flex",padding:n?0:1,children:[n?(0,v.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,v.jsx)(a.JO,{accessibilityLabel:r._('Create board button', 'RepinSection.CreateBoard.Button', 'accessibility label for create board button'),color:"default",icon:"add",size:20})}):(0,v.jsx)(a.JO,{accessibilityLabel:r._('Add section button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),n?(0,v.jsx)(a.xu,{marginStart:2,children:(0,v.jsx)(a.xv,{size:"400",weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})}):(0,v.jsx)(a.xu,{marginStart:3,children:(0,v.jsx)(a.xv,{weight:"bold",children:r._('Add section', 'Add new section to Pin to', 'Add new section to Pin to')})})]})})})}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=A(i);if(t){var r=A(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return I(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(I(e=o.call.apply(o,[this].concat(n))),"onRepinToBoard",function(t){t.section_count?e.props.onRepinToBoardWithSections(t):e.props.repinToOtherBoard(t.id,e.props.i18n)}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardId,n=e.boardSectionId,r=e.orginalBoardId,o=e.onAddNewSection,i=e.repin,l=e.hideBoardPickerRow,c=e.selectedPinIds,d=e.isCollaborative,f=r===t;return(0,v.jsxs)(u.default,{hasFixedHeader:!0,children:[(0,v.jsxs)(s.FixedHeader,{hasBorder:!0,height:140,children:[(0,v.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsx)(a.xu,{column:2,children:(0,v.jsx)(b.Z,{})}),(0,v.jsx)(a.xu,{column:8,children:(0,v.jsx)(a.X6,{accessibilityLevel:1,align:"center",size:"300",children:this.props.i18n._('Choose section', 'title for section selection in repin flow', 'title for section selection in repin flow')})}),(0,v.jsx)(a.xu,{column:2})]}),(0,v.jsx)(y.Z,{selectedPinIds:c})]}),t&&(0,v.jsx)(g.Z,{boardId:t,hideBoardPickerRow:f&&l,originalBoardId:r,repin:i,sectionId:n}),f&&(0,v.jsxs)(a.xu,{children:[!d&&(0,v.jsx)(p.Z,{excludeBoardId:t,hideSectionPickerList:!0,onRepin:this.onRepinToBoard}),(0,v.jsx)(C,{onAddNewSection:o})]})]})}}],w(i.prototype,n),r&&w(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.PureComponent);t.ZP=function(e){var t,n,r=e.inSelectAll,a=e.pinIds,s=e.orginalBoardId,u=e.boardSectionId,f=e.onRefreshBoardSection,p=e.url,y=(0,d.F9)().showToast,h=(0,c.ZP)(),b=(0,i.k6)(),g=(0,o.useDispatch)(),_=(t=x(regeneratorRuntime.mark(function e(t,n,o){var i,c,d,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n&&n.id,c={boardId:s,sectionId:u},d={boardId:t,sectionId:i},h=r?(0,m.X_)({source:c,target:d,excludePinIds:a}):(0,m.Kw)({source:c,target:d,pinIds:a}),!(s!==t)){e.next=10;break}return e.next=7,g(h);case 7:b.push({pathname:p}),e.next=15;break;case 10:return e.next=12,g(h);case 12:if(!f){e.next=15;break}return e.next=15,f();case 15:y(function(e){var t=e.hideToast;return(0,v.jsx)(l.ZP,{onHide:t,text:T(r,i,o)})});case 16:case"end":return e.stop()}},e)})),function(e,n,r){return t.apply(this,arguments)}),P=(n=x(regeneratorRuntime.mark(function e(t,n){var o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={boardId:s,sectionId:u},i={boardId:t,sectionId:void 0},y(function(e){var t=e.hideToast;return(0,v.jsx)(l.ZP,{onHide:t,text:T(r,void 0,n)})}),e.next=5,g(r?(0,m.X_)({source:o,target:i,excludePinIds:a}):(0,m.Kw)({source:o,target:i,pinIds:a}));case 5:b.go(-2);case 6:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)});return(0,v.jsx)(R,S(S({},e),{},{i18n:h,repin:_,repinToOtherBoard:P}))}},913449:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(672652),o=n(684404),i=n(140017),a=n(19447),l=n(819267);function c(e){var t=e.selectedPinIds,n=(0,i.ZP)(),c=(0,r.useRef)(),s=(0,a.AF)(),u=(t||[]).map(function(e){return s[e]}).filter(Boolean);(0,r.useEffect)(function(){var e=c.current;e&&(e.scrollLeft=e.scrollWidth-e.offsetWidth)},[u]);var d=u.map(function(e,t){var r,i,a,c,s=e.description,u=e.images,d=null==u?void 0:u["236x"];return(0,l.jsx)(o.xu,{marginEnd:1,children:(0,l.jsx)(o.zd,{height:65,rounding:2,wash:!0,width:50,children:(0,l.jsx)(o.Ee,{alt:!!(null!=s&&s.trim())&&(null==s?void 0:s.trim())||n._('Selected Pin', 'SelectedPinsPreview.image.accessibilityLabel', 'Accessibility label for Pin image without description'),color:null!==(r=e.dominant_color)&&void 0!==r?r:"",fit:"contain",naturalHeight:null!==(i=null==d?void 0:d.height)&&void 0!==i?i:1,naturalWidth:null!==(a=null==d?void 0:d.width)&&void 0!==a?a:1,src:null!==(c=null==d?void 0:d.url)&&void 0!==c?c:""})})},t)});return(0,l.jsx)(o.xu,{ref:c,display:"flex",marginTop:2,overflow:"scroll",children:d})}},892185:function(e,t,n){"use strict";n.d(t,{T:function(){return r},y:function(){return o}});var r=70,o=80},267508:function(e,t,n){"use strict";var r=n(684404),o=n(860910),i=n(327540),a=n(819267),l=function(e){var t=e.collaborator_count,n=e.useLegoLayout,o=e.type;return n?(0,a.jsx)(r.xu,{marginEnd:t?2:0,children:(0,a.jsx)(i.Z,{type:o})}):(0,a.jsx)(i.Z,{type:o})};t.Z=function(e){var t,n=e.board,c=e.showCollaborativeIcon,s=e.showPrivateIcon,u=e.showProtectedIcon,d=e.showSectionsIcon,f=e.useLegoLayout,p=(null==n?void 0:null===(t=n.collaborating_users)||void 0===t?void 0:t.length)||0;return c||s||u||d?(0,a.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:f?0:5,children:[s&&(0,a.jsx)(l,{collaborator_count:p,type:"secret",useLegoLayout:f}),u&&(0,a.jsx)(l,{collaborator_count:p,type:"protected",useLegoLayout:f}),c&&(f?(0,a.jsx)(o.Z,{board:n,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(i.Z,{type:"group"})),d&&(0,a.jsx)(i.Z,{type:"sections"})]}):null}},319510:function(e,t,n){"use strict";var r=n(684404),o=n(819267);t.Z=function(e){var t=e.image_url,n=e.naturalHeight,i=e.naturalWidth;return(0,o.jsx)(r.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,o.jsx)(r.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,o.jsx)(r.Ee,{alt:"",naturalHeight:n,naturalWidth:i,src:t})})})}},218829:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=l(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}n.d(t,{Z:function(){return d}});var c={row:0,section:0},s={row:-1,section:-1},u=function(){},d=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.index=i({},c),this.sections=e,this.updateCallback=u,this.selectItem=u}return e=[{key:"getIndex",value:function(){return this.index}},{key:"isAtStart",value:function(){var e=this.index,t=e.row,n=e.section;return 0===t&&0===n}},{key:"isAtEnd",value:function(){var e=this.index,t=e.row,n=e.section,r=this.sections[n]||[];return this.sections.length===n+1&&r.length===t+1}},{key:"next",value:function(){if(!this.isAtEnd()){var e=this.index,t=e.row,n=e.section;t===s.row&&n===s.section?this.index=i({},c):this.sections[n].length>t+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function(){if(!this.isAtStart()){var e=this.index,t=e.row,n=e.section;if(t===s.row&&n===s.section)this.index=i({},c);else if(t>0)this.index.row-=1;else{var r=this.index.section-1;this.index={section:r,row:this.sections[r].length-1}}this.updateCallback(!0)}}},{key:"select",value:function(){var e=this.index,t=e.row,n=e.section;this.selectItem((this.sections[n]||[])[t])}},{key:"setInactive",value:function(){this.index=i({},s),this.updateCallback()}},{key:"setSelectItem",value:function(e){this.selectItem=e}},{key:"setUpdateCallback",value:function(e){this.updateCallback=e}},{key:"updateIndex",value:function(e){this.index=e,this.updateCallback()}}],a(n.prototype,e),t&&a(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}()},600959:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(672652),o=n(684404),i=n(42173),a=n(819267);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(y,e);var t,n,r,p=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=d(y);if(t){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function y(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y),f(u(t=p.call(this,e)),"setSelectedItemRef",function(e){t.selectedItemRef=e}),f(u(t),"handleIndexUpdate",function(e){var n=t.props.indexManager;t.setState({selectedIndex:n.getIndex(),selectionMovedByKeyboard:!!e})}),f(u(t),"handleSelectItem",function(e){return function(){var n=t.props,r=n.disabled,o=n.onSelectItem;r||o(e)}}),f(u(t),"handleMouseEnter",function(e){return function(){var n=t.props,r=n.disabled,o=n.indexManager;r||o.updateIndex(e)}}),f(u(t),"handleMouseLeave",function(){var e=t.props,n=e.disabled,r=e.indexManager;n||r.setInactive()}),f(u(t),"renderItems",function(e,n){var r=t.props.renderItem,i=t.state.selectedIndex||{},l=i.row,c=i.section,s=e.customProps,u=void 0===s?{}:s,d=e.items,f=e.renderItem,p=u.isDisabled,y=n===c,h=f||r;return h&&d.map(function(e,r){var i,c=null!==(i=null==p?void 0:p(e))&&void 0!==i&&i,s=y&&r===l;return(0,a.jsx)(o.xu,{ref:!c&&s?t.setSelectedItemRef:null,"data-test-id":"board-selection",children:c?h({item:e,hovered:s,sectionProps:u}):(0,a.jsx)(o.iP,{fullWidth:!1,onMouseEnter:t.handleMouseEnter({section:n,row:r}),onMouseLeave:t.handleMouseLeave,onTap:t.handleSelectItem(e),rounding:2,children:h({item:e,hovered:s,sectionProps:u})})},r)})}),f(u(t),"renderSections",function(){var e=t.props,n=e.renderSectionHeader;return e.sections.map(function(e,r){return(0,a.jsxs)(o.xu,{children:[n&&n(e,r),t.renderItems(e,r)]},r)})});var t,n=t.props.indexManager;return t.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(t.handleIndexUpdate),t}return n=[{key:"componentDidUpdate",value:function(e){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var n=this.selectedItemRef;if(!(n instanceof HTMLElement))return;var r=n.getBoundingClientRect(),o=r.top,i=r.bottom,a=t.getBoundingClientRect(),l=a.top;i>=a.bottom?n.scrollIntoView(!1):o<=l&&n.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.grow,r=void 0!==n&&n,l=t.maxHeight,c=t.fetchMore;return(0,a.jsx)(i.Z,{fetchMore:c,children:function(t){var n=t.setRef,i=t.onScroll;return(0,a.jsx)(o.xu,{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){e.containerRef=t,n(t)}),flex:r?"grow":void 0,height:r?"100%":void 0,maxHeight:l,onScroll:i,overflow:"auto",children:e.renderSections()})}})}}],c(y.prototype,n),r&&c(y,r),Object.defineProperty(y,"prototype",{writable:!1}),y}(r.Component)},317985:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(684404),o=n(819267),i={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function a(){return(0,o.jsx)(r.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:i,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function l(e){var t=e.disabled,n=e.name,i=e.onClick,l=e.size,c=e.submitting,s=e.text;return(0,o.jsxs)(r.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[c&&(0,o.jsx)(a,{}),(0,o.jsx)(r.zx,{color:"red",disabled:t||c,name:n,onClick:i,size:l,text:s,type:"submit"})]})}},739382:function(e,t,n){"use strict";n.d(t,{Bb:function(){return h},Bx:function(){return l},F4:function(){return a},Qj:function(){return c},_6:function(){return y},gv:function(){return i},hg:function(){return s},is:function(){return f},jP:function(){return p},lt:function(){return o},oM:function(){return u},wI:function(){return d}});var r=n(624797),o=function(e){return e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal')},i=function(e){var t=e.firstName,n=e.i18n;return t?(n._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",t):n._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board')},a=function(e){var t=(0,r.mB)(e.search).board_url;if(t){var n=(0,r.Jx)(t),o=(0,r.XP)({accept_invite:!0,seamless:!0});return n.includes("?")?"".concat(n,"&").concat(o):"".concat(n,"?").concat(o)}return e.pathname},l=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},c=function(e){var t=e.pathname;if(t.startsWith("/pin/")){var n=t.split("/");if(n.length>2)return"/".concat(n[1],"/").concat(n[2],"/repin/")}return t},s=function(e){return e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.')},u=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},d=function(e){var t=e.pathname;if(t.startsWith("/pin/")){var n=t.split("/");if(n.length>2)return"/".concat(n[1],"/").concat(n[2],"/edit/")}return t},f=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},p=function(e){return e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.')},y=function(e){return e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.')},h=function(e){return e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')}},121228:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(140017),o=n(739382),i=n(166770),a=n(819267);function l(e){var t=e.children,n=e.callbackFunction,l=e.modalHeader,c=e.nextLocation,s=(0,r.ZP)(),u=(0,i.H)(),d=u.viewer,f=u.loginForMore,p=u.limitedLoginModalSubheader,y=u.limitedLoginModalNextLocation,h="LIMITED_LOGIN"===d.type;return(0,a.jsx)("div",{onClickCapture:function(e){h&&(n&&n(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),null==f||f.setVisible(!0),null==p||p.setText(l||(0,o.lt)(s)),c&&(null==y||y.setRoute(c)))},children:t})}},88988:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}});var r,o,i=n(672652);n(42279);var a=n(684404),l=n(207012),c=n(140017),s=n(339001),u=n(819267);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}var g=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],v=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},_=function(e){return e*(Math.PI/180)},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(o);if(t){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return m(y(e=r.call.apply(r,[this].concat(n))),"animationTimer",null),m(y(e),"canvasRemovalTimer",null),m(y(e),"containerRef",(0,i.createRef)()),m(y(e),"buildCanvas",function(){if(!e.containerRef.current)return null;var t=e.containerRef.current.getBoundingClientRect(),n=t.height,r=t.width,o=2.5*n,i=document.createElement("canvas");return i.style.position="absolute",i.style.left="".concat(0-(o-r)/2,"px"),i.style.top="".concat(0-(o-n)/2,"px"),i.style.pointerEvents="none",i.style.width="".concat(o,"px"),i.style.height="".concat(o,"px"),i.style.overflow="visible",i.width=o,i.height=o,i}),m(y(e),"explode",function(){var t=e.buildCanvas(),n=e.containerRef.current;if(t&&n){var r=t.getContext("2d");n.prepend(t),function e(t,n,r,o){window.requestAnimationFrame(function(){return e(t,n,r,o)}),n.clearRect(0,0,r,o),t.forEach(function(e){e.x+=e.speed*Math.cos(_(e.degree)),e.y+=e.speed*Math.sin(_(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(n.beginPath(),n.globalAlpha=e.opacity,n.fillStyle=e.color,n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.fill())})}(Array.from(Array(120)).map(function(){return{x:t.width/2,y:t.height/2,radius:Math.round(v(10,30)),color:g[Math.floor(Math.random()*g.length)],degree:Number(v(0,360).toFixed(1)),speed:Math.round(v(0,25)),friction:.9,opacity:Number(v(0,.5).toFixed(1)),yVel:0,gravity:.04}}),r,t.width,t.height),e.canvasRemovalTimer=setTimeout(function(){n.removeChild(t)},(e.props.delay||0)+800)}}),e}return f(o.prototype,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.delay,r=t.startAnimation,o=e.startAnimation;r&&o!==r&&(this.animationTimer=setTimeout(this.explode,n))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return(0,u.jsx)(a.xu,{ref:this.containerRef,position:"relative",children:this.props.children})}}]),n&&f(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(i.PureComponent);m(P,"defaultProps",{delay:0});var S=["pinKey","shuffleAssetKey"];function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){E(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function I(e,t){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}var C=void 0!==r?r:r=n(786903),R=void 0!==o?o:o=n(43737),D=function(e,t,n,r){var o,i,a,l,c,s={},u=null===(o=n.current)||void 0===o?void 0:o.getBoundingClientRect(),d=null===(i=t.current)||void 0===i?void 0:i.getBoundingClientRect(),f=null===(a=r.current)||void 0===a?void 0:a.getBoundingClientRect();if(d&&u&&f){s={left:u.left-d.left,top:u.top-d.top};var p={x:f.left-u.left,y:f.top-u.top},y={x:(f.width-u.width)/2,y:(f.height-u.height)/2};l="translate(".concat(p.x,"px, ").concat(p.y,"px)"),c="translate(".concat(y.x,"px, ").concat(y.y,"px)")}return{mask:{position:"absolute",left:s.left,top:s.top,width:e?null==f?void 0:f.width:null==u?void 0:u.width,height:e?null==f?void 0:f.height:null==u?void 0:u.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?l:"none",transform:e?l:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==u?void 0:u.width,height:null==u?void 0:u.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?c:"none",transform:e?c:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(l,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=k(l);if(t){var r=k(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return A(e)}(this,e)});function l(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(A(e=o.call.apply(o,[this].concat(n))),"state",{isInitialized:!1}),E(A(e),"containerRef",(0,i.createRef)()),E(A(e),"pinDestinationRef",(0,i.createRef)()),e}return n=[{key:"componentDidMount",value:function(){var e=this;window.requestAnimationFrame(function(){e.setState({isInitialized:!0})})}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){var e=this.state.isInitialized,t=this.props.onDismiss;e&&t&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(t,2600))}},{key:"render",value:function(){var e,t,n,r,o,l=this.props,c=l.pin,d=l.firstRepin,f=l.pinImageRef,p=l.selectedBoardName,y=l.shuffleAsset,h=null!==(e=null==y?void 0:y.cutoutImages)&&void 0!==e?e:null==c?void 0:c.imageSpec_236x,m=null!==(t=null==c?void 0:c.description)&&void 0!==t?t:"",b=null!==(n=null==h?void 0:h.height)&&void 0!==n?n:1,g=null!==(r=null==h?void 0:h.width)&&void 0!==r?r:1,v=null!==(o=null==h?void 0:h.url)&&void 0!==o?o:"",_=this.state.isInitialized,S=D(_,this.containerRef,f,this.pinDestinationRef),j=S.mask,x=S.imageContainer;return(0,u.jsx)(i.Fragment,{children:(0,u.jsxs)(a.xu,{ref:this.containerRef,bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:j},maxHeight:335,overflow:"hidden",children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:x},children:(0,u.jsx)(a.Ee,{alt:m,naturalHeight:b,naturalWidth:g,src:v})})}),(0,u.jsx)(a.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:_?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1}},left:!0,position:"absolute",right:!0,top:!0,children:(0,u.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:_?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}},direction:"column",display:"flex",height:"100%",justifyContent:"center",children:[(0,u.jsx)(P,{delay:1250,startAnimation:_,children:(0,u.jsx)(a.zd,{height:180,rounding:2,width:270,children:(0,u.jsxs)(a.kC,{alignItems:"stretch",height:"100%",justifyContent:"start",width:"100%",children:[(0,u.jsx)(a.xu,{ref:this.pinDestinationRef,color:"transparent",flex:"grow",height:"100%",marginEnd:1}),(0,u.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:80,children:[(0,u.jsx)(a.xu,{color:"secondary",flex:"grow",marginBottom:1}),(0,u.jsx)(a.xu,{color:"secondary",flex:"grow"})]})]})})}),(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:_?1:0,WebkitTransform:_?"translateY(0)":"translateY(20%)",transform:_?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"}},"data-test-id":"board-saved-heading",paddingX:2,children:(0,u.jsx)(a.X6,{align:"center",children:d?(0,s.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First board create confirmation message', 'First board create confirmation message'),{selectedBoardName:null!=p?p:""}):(0,s.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:null!=p?p:""})})})]})})]})})}}],O(l.prototype,n),r&&O(l,r),Object.defineProperty(l,"prototype",{writable:!1}),l}(i.PureComponent);function F(e){var t=e.pinKey,n=e.shuffleAssetKey,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,S),o=(0,c.ZP)(),i=(0,l.Z)(C,t),a=(0,l.Z)(R,n);return(0,u.jsx)(B,w(w({},r),{},{i18n:o,pin:i,shuffleAsset:a}))}E(B,"defaultProps",{firstRepin:!1})},793545:function(e,t,n){"use strict";n.d(t,{ZP:function(){return t$}});var r,o,i,a,l,c,s,u,d,f,p=n(672652),y=n(780277),h=n(42279),m=n(328038),b=n(684404),g=n(587703),v=n(25919),_=n(190971),P=n(930837),S=n(844683),j=n(454514),x=n(207012),w=n(673500),O=n(140017),I=n(339001),A=n(681508),k=n(165706),E=n(179425),T=n(409403),C=n(991944);function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){F(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(e,t,n){var r;return(r=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==R(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===R(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=void 0!==r?r:r=n(59363),z=function(e,t){var n=(0,x.Z)(Z,e),r=(0,y.useDispatch)(),o=null;if(null!=n&&n.trackingParamsMap&&(o=n.trackingParamsMap.reduce(function(e,t){if(null!=t&&t.key){var n;return B(B({},e),{},F({},t.key,null!==(n=t.data)&&void 0!==n?n:""))}return e},{})),(0,p.useEffect)(function(){null!=n&&n.trackingParams&&r((0,T.Er)({id:n.entityId,nodeId:n.__id,resource:t,value:n.trackingParams}))},[r,null==n?void 0:n.entityId,null==n?void 0:n.__id,null==n?void 0:n.trackingParams]),null!=n&&n.trackingParams){var i=(0,C.P)(t.name,t.options);return B(B({},o),{},F({},i,null==n?void 0:n.trackingParams))}return o},L=n(340523),N=n(826267),M=n(870319),K=n(554786),U=n(149722),H=n(676166),G=n(254292),W=n(638365);function V(e,t){return!!(e&&e.placement_id&&e.experience_id===t)}var q=n(739382),Y=n(121228),Q=n(891162),X=n(819267);function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ee="cubic-bezier(0.66, 0.025, 0.33, 0.975)",et=(0,Q.qe)(function(e,t,n,r,o){var i=e,a=t,l=0,c=0,s="",u=Math.floor(t/3);if("shrinkToPin"===n&&(l="24px",c=1,i=Math.floor(3*u/2),a=u),"pinToGrid"===n&&r&&o){var d=r.getBoundingClientRect(),f=o.getBoundingClientRect(),p=f.x+f.width/2-(d.x+d.width/2),y=f.y+f.height/2-(d.y+d.height/2);s="translate(".concat(p,"px, ").concat(y,"px)"),l="24px 0px 0px 24px",c=1,i=u,a=u}return{borderRadius:l,height:i,opacity:c,overflow:"hidden",width:a,WebkitTransformOrigin:"center center",transformOrigin:"center center",WebkitTransform:s,transform:s,WebkitTransition:"all .42s ".concat(ee),transition:"all .42s ".concat(ee)}}),en=(0,Q.qe)(function(e){return{opacity:e?1:0,WebkitTransition:"opacity .42s ".concat(ee),transition:"opacity .42s ".concat(ee)}}),er=(0,Q.qe)(function(e){return{opacity:e?0:1,WebkitTransition:"all .25s ".concat(ee),transition:"all .25s ".concat(ee),zIndex:3}});function eo(e){var t,n,r,o,i=e.completeExperience,a=e.pinDominantColor,l=e.pinImageHeight,c=e.pinImageWidth,s=e.pinImageUrl,u=(0,O.ZP)(),d=$((0,p.useState)("visible"),2),f=d[0],y=d[1],h=$((0,p.useState)("none"),2),m=h[0],g=h[1],v=window.innerWidth,_=v*(l/c),P=Math.floor(v/3),S=Math.floor(v/6);(0,p.useEffect)(function(){s&&"none"===m&&(t=setTimeout(function(){g("shrinkToPin")},85)),s&&"shrinkToPin"===m&&(n=setTimeout(function(){g("pinToGrid")},2e3)),"pinToGrid"===m&&"visible"===f&&(r=setTimeout(function(){y("hidden")},2e3)),"hidden"===f&&(o=setTimeout(function(){y("none"),i()},300))}),(0,p.useEffect)(function(){return function(){clearTimeout(t),clearTimeout(n),clearTimeout(r),clearTimeout(o)}},[]);var j=(0,p.useRef)(null),x=(0,p.useRef)(null);return(0,X.jsxs)(b.xu,{alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:er("hidden"===f)},direction:"column",display:"none"===f?"none":"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,children:[(0,X.jsxs)(b.xu,{alignItems:"center",display:"flex",height:v/2,justifyContent:"center",marginBottom:8,position:"relative",width:"100%",children:[(0,X.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:en("pinToGrid"===m)},position:"absolute",children:(0,X.jsx)(b.zd,{height:P,rounding:6,width:P+S+1,children:(0,X.jsxs)(b.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,X.jsx)(b.xu,{ref:x,color:"transparent",height:P,width:P}),(0,X.jsxs)(b.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,X.jsx)(b.xu,{color:"secondary",height:S,width:S}),(0,X.jsx)(b.xu,{color:"secondary",height:S,width:S})]})]})})}),(0,X.jsx)(b.xu,{ref:j,dangerouslySetInlineStyle:{__style:et(_,v,m,j.current,x.current)},position:"absolute",children:(0,X.jsx)(b.Ee,{alt:u._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:a,fit:"cover",naturalHeight:l,naturalWidth:c,src:s})})]}),(0,X.jsx)(b.xu,{marginBottom:8,marginTop:8,paddingX:12,children:(0,X.jsx)(b.X6,{align:"center",size:"500",children:u._('Keep your ideas organized by creating a board', 'boardPicker.edu.heading', 'board create education shown before user create their first board')})})]})}var ei=n(854694),ea=n(708171);function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ep(r.key),r)}}function es(e,t){return(es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eu(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ed(e){return(ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ef(e,t,n){return(t=ep(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ep(e){var t=function(e,t){if("object"!==el(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==el(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===el(t)?t:String(t)}var ey=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],eh=function(e,t){return Math.random()*((e||1)-(t||0))+(t||0)},em=function(e){return e*(Math.PI/180)},eb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&es(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=ed(o);if(t){var r=ed(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===el(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eu(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return ef(eu(e=r.call.apply(r,[this].concat(n))),"animationTimer",null),ef(eu(e),"canvasRemovalTimer",null),ef(eu(e),"childrenContainerRef",(0,p.createRef)()),ef(eu(e),"containerRef",(0,p.createRef)()),ef(eu(e),"buildCanvas",function(){if(!e.containerRef.current)return null;var t=window.innerWidth,n=e.containerRef.current.getBoundingClientRect(),r=n.height,o=n.top,i=document.createElement("canvas");return i.style.position="absolute",i.style.left="0px",i.style.top="".concat(o-(t-r)/2,"px"),i.style.pointerEvents="none",i.style.width="".concat(t,"px"),i.style.height="".concat(t,"px"),i.width=t,i.height=t,i}),ef(eu(e),"explode",function(){var t=e.buildCanvas();if(t){var n=e.containerRef.current,r=e.childrenContainerRef.current,o=t.getContext("2d");null==n||n.insertBefore(t,r),function e(t,n,r,o){window.requestAnimationFrame(function(){return e(t,n,r,o)}),n.clearRect(0,0,r,o),t.forEach(function(e){e.x+=e.speed*Math.cos(em(e.degree)),e.y+=e.speed*Math.sin(em(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(n.beginPath(),n.globalAlpha=e.opacity,n.fillStyle=e.color,n.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),n.fill())})}(Array.from(Array(120)).map(function(){return{x:t.width/2,y:t.height/2,radius:Math.round(eh(10,30)),color:ey[Math.floor(Math.random()*ey.length)],degree:Number(eh(0,360).toFixed(1)),speed:Math.round(eh(0,25)),friction:.9,opacity:Number(eh(0,.5).toFixed(1)),yVel:0,gravity:.04}}),o,t.width,t.height),e.canvasRemovalTimer=setTimeout(function(){null==n||n.removeChild(t)},(e.props.delay||0)+1e3)}}),e}return ec(o.prototype,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.delay,r=t.startAnimation,o=e.startAnimation;r&&o!==r&&(this.animationTimer=setTimeout(this.explode,n))}},{key:"componentWillUnmount",value:function(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}},{key:"render",value:function(){return(0,X.jsx)(b.xu,{ref:this.containerRef,children:(0,X.jsx)(b.xu,{ref:this.childrenContainerRef,children:this.props.children})})}}]),n&&ec(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(p.PureComponent);function eg(e){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ev(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(n),!0).forEach(function(t){eO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eI(r.key),r)}}function ej(e,t){return(ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ex(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ew(e){return(ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eO(e,t,n){return(t=eI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eI(e){var t=function(e,t){if("object"!==eg(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eg(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eg(t)?t:String(t)}ef(eb,"defaultProps",{delay:0});var eA=function(e,t,n){var r,o,i=[],a=null===(r=t.current)||void 0===r?void 0:r.getBoundingClientRect(),l=null===(o=n.current)||void 0===o?void 0:o.getBoundingClientRect();if(a&&l){var c={x:l.left-a.left,y:l.top-a.top},s={x:l.width/a.width,y:l.height/a.height};i.push("translate(".concat(c.x,"px, ").concat(c.y,"px)")),i.push("scale(".concat(s.x,", ").concat(s.y,")"))}return{WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?i.join(" "):"none",transform:e?i.join(" "):"none",WebkitTransition:"all .5s ease-in-out",transition:"all .5s ease-in-out",borderRadius:e?"8px 0px 0px 0px":"8px",overflow:"hidden",marginBottom:24}},ek=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ej(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=ew(i);if(t){var r=ew(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===eg(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return ex(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eO(ex(e=o.call.apply(o,[this].concat(n))),"state",{startAnimation:!1}),eO(ex(e),"dismissTimer",null),eO(ex(e),"pinRef",(0,p.createRef)()),eO(ex(e),"pinDestinationRef",(0,p.createRef)()),eO(ex(e),"handleAnimationAndCompletion",function(){var t=e.props,n=t.onComplete,r=t.savePin,o=t.selectedBoardName;if(o){var i=e.startAnimation();Promise.all([i,r(o)]).then(function(e){n((function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eP(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1],o)}).catch(function(e){i.then(function(){e&&e.onError&&e.onError()})})}}),eO(ex(e),"startAnimation",function(){return new Promise(function(t){e.setState({startAnimation:!0},function(){e.dismissTimer=setTimeout(function(){t()},2600)})})}),e}return n=[{key:"componentWillUnmount",value:function(){this.dismissTimer&&clearTimeout(this.dismissTimer)}},{key:"componentDidUpdate",value:function(){var e=this.props.selectedBoardName,t=this.state.startAnimation;e&&!t&&this.handleAnimationAndCompletion()}},{key:"render",value:function(){var e=this,t=this.props,n=t.pinDominantColor,r=t.pinImageUrl,o=t.selectedBoardName,i=this.state.startAnimation;return(0,X.jsxs)(p.Fragment,{children:[(0,X.jsx)(b.Le,{top:k.DEFAULT_HEIGHT,zIndex:new b.Ry(3),children:(0,X.jsx)(b.xu,{alignItems:"center",color:i?"transparent":"default",display:"flex",justifyContent:"center",children:(0,X.jsx)(b.xu,{ref:this.pinRef,dangerouslySetInlineStyle:{__style:eA(i,this.pinRef,this.pinDestinationRef)},height:84,position:"relative",width:84,children:(0,X.jsx)(b.Ee,{alt:this.props.i18n._('Pin image', 'Pin image on repin page', 'Pin image on repin page'),color:n,fit:"cover",naturalHeight:84,naturalWidth:84,src:r})})})}),(0,X.jsx)(b.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",opacity:i?1:0,WebkitTransition:"opacity .4s ease-in-out",transition:"opacity .4s ease-in-out",zIndex:2}},left:!0,position:"fixed",right:!0,top:!0,children:(0,X.jsxs)(b.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,X.jsx)(eb,{delay:1200,startAnimation:i,children:(0,X.jsx)(b.zd,{rounding:2,width:148,children:(0,X.jsx)(b.kC,{alignItems:"stretch",justifyContent:"start",wrap:!0,children:Array.from([,,,,]).map(function(t,n){var r=n<=1,o=n%2,i=0===n?e.pinDestinationRef:null;return(0,X.jsx)(b.xu,{ref:i,color:0===n?"transparent":"secondary",height:72,marginBottom:r?1:0,marginEnd:o?0:1,width:72},n)})})})}),(0,X.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{opacity:i?1:0,WebkitTransform:i?"translateY(0)":"translateY(20%)",transform:i?"translateY(0)":"translateY(20%)",WebkitTransition:"all .25s ease-in-out .5s",transition:"all .25s ease-in-out .5s",textAlign:"center",marginTop:"50px"}},paddingX:4,children:(0,X.jsx)(b.X6,{children:(0,I.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First repin confirmation message', 'First repin confirmation message'),{selectedBoardName:o})})})]})})]})}}],eS(i.prototype,n),r&&eS(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(p.PureComponent),eE=function(e){var t=(0,O.ZP)();return(0,X.jsx)(ek,e_(e_({},e),{},{i18n:t}))},eT=n(222910),eC=n(978536),eR=n(67765),eD=n(949457),eB=n(296011),eF=n(386008),eZ=n(125768),ez=n(13848),eL=n(86967),eN=n(402287),eM=n(410391),eK=n(984869),eU=n(256918);function eH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eG(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eW=void 0!==o?o:o=n(77256);function eV(e){var t=e.createSectionAndRepin,n=e.errorMessage,r=e.i18n,o=e.pin,i=e.setErrorMessage,a=e.useRoundedCorners,l=eH((0,p.useState)(""),2),c=l[0],s=l[1];return(0,X.jsx)(eL.Z,{backButtonIcon:"arrow-back",errorMessage:n,name:c,onNameChange:function(e){i(""),s(e.target.value)},onNextButtonTouch:function(){t(c,r)},selectedPinIds:[o.entityId],useRoundedCorners:a})}function eq(e){var t=e.boardId,n=e.isEditingPin,r=e.onSuccess,o=e.pinKey,i=e.pinBoardId,a=e.pinSectionId,l=e.trackingParams,c=e.useRoundedCorners,s=(0,x.Z)(eW,o),u=(0,y.useDispatch)(),d=(0,m.k6)(),f=(0,O.ZP)(),h=(0,ez.F9)().showToast,b=(0,g.Z)(),v=(0,eU.M)(),P=(0,L.F)().checkExperiment,S=(0,_.c)(),w=eH((0,p.useState)(""),2),I=w[0],A=w[1],k=function(e){return d.push(e)};return(0,X.jsx)(eV,{createSectionAndRepin:function(e){var o=function(e){return A(e.message_detail||e.message)};u((0,eN.Nv)(t,[],e,b)).then(function(e){h(function(e){var t=e.hideToast;return(0,X.jsx)(j.ZP,{onHide:t,text:f._('Section added!', ' - ', ' -- ')})});var c,p=e.resource_response.data;u((0,eK.w)({checkExperiment:P,i18n:f,logContextEvent:b,pinId:s.entityId,boardId:t,onSuccess:n?void 0:function(){S("Save",{pin_id:s.entityId}),r()},showToast:h,section:p,trackingParams:{clientTrackingParams:l,pinnedToBoardId:s.pinnedToBoard?s.pinnedToBoard.entityId:""},historyPush:k,savePinId:null!==(c=null==v?void 0:v.save)&&void 0!==c?c:function(){}})).then(function(){s&&i&&u((0,eM.q)({pinId:s.entityId,boardId:i,boardSectionId:a,clientTrackingParams:l})).then(function(){var e;return s.pinnedToBoard?d.replace(null!==(e=s.pinnedToBoard.url)&&void 0!==e?e:""):void 0})}).catch(o)}).catch(o)},errorMessage:I,i18n:f,pin:s,setErrorMessage:A,useRoundedCorners:c})}var eY=n(160133),eQ=n(216167),eX=n(227258),e$=n(827625),eJ=n(494125),e0=n(785059),e1=n(199677),e2=n(237040),e6=n(358589),e3=n(821419),e8=n(64819),e7=n(430408),e4=n(579240),e5=n(937310),e9=n(951766);function te(e){var t=e.handleSelected,n=(0,O.ZP)(),r=(0,g.Z)();return(0,eJ.Z)(function(){r({component:7,element:11933,event_type:13,view_type:3})}),(0,X.jsx)(b.iP,{onTap:function(){t(!1,null)},rounding:2,children:(0,X.jsxs)(b.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:4,rounding:2,children:[(0,X.jsx)(b.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",rounding:2,width:48,children:(0,X.jsx)(b.JO,{accessibilityLabel:n._('Profile', 'save.ProfilePickerRow.IconAccessibilityLabel', 'Accessibility label for icon on option to save Pin to profile'),color:"default",icon:"history",size:22})}),(0,X.jsx)(b.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:2,overflow:"hidden",width:"100%",children:(0,X.jsx)(b.xv,{lineClamp:1,size:"400",weight:"bold",children:n._('Profile', 'save.ProfilePickerRow', 'Option to save Pin to profile')})})]})})}var tt=n(308082);function tn(){var e=(0,tt.useRelayEnvironment)();return(0,p.useCallback)(function(t){e&&(0,tt.commitLocalUpdate)(e,function(e){var n;null===(n=e.get(t))||void 0===n||n.invalidateRecord()})},[e])}function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==tr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tr(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tr(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tl=void 0!==i?i:i=n(245160),tc=function(e,t,n){return ta({field_set_key:"detailed",id:e,preserve_component_state:t},n?{orbac_subject_id:n}:Object.freeze({}))};function ts(e){var t,n,r=e.boards,o=e.boardsShortlist,i=void 0===o?[]:o,a=e.closeModal,l=e.dismissFlyout,c=e.history,s=e.isEditingPin,u=e.isFromToast,d=e.logContextEvent,f=e.onSelect,h=e.originalPinId,m=e.pinKey,g=e.pinBoardId,v=e.saveToProfileEnabled,P=e.trackingParams,S=(0,O.ZP)(),w=(0,x.Z)(tl,m),I=tn(),A=(0,y.useDispatch)(),k=(0,e6.Z)(),E=(0,eU.M)(),T=(0,_.c)(),C=c.location.state&&c.location.state.isOneTapSave,R=(0,L.F)().checkExperiment,D=v&&R("mweb_top_choices_extract_profile").anyEnabled,B=R("web_top_choices_ordering_and_reduction").anyEnabled,F=R("mweb_direct_save_from_grid_v2",{dangerouslySkipActivation:!0}).anyEnabled||R("mweb_direct_save_from_grid_v2_new_user",{dangerouslySkipActivation:!0}).anyEnabled,Z=(0,eT.Z)(),z=Z.showRepinConfirmation,N=Z.showToast,M=function(e){return c.push(e)},K=i;B||(K=0!==i.length?r.filter(function(e){return i.some(function(t){return e.id===t.id})}):r.slice(0,3));var H=K.map(function(e){return e.id});v&&H.unshift("PROFILE_PINS");var G=(0,e0.Z)(),W=(0,U.Z)(),V=(0,e1.lJ)(W,G),Y=(0,e2.Yg)();(0,eJ.Z)(function(){H&&d({event_type:13,component:7,element:1001,view_type:3,aux_data:{pin_id:w.entityId,suggested_boards:H}})});var Q=function(e){var t,n=e.boardId,r=e.i18n,o=e.isQuickSave;return l(),null==Y||Y("main_pin_repin"),A((0,eK.w)({checkExperiment:R,i18n:r,isQuickSave:o,logContextEvent:d,pinId:w.entityId,boardId:n,onSuccess:function(){T("Save",{pin_id:w.entityId,is_promoted:w.isPromoted}),c.goBack()},originalPinId:h,showRepinConfirmation:z,trackingParams:P,historyPush:M,suggestedBoardIds:H,savePinId:null!==(t=null==E?void 0:E.save)&&void 0!==t?t:function(){}}))},$=function(e){return A((0,e3.Br)(e))},J=k({fn:(t=regeneratorRuntime.mark(function e(t,n){var r,o,i,l,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n)){e.next=4;break}f(n),e.next=17;break;case 4:if(e.prev=4,s){e.next=11;break}return r=!(null!=n&&n.id),e.next=9,Q({boardId:null==n?void 0:n.id,i18n:S,isQuickSave:r});case 9:if(o=e.sent,(C||F)&&o){var y;y={boardId:null==n?void 0:n.id,localPinId:o.id,pinId:w.entityId,nodeId:w.__id},A((0,e4.a)(ta({},y)))}case 11:s&&(i=g,d=ta({board_id:l=null==n?void 0:n.id,id:w.entityId},V?{orbac_subject_id:V}:Object.freeze({})),p=i!==l,eQ.Z.create("PinResource",d).callUpdate().then(function(e){var t,n,r,o;p&&l&&i&&(t={selectedPinIds:[w.entityId],source:{boardId:i,sectionId:void 0},target:{boardId:l,sectionId:void 0}},A((0,e7.S)(t)),$({boardId:l,sectionId:void 0,increment:1}),$({boardId:i,sectionId:void 0,increment:-1}),W.id&&!i&&(n=W.id,r=w.entityId,A((0,e8.EX)({feedId:n,feedType:e5.Z.BOARDLESS_PINS,itemIds:[r],itemType:"pin"})))),A((0,eX.b)("PinResource",{options:d})),o=w.entityId,A((0,e$.jB)("PinResource",tc(o,!0,V))),I(w.__id),A((0,e$.Sr)("PinResource",tc(e.resource_response.data.id,!1,V),e)),c.goBack()}),u&&a()),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),N(function(t){var n=t.hideToast;return(0,X.jsx)(j.ZP,{onHide:n,text:e.t0.message||S._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),type:"error"})});case 17:case"end":return e.stop()}},e,null,[[4,14]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){to(i,r,o,a,l,"next",e)}function l(e){to(i,r,o,a,l,"throw",e)}a(void 0)})},function(e,t){return n.apply(this,arguments)}),modalHeader:(0,q.Bx)(S)});return(0,X.jsx)(p.Fragment,{children:(0,X.jsxs)(b.kC,{direction:"column",gap:4,children:[(0,X.jsxs)(b.xu,{children:[v&&D&&(0,X.jsx)(te,{handleSelected:J}),i.length>0&&(0,X.jsx)(b.xu,{marginBottom:4,marginTop:2,children:(0,X.jsx)(b.xv,{children:S._('Top choices', 'boardPicker.header.topChoices', 'Header of a list of user\'s boards')})}),v&&!D&&(0,X.jsx)(te,{handleSelected:J}),K.map(function(e){return(0,X.jsx)(e9.Z,{boardId:e.id,onBoardSelected:function(t){return J(t,e)},showSingleBoardRep:!0},e.id)})]}),(0,X.jsxs)(b.xu,{children:[(0,X.jsx)(b.xu,{marginBottom:4,children:(0,X.jsx)(b.xv,{children:S._('All boards', 'RepinFlow.BoardPickerList.AllBoards', 'Board picker list all boards title')})}),r.map(function(e){return(0,X.jsx)(e9.Z,{boardId:e.id,onBoardSelected:function(t){return J(t,e)},showSingleBoardRep:!0},e.id)})]})]})})}var tu=n(490166),td=function(){return(0,X.jsx)(b.xu,{color:"secondary",display:"inlineBlock",height:60,minWidth:60,overflow:"hidden",position:"relative",rounding:4,children:(0,X.jsxs)(p.Fragment,{children:[(0,X.jsx)(b.xu,{color:"default",dangerouslySetInlineStyle:{__style:{left:"50%"}},height:"100%",position:"absolute",width:1}),(0,X.jsx)(b.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%"}},height:1,position:"absolute",right:!0,width:"50%"})]})})},tf=n(529081),tp=n(112544);function ty(e){return(ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function th(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var tb=void 0!==a?a:a=n(7209),tg=function(e){var t=e.allSuggestions,n=e.handleCreateBoard,r=e.index,o=e.isFBC,i=e.logContextEvent,a=e.pinViewParameter;n(),i({aux_data:{board_title_list:JSON.stringify(t),is_fbc:o.toString(),selected_board_title_index:r},component:7,element:23,event_type:102,view_parameter:a,view_type:3})};function tv(e){var t,n,r,o,i,a=e.isEditingPin,l=e.isFirstBoard,c=e.history,s=e.onFirstBoardCreate,u=e.pinBoardId,d=e.pinKey,f=e.pinSectionId,p=e.titleSuggestions,h=e.clientTrackingParams,m=(0,g.Z)(),v=(0,tp.Z)(),_=(0,O.ZP)(),P=(0,e6.Z)(),S=(0,eT.Z)().showRepinConfirmation,j=(0,y.useDispatch)(),w=(0,x.Z)(tb,d),I=w.entityId,A=(0,tf.A)({hasRichMetadata:!!w.richMetadata,hasRichMetadataProducts:!!(null!==(r=w.richMetadata)&&void 0!==r&&r.products),hasRichMetadataArticle:!!(null!==(o=w.richMetadata)&&void 0!==o&&o.article),hasRichMetadataRecipe:!!(null!==(i=w.richMetadata)&&void 0!==i&&i.recipe)}),k=(0,eU.M)(),E=(0,W.Z)(h,w.trackingParams),T=function(e){return c.push(e)},C=(0,L.F)().checkExperiment,R=C("mweb_direct_save_from_grid_v2",{dangerouslySkipActivation:!0}).anyEnabled||C("mweb_direct_save_from_grid_v2_new_user",{dangerouslySkipActivation:!0}).anyEnabled,D=function(e){j((0,eM.q)({pinId:I,boardId:u||"",boardSectionId:f,clientTrackingParams:e}))},B=(t=regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(E);case 2:n=null===(t=w.pinnedToBoard)||void 0===t?void 0:t.url,w.section?(o="".concat(null!=n?n:"").concat(null!==(r=w.section.slug)&&void 0!==r?r:"","/"),c.replace(null!=o?o:"")):c.replace(null!=n?n:"");case 4:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){th(i,r,o,a,l,"next",e)}function l(e){th(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)}),F=function(e){v({boardCreateOptions:{name:e,initial_pins:[I],initial_pin_client_tracking_params:[h],privacy:"public"}}).then(function(e){return a?B():c.goBack(),e}).then(function(t){var n=t||{},r=n.url,o=n.id,i=(0,eC.Io)(void 0===r?"":r,e,_),a=i.href,l=i.text,c=(0,ei.Z)({boardId:o,viewType:3}),s=c.duration,u=c.text,d=c.thumbnail;S(function(e){var t=e.hideToast;return(0,X.jsx)(ea.Z,{duration:s,href:a,onHide:t,text:u||l,thumbnail:d})}),m({event_type:5,view_type:3,component:7,view_parameter:A,object_id_str:I,clientTrackingParams:E,aux_data:{board_id:o,destination_board_id:o}})})},Z=function(e){v({boardCreateOptions:{name:e,initial_pin_client_tracking_params:[h],privacy:"public"}}).then(function(t){var n,r=t||{},o=r.url,i=void 0===o?"":o,l=r.id;j((0,eK.w)({checkExperiment:C,i18n:_,logContextEvent:m,pinId:I,boardId:l,trackingParams:{clientTrackingParams:E,pinnedToBoardId:l},historyPush:T,savePinId:null!==(n=null==k?void 0:k.save)&&void 0!==n?n:function(){}})).then(function(t){n={boardId:l,localPinId:t.id,pinId:I,nodeId:w.__id},j((0,e4.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==ty(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ty(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ty(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n))),a?B():c.goBack();var n,r=(0,eC.Io)(i,e,_),o=r.href,s=r.text,u=(0,ei.Z)({boardId:l,viewType:3}),d=u.duration,f=u.text,p=u.thumbnail;S(function(e){var t=e.hideToast;return(0,X.jsx)(ea.Z,{duration:d,href:o,onHide:t,text:f||s,thumbnail:p})}),m({event_type:5,view_type:3,component:7,view_parameter:A,object_id_str:I,clientTrackingParams:E,aux_data:{board_id:l,destination_board_id:l}})})})},z=P({fn:function(e,t,n){tg({allSuggestions:n,handleCreateBoard:function(){l?s(t):R?Z(t):F(t)},index:e,isFBC:l,logContextEvent:m,pinViewParameter:A})},modalHeader:(0,q.Bb)(_)});return p?p.map(function(e,t,n){return(0,X.jsx)(b.xu,{children:(0,X.jsx)(tu.Z,{onTouch:function(){return z(t,e,n)},pressState:"none",rounding:2,children:(0,X.jsxs)(b.xu,{alignItems:"center",display:"flex",paddingY:2,rounding:2,children:[(0,X.jsx)(td,{}),(0,X.jsx)(b.xu,{column:10,marginStart:3,children:(0,X.jsx)(b.X6,{size:"400",children:e})})]})},t)},t)}):null}var t_=void 0!==l?l:l=n(733935),tP=function(e){var t,n,r,o=(0,h.useLazyLoadQuery)(t_,{pinId:e}).v3GetPinQuery;if(null==o?void 0:null===(t=o.error)||void 0===t?void 0:t.message)throw null==o?void 0:o.error;return(null==o?void 0:null===(n=o.data)||void 0===n?void 0:null===(r=n.boardTitleSuggestions)||void 0===r?void 0:r.map(function(e){return e.title}).filter(Boolean))||[]},tS=void 0!==c?c:c=n(43607);function tj(e){var t=e.allBoards,n=e.saveToProfileEnabled,r=e.boardsShortlist,o=e.closeModal,i=e.dismissFlyout,a=e.history,l=e.isEditingPin,c=e.isFromToast,s=e.onSelect,u=e.originalPinId,d=e.pin,f=e.pinBoardId,y=e.pinSectionId,h=e.trackingParams,m=(0,g.Z)();return(0,X.jsx)(p.Fragment,{children:(0,X.jsx)(ts,{boards:t,boardsShortlist:r,closeModal:o,dismissFlyout:i,history:a,isEditingPin:l,isFromToast:c,logContextEvent:m,onSelect:s,originalPinId:u,pinBoardId:f,pinKey:d,pinSectionId:y,saveToProfileEnabled:n,trackingParams:h})})}function tx(e){var t=e.allBoards,n=e.boardsShortlist,r=e.closeModal,o=e.saveToProfileEnabled,i=e.dismissFlyout,a=e.history,l=e.isEditingPin,c=e.isFirstRepinExperience,s=e.isFromToast,u=e.onFirstBoardCreate,d=e.originalPinId,f=e.onSelect,p=e.pin,y=e.pinBoardId,h=e.pinSectionId,m=e.trackingParams,v=e.titleSuggestions,_=(0,O.ZP)(),P=c||0===t.length&&!o,S=(0,g.Z)(),j=function(){return(0,X.jsx)(tv,{clientTrackingParams:m.clientTrackingParams,history:a,isEditingPin:l,isFirstBoard:P,onFirstBoardCreate:u,pinBoardId:y,pinKey:p,pinSectionId:h,titleSuggestions:v})};return P?(0,X.jsxs)(b.xu,{paddingX:1,children:[(0,X.jsx)(b.xu,{marginBottom:4,children:(0,X.jsx)(b.xv,{children:_._('Tap to create your first board', 'CTA for board title suggestions', 'Explain to user that tapping on suggestion creates a board')})}),j()]}):(0,X.jsxs)(b.xu,{marginBottom:4,children:[(0,X.jsx)(ts,{boards:t,boardsShortlist:n,closeModal:r,dismissFlyout:i,history:a,isEditingPin:l,isFromToast:s,logContextEvent:S,onSelect:f,originalPinId:d,pinBoardId:y,pinKey:p,pinSectionId:h,saveToProfileEnabled:o,trackingParams:m}),v?(0,X.jsxs)(b.xu,{children:[(0,X.jsx)(b.xu,{paddingY:1,children:(0,X.jsx)(eY.Z,{children:(0,X.jsx)(b.iz,{})})}),(0,X.jsx)(b.xu,{paddingY:4,children:(0,X.jsx)(b.xv,{children:_._('Or tap to create a new board', 'boardPicker.suggestedBoardName.title', 'Title for repin page suggested board name section')})}),j()]}):(0,X.jsx)(b.xu,{paddingY:6,children:(0,X.jsx)(b.$j,{accessibilityLabel:_._('Loading repin page content', ' - ', ' -- '),show:!0})})]})}function tw(e){var t=e.allBoards,n=e.boardsShortlist,r=e.closeModal,o=e.saveToProfileEnabled,i=e.dismissFlyout,a=e.history,l=e.isEditingPin,c=e.isFetchingBoards,s=e.isFirstRepinExperience,u=e.isFromToast,d=e.onFirstBoardCreate,f=e.onSelect,p=e.originalPinId,y=e.location,h=e.pinKey,m=e.pinBoardId,g=e.pinDescription,v=e.pinSectionId,_=(0,x.Z)(tS,h),P=tP(_.entityId),S=(0,O.ZP)(),j={clientTrackingParams:y.state?y.state.trackingParams:"",pinnedToBoardId:_.pinnedToBoard?_.pinnedToBoard.entityId:""};return t.length>0||!c?t.length>=10?(0,X.jsx)(tj,{allBoards:t,boardsShortlist:n,closeModal:r,dismissFlyout:i,history:a,isEditingPin:l,isFromToast:u,onSelect:f,originalPinId:p,pin:_,pinBoardId:m,pinDescription:g,pinSectionId:v,saveToProfileEnabled:o,trackingParams:j}):(0,X.jsx)(tx,{allBoards:t,boardsShortlist:n,closeModal:r,dismissFlyout:i,history:a,isEditingPin:l,isFirstRepinExperience:s,isFromToast:u,onFirstBoardCreate:d,onSelect:f,originalPinId:p,pin:_,pinBoardId:m,pinDescription:g,pinSectionId:v,saveToProfileEnabled:o,titleSuggestions:P,trackingParams:j}):(0,X.jsx)(b.xu,{paddingY:2,children:(0,X.jsx)(b.$j,{accessibilityLabel:S._('Loading repin page content', ' - ', ' -- '),show:!0})})}var tO=n(340370),tI=void 0!==s?s:s=n(709140);function tA(e){var t=e.isEditingPin,n=e.isFirstBoardCreateActive,r=e.pinKey,o=e.pinBoardId,i=e.pinDescription,a=e.pinSectionId,l=e.trackingParams,c=e.onTouch,s=e.useIconWithBackground,u=(0,O.ZP)(),d=(0,x.Z)(tI,r),f=(0,tO.Z)({href:{pathname:"/board/create/".concat(d.entityId,"/"),state:{isFirstBoardCreateActive:n,pinnedToBoardId:d.pinnedToBoard?d.pinnedToBoard.entityId:"",pinDescription:i,trackingParams:l,isEditingPin:t,pinBoardId:o,pinSectionId:a}}});return(0,X.jsx)(k.FixedFooter,{hasTopShadow:s,height:s?void 0:70,children:(0,X.jsx)(b.iP,{onTap:function(e){var t=e.event;null==c||c(),f({event:t})},children:(0,X.jsxs)(b.xu,{alignItems:"center","data-test-id":"repinCreateBoardButton",display:"flex",paddingX:s?1:0,paddingY:s?0:1,children:[s?(0,X.jsx)(b.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},rounding:2,children:(0,X.jsx)(b.JO,{accessibilityLabel:u._('Create board button', ' - ', ' -- '),color:"default",icon:"add",size:20})}):(0,X.jsx)(b.JO,{accessibilityLabel:u._('Create board button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),(0,X.jsx)(b.xu,{marginStart:s?2:3,children:(0,X.jsx)(b.xv,{weight:"bold",children:u._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})}var tk=n(900876);function tE(e){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tT(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==tE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tE(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tE(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tD=void 0!==u?u:u=n(35934),tB=function(e,t,n){return tR({field_set_key:"detailed",id:e,preserve_component_state:t},n?{orbac_subject_id:n}:Object.freeze({}))};function tF(e){var t,n,r,o,i=e.boardId,a=e.history,l=e.location.search,c=e.showSectionRep,s=e.pinKey,u=e.onSuccess,d=e.trackingParams,f=e.dismissFlyout,p=(0,y.useDispatch)(),h=(0,O.ZP)(),m=(0,x.Z)(tD,s),b=tn(),v=(0,ez.F9)().showToast,P=new URLSearchParams(l),S=P.get("isEditingPin"),j=null!==(r=P.get("pinBoardId"))&&void 0!==r?r:"",w=null!==(o=P.get("pinSectionId"))&&void 0!==o?o:"",I=(0,W.Z)(d,m.trackingParams),A=(0,g.Z)(),k=(0,eU.M)(),E=(0,L.F)().checkExperiment,T=function(e){return a.push(e)},C=(0,e0.Z)(),R=(0,U.Z)(),D=(0,e1.lJ)(R,C),B=(0,_.c)(),F=function(e){var t;f(),p((0,eK.w)({checkExperiment:E,i18n:h,logContextEvent:A,pinId:m.entityId,boardId:i,onSuccess:S?void 0:function(){B("Save",{pin_id:m.entityId,is_promoted:m.isPromoted}),u()},showToast:v,section:e,trackingParams:{clientTrackingParams:I,pinnedToBoardId:m.pinnedToBoard?m.pinnedToBoard.entityId:""},historyPush:T,savePinId:null!==(t=null==k?void 0:k.save)&&void 0!==t?t:function(){}})).then(function(){if(e){var t;p((0,eN.A4)(null!==(t=e.id)&&void 0!==t?t:""))}})},Z=function(e){return p((0,e3.Br)(e))},z=(t=regeneratorRuntime.mark(function e(t,n){var r,o,i,l,c,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=3;break}return e.next=3,F(n);case 3:S&&(r=j,o=t,i=w,c=tR({board_id:o,board_section_id:l=null==n?void 0:n.id,id:m.entityId},D?{orbac_subject_id:D}:Object.freeze({})),s=r!==o,u=i!==l,eQ.Z.create("PinResource",c).callUpdate().then(function(e){var t,n,d,f;(s||u)&&(t={selectedPinIds:[m.entityId],source:{boardId:r,sectionId:i||null},target:{boardId:o,sectionId:l}},p((0,e7.S)(t)),Z({boardId:o,sectionId:l,increment:1}),Z({boardId:r,sectionId:i,increment:-1}),R.id&&!r&&(n=R.id,d=m.entityId,p((0,e8.EX)({feedId:n,feedType:e5.Z.BOARDLESS_PINS,itemIds:[d],itemType:"pin"})))),p((0,eX.b)("PinResource",{options:c})),f=m.entityId,p((0,e$.jB)("PinResource",tB(f,!0,D))),b(m.__id),p((0,e$.Sr)("PinResource",tB(e.resource_response.data.id,!1,D),e)),a.go(-2)}));case 4:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){tT(i,r,o,a,l,"next",e)}function l(e){tT(i,r,o,a,l,"throw",e)}a(void 0)})},function(e,t){return n.apply(this,arguments)});return(0,X.jsx)(tk.Z,{boardId:i,repin:z,showSectionRep:c})}function tZ(e){return(tZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tz(Object(n),!0).forEach(function(t){tH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tG(r.key),r)}}function tM(e,t){return(tM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tK(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tU(e){return(tU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tH(e,t,n){return(t=tG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tG(e){var t=function(e,t){if("object"!==tZ(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tZ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tZ(t)?t:String(t)}var tW=void 0!==d?d:d=n(870893),tV=void 0!==f?f:f=n(560173);function tq(e){var t=e.children,n=(0,y.useSelector)(function(e){var t=e.session;return 72+((0,A.Rq)(t.userAgentPlatform)?A.Vf:0)});return(0,X.jsx)(b.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:n}},children:t})}var tY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tM(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=tU(i);if(t){var r=tU(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===tZ(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return tK(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return tH(tK(e=o.call.apply(o,[this].concat(n))),"state",{dupeWarningDismissed:!1,pinDescription:(e.props.pin.description||"").trim(),saved:!1,suggestedBoardName:void 0,trackingParams:(e.props.location.state||{}).trackingParams||"",warningAnchor:void 0,windowInnerHeight:"undefined"!=typeof window?window.innerHeight:0}),tH(tK(e),"saved",function(){return e.setState({saved:!0})}),tH(tK(e),"onResize",function(){e.setState({windowInnerHeight:window.innerHeight})}),tH(tK(e),"handleBackButtonTouch",function(){var t=e.props;(0,t.logContextEvent)({view_type:21,view_parameter:87,component:7,element:t.match.params.boardId?34:75,event_type:102})}),tH(tK(e),"handleDismissWarningFlyout",function(){return e.setState({dupeWarningDismissed:!0})}),tH(tK(e),"handleFirstBoardCreateOnSuccess",function(t,n){var r=e.props,o=r.closeupExperience,i=r.completeExperience,a=r.history,l=r.i18n,c=r.repinExperience,s=r.showRepinConfirmation,u=r.mountAfterActionPlacement,d=t.boardId,f=t.boardUrl,p=(0,eC.Io)(f,n,l),y=p.href,h=p.text,m=(0,ei.Z)({boardId:d,isFBC:!0,viewType:21}),b=m.duration,g=m.text,v=m.thumbnail;a.goBack(),s(function(e){var t=e.hideToast;return(0,X.jsx)(ea.Z,{duration:b,href:y,onHide:t,text:g||h,thumbnail:v})}),o&&o.placement_id&&503459===o.experience_id&&i(o.placement_id,o.experience_id),c&&V(c,501032)&&i(c.placement_id,c.experience_id),u("Save",{pin_id:e.props.pin.entityId,is_promoted:e.props.pin.isPromoted})}),tH(tK(e),"handleSetSelectedBoard",function(t){var n,r=e.props,o=r.history,i=r.pin,a=r.location,l=e.state.trackingParams;e.isFirstBoardCreateActive()||o.push("/board/create/".concat(i.entityId,"/").concat(t,"/"),{trackingParams:l,from:null===(n=a.state)||void 0===n?void 0:n.from}),e.setState({suggestedBoardName:t})}),tH(tK(e),"handleFirstBoardCreate",function(t){var n=e.props,r=n.createBoard,o=n.history,i=n.location,a=n.logContextEvent,l=n.match,c=n.pin,s=n.showToast,u=e.state.trackingParams,d=l.params.id;return r({boardCreateOptions:{initial_pins:d?[d]:[],name:t,initial_pin_client_tracking_params:[(0,W.Z)((i.state||{}).trackingParams)],privacy:"public"},deprecatedSchemaForNormalization:eD.IY}).then(function(e){var t,n,r,o=e.id;a({event_type:5,view_type:3,component:7,view_parameter:(0,tf.A)({hasRichMetadata:!!c.richMetadata,hasRichMetadataProducts:!!(null!==(t=c.richMetadata)&&void 0!==t&&t.products),hasRichMetadataArticle:!!(null!==(n=c.richMetadata)&&void 0!==n&&n.article),hasRichMetadataRecipe:!!(null!==(r=c.richMetadata)&&void 0!==r&&r.recipe)}),object_id_str:c.entityId,clientTrackingParams:(0,W.Z)(u,c.trackingParams),aux_data:{board_id:o,destination_board_id:o}});var i=e.url;return{boardId:o,boardUrl:void 0===i?"":i}},function(t){throw{onError:function(){o.goBack(),s(function(n){var r=n.hideToast;return(0,X.jsx)(j.ZP,{onHide:r,text:t.message||e.props.i18n._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board'),type:"error"})})}}})}),tH(tK(e),"handleSelectBoard",function(t){var n,r,o,i,a=e.props,l=a.history,c=a.pin,s=a.location,u=s.search,d=e.state.trackingParams,f=new URLSearchParams(u),p=!!f.get("isEditingPin"),y=null!==(n=f.get("pinBoardId"))&&void 0!==n?n:"",h=null!==(r=f.get("pinSectionId"))&&void 0!==r?r:"";p?l.push("/pin/".concat(c.entityId,"/repin/").concat(t.id,"/?isEditingPin=true&pinBoardId=").concat(y,"&pinSectionId=").concat(h),{trackingParams:d,from:null===(o=s.state)||void 0===o?void 0:o.from}):l.push({pathname:"/pin/".concat(c.entityId,"/repin/").concat(t.id,"/")},{trackingParams:d,from:null===(i=s.state)||void 0===i?void 0:i.from})}),tH(tK(e),"handleClickAddSectionButton",function(){var t,n,r,o,i=e.props,a=i.pin,l=i.history,c=i.match.params.boardId,s=i.location;if(c){var u=s.search,d=new URLSearchParams(u),f=!!d.get("isEditingPin"),p=null!==(t=d.get("pinBoardId"))&&void 0!==t?t:"",y=null!==(n=d.get("pinSectionId"))&&void 0!==n?n:"";f?l.push("/pin/".concat(a.entityId,"/repin/").concat(c,"/add/?isEditingPin=true&pinBoardId=").concat(p,"&pinSectionId=").concat(y),{from:null===(r=s.state)||void 0===r?void 0:r.from}):l.push({pathname:"/pin/".concat(a.entityId,"/repin/").concat(c,"/add/"),state:{from:null===(o=s.state)||void 0===o?void 0:o.from}})}}),tH(tK(e),"handleRepinToExistingSectionSuccess",function(){return e.props.history.go(-2)}),tH(tK(e),"handleRepinToNewSectionSuccess",function(){return e.props.history.go(-3)}),tH(tK(e),"handleRepinCreateBoardButtonTouch",function(){e.props.logContextEvent({view_type:21,view_parameter:87,component:7,element:249,event_type:102})}),tH(tK(e),"renderCreateScreen",function(){var t,n,r=e.props,o=r.pin,i=r.location.search,a=r.match.params.boardId,l=e.state.trackingParams,c=new URLSearchParams(i),s=!!c.get("isEditingPin"),u=null!==(t=c.get("pinBoardId"))&&void 0!==t?t:"",d=null!==(n=c.get("pinSectionId"))&&void 0!==n?n:"";return!!a&&(0,X.jsx)(eq,{boardId:a,isEditingPin:s,onSuccess:e.handleRepinToNewSectionSuccess,pinBoardId:u,pinKey:o,pinSectionId:d,trackingParams:l,useRoundedCorners:!0})}),tH(tK(e),"isFirstBoardCreateActive",function(){var t=e.props,n=t.allBoards,r=t.isFetchingBoards,o=t.saveToProfileEnabled;return!!V(t.repinExperience,501032)||!r&&0===n.length&&!o}),tH(tK(e),"isBoardCreateEduActive",function(){return V(e.props.repinExperience,501021)}),tH(tK(e),"completeBoardCreateEduExperience",function(){var t=e.props,n=t.completeExperience,r=t.repinExperience;r&&e.isBoardCreateEduActive()&&n(r.placement_id,r.experience_id)}),tH(tK(e),"renderPicker",function(){var t,n,r,o,i,a=e.props,l=a.allBoards,c=a.saveToProfileEnabled,s=a.boardsShortlist,u=a.history,d=a.isFetchingBoards,f=a.location,p=a.pin,y=a.match.params.boardId,h=a.location.search,m=e.state,g=m.pinDescription,v=m.dupeWarningDismissed,_=m.saved,P=m.suggestedBoardName,S=m.trackingParams,j=m.warningAnchor,x=g.trim(),w=p.pinnedToBoard,O=w?(0,I.nk)(e.props.i18n._('Psst! You already saved this Pin to {{ board_name }}', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:w.name}).join(" "):null,A=p.dominantColor,T=p.imageSpec_236x,C=T?T.url:"",R=new URLSearchParams(h),D=!!R.get("isEditingPin"),B=null!==(t=R.get("pinBoardId"))&&void 0!==t?t:"",F=null!==(n=R.get("pinSectionId"))&&void 0!==n?n:"",Z=!!R.get("isFromToast"),z=null!==(r=R.get("originalPinId"))&&void 0!==r?r:"",L=e.props.i18n._('Save Pin to', 'RepinPage.Section.Header.Title', 'title for section selection in repin flow'),N=new b.Ry(2),M=e.props.i18n._('Create board', 'Title for first board create', 'Title for first board create. NOTE: we are testing using "collections" in place of "boards" for new users'),K=e.props.i18n._('Save to board', 'boardPicker.header', 'Title for repin page'),U=y?L:0!==l.length||d||c?K:M;return(0,X.jsxs)(E.default,{hasFixedHeader:!0,children:[(0,X.jsx)(G.Z,{text:U}),(0,X.jsx)(k.FixedHeader,{useRoundedCorners:!0,zIndex:N,children:(0,X.jsxs)(b.kC,{alignItems:"center",height:40,justifyContent:"start",children:[(0,X.jsx)(b.xu,{column:2,children:(0,X.jsx)(eZ.Z,{alignIconLeft:!0,color:"darkGray",icon:y?"arrow-back":"cancel",onTouch:e.handleBackButtonTouch,size:"sm"})}),(0,X.jsx)(b.xu,{column:8,children:(0,X.jsx)(b.xu,{"data-test-id":"repin-page-title",children:(0,X.jsx)(b.xv,{align:"center",weight:"bold",children:U})})}),(0,X.jsx)(b.xu,{column:2})]})}),p.imageSpec_236x&&(e.isFirstBoardCreateActive()?(0,X.jsx)(eE,{onComplete:e.handleFirstBoardCreateOnSuccess,pinDominantColor:null!=A?A:"",pinImageUrl:null!=C?C:"",savePin:e.handleFirstBoardCreate,selectedBoardName:P}):null),(0,X.jsx)(tq,{children:y?(0,X.jsx)(tF,{boardId:y,dismissFlyout:e.saved,history:u,location:f,onSuccess:e.handleRepinToExistingSectionSuccess,pinKey:p,showSectionRep:!0,trackingParams:S}):(0,X.jsx)(tw,{allBoards:l,boardsShortlist:s,closeModal:e.handleBackButtonTouch,dismissFlyout:e.saved,history:u,isEditingPin:D,isFetchingBoards:d,isFirstRepinExperience:e.isFirstBoardCreateActive(),isFromToast:Z,location:f,onFirstBoardCreate:e.handleSetSelectedBoard,onSelect:e.handleSelectBoard,originalPinId:z,pinBoardId:B,pinDescription:x,pinKey:p,pinSectionId:F,saveToProfileEnabled:c})}),y?(0,X.jsx)(H.Wx,{onAddNewSection:e.handleClickAddSectionButton,useIconWithBackground:!0}):(0,X.jsx)(Y.Z,{modalHeader:(0,q.Bb)(e.props.i18n),nextLocation:"/board/create/".concat(p.entityId,"/"),children:(0,X.jsx)(tA,{isEditingPin:D,isFirstBoardCreateActive:e.isFirstBoardCreateActive(),onTouch:e.handleRepinCreateBoardButtonTouch,pinBoardId:B,pinDescription:x,pinKey:p,pinSectionId:F,trackingParams:S,useIconWithBackground:!0})}),T&&e.isBoardCreateEduActive()&&(0,X.jsx)(eo,{completeExperience:e.completeBoardCreateEduExperience,pinDominantColor:null!=A?A:"",pinImageHeight:null!==(o=T.height)&&void 0!==o?o:1,pinImageUrl:null!=C?C:"",pinImageWidth:null!==(i=T.width)&&void 0!==i?i:1}),j&&!_&&p.pinnedToBoard&&!v&&O&&(0,X.jsx)(b.J2,{anchor:j,idealDirection:"down",onDismiss:e.handleDismissWarningFlyout,shouldFocus:!1,children:(0,X.jsx)(b.xu,{padding:3,children:(0,X.jsx)(b.xv,{weight:"bold",children:(0,X.jsx)("span",{children:O})})})})]})}),e}return n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.repinExperience,n=e.triggerExperimentsForPlacement,r=e.viewExperience;n(1000153),t&&r(1000153,t.experience_id),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"render",value:function(){return(0,X.jsx)(P.ZP,{accessibilityModalLabel:this.props.i18n._('Repin page', 'RepinPage.MobileModal.AccessibilityLabel', 'Accessibility label on repin page'),closeOnOutsideClick:!1,isOpen:!0,onDismiss:function(){},type:"repinPage",children:(0,X.jsx)(b.xu,{height:this.state.windowInnerHeight-S.i_,paddingX:2,paddingY:0,children:(0,X.jsxs)(m.rs,{children:[(0,X.jsx)(m.AW,{exact:!0,path:"/pin/:id/repin/",render:this.renderPicker}),(0,X.jsx)(m.AW,{exact:!0,path:"/pin/:id/repin/:boardId/",render:this.renderPicker}),(0,X.jsx)(m.AW,{exact:!0,path:"/pin/:id/repin/:boardId/add/",render:this.renderCreateScreen})]})})})}}],tN(i.prototype,n),r&&tN(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(p.PureComponent),tQ=function(e,t){var n="PinResource",r={field_set_key:"repin"},o=(0,w.Z)({strategy:t?"GRAPHQL":"LEGACY",query:tV,variables:{pinId:e},options:{fetchPolicy:"store-or-network"},transformGraphQL:function(e){var t;return(null===(t=e.v3GetPinQuery)||void 0===t?void 0:t.__typename)==="V3GetPin"?e.v3GetPinQuery.data:null},useGetLegacyData:function(e){var t=e.pinId;return(0,M.Z)({name:n,options:tL(tL({},r),{},{id:t})}).data}}),i=(0,x.Z)(tW,o);return z(i,{name:n,options:tL(tL({},r),{},{id:e})}),i},tX=function(e){var t=(0,y.useSelector)(function(e){return e.session.userId}),n=(0,(0,L.F)().checkExperiment)("web_top_choices_ordering_and_reduction").anyEnabled,r=(0,M.Z)({name:"BoardPickerBoardsResource",options:{pin_id:e,field_set_key:"profile_grid_item",shortlist_length:n?2:null,shortlist_suggestions:3,user_id:t}}),o=r.isFetching,i=r.data,a=(null==i?void 0:i.all_boards)||[];return{isFetching:o,allBoards:(0,y.useSelector)(function(e){return(0,eB.Z)(tL(tL({},e),{},{boards:a}))||[]}),boardsShortlist:(null==i?void 0:i.boards_shortlist)||[]}};function t$(e){var t,n=e.shouldFetchPinFromGraphQL,r=(0,m.k6)(),o=(0,m.TH)(),i=(0,m.$B)(),a=null!==(t=i.params.id)&&void 0!==t?t:"",l=(0,O.ZP)(),c=(0,g.Z)(),s=(0,v.be)(),u=(0,v.Ig)(),d=(0,tp.Z)(),f=(0,eF.Tt)(),p=(0,U.Z)().isAuth,h=(0,K.HG)(),b=tQ(a,n),P=tX(a),S=P.isFetching,j=P.allBoards,x=P.boardsShortlist;(0,N.Z)({name:"UserResource",options:{user_id:null==f?void 0:f.id,field_set_key:"quicksave"}});var w=(0,y.useDispatch)(),I=(0,y.useSelector)(function(e){return e.experiences}),A=(0,_.c)(),k=(0,eT.Z)(),E=k.showToast,T=k.showRepinConfirmation,C=(0,eR.ZP)((null==f?void 0:f.id)||"").showEnabledSaveBehavior;return!p||h?(0,X.jsx)(m.l_,{to:"/pin/".concat(a,"/")}):b?(0,X.jsx)(tY,{allBoards:j,boardsShortlist:x,closeupExperience:I[1000112],completeExperience:function(e,t){return w(s(e,t))},createBoard:d,history:r,i18n:l,isFetchingBoards:S,location:o,logContextEvent:c,match:i,mountAfterActionPlacement:A,pin:b,repinExperience:I[1000153],saveToProfileEnabled:C,showRepinConfirmation:T,showToast:E,triggerExperimentsForPlacement:function(e){return w((0,v.kd)(e))},viewExperience:function(e,t){return w(u(e,t))}}):null}},879932:function(e,t,n){"use strict";n.d(t,{Az:function(){return b},DI:function(){return P},Gl:function(){return x},Hl:function(){return T},Kb:function(){return D},NA:function(){return r},NG:function(){return s},OC:function(){return k},Pq:function(){return I},QM:function(){return y},Sk:function(){return j},UF:function(){return v},Uo:function(){return A},WF:function(){return l},Xm:function(){return u},Zf:function(){return i},_D:function(){return R},_N:function(){return p},ac:function(){return a},dt:function(){return m},e_:function(){return f},gf:function(){return g},hf:function(){return w},i_:function(){return c},jY:function(){return _},ni:function(){return S},qg:function(){return d},rX:function(){return o},vX:function(){return O},wO:function(){return C},yG:function(){return h},yq:function(){return E}});var r="10",o=1,i=365,a=64,l=8,c=9,s=11,u=15,d=16,f=17,p=18,y=19,h=20,m=22,b=1e6,g=1e6,v="US";function _(e){var t="USD",n="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",n="";break;case"AU":t="AUD",n="$";break;case"CA":t="CAD",n="$";break;case"CH":t="CHF",n="CHF";break;case"DK":t="DKK",n="kr";break;case"GB":t="GBP",n="\xa3";break;case"NO":t="NOK",n="kr";break;case"NZ":t="NZD",n="$";break;case"SE":t="SEK",n="kr"}return[t,n]}var P={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},S={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},j={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},x={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},w="QUICK_PROMOTE_PAGE",O=[x.GDPR_MODAL,x.PIN_SELECTION_MODAL,w,x.BUSINESS_FORM,x.BILLING_FORM,x.SUCCESS_MODAL,x.ERROR_MODAL],I={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},A=function(e){return e>=1&&e<=2},k="qp-fac-education-id",E="qp-fac-modal-education-id",T={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"},C={PINS:0,PRODUCT_GROUPS:1,BOARDS:2,SELECTED:3,SEARCH_RESULTS:4},R={MOST_RECENT:"RECENT",PROMOTED_PINS:"PROMOTED"},D=300},465615:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r,o=n(598228);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){var r;return(r=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===i(r)?r:String(r))in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(a(r={},0,o.C0),a(r,3,o.vI),a(r,4,o.YD),r);function c(e){var t=e.currentSiteType,n=e.destinationSiteType,r=e.inputPath,o=Object.keys(l).includes(String(t))&&Object.keys(l).includes(String(n)),i="/"===r[0]?r:"/".concat(r);return o&&n!==t?"".concat(l[n]).concat(i):i}},860910:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(684404),o=n(140017),i=n(339001),a=n(149722),l=n(819267);function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t,n,r,o,i=null!==(t=null!==(n=null==e?void 0:e.imageMediumUrl)&&void 0!==n?n:null==e?void 0:e.image_medium_url)&&void 0!==t?t:"";return{name:null!==(r=null!==(o=null==e?void 0:e.fullName)&&void 0!==o?o:null==e?void 0:e.full_name)&&void 0!==r?r:"",src:"https://s.pinimg.com/images/user/default_75.png"===i?void 0:i}}function d(e){var t,n,s,d,f,p=e.board,y=e.forceViewer,h=e.isCompact,m=e.ownerOnly,b=(0,o.ZP)(),g=(0,a.Z)(),v=m?[u(null==p?void 0:p.owner)]:(function(e,t,n){var r=null!=e?e:{},o=r.collaborated_by_me,i=r.collaborating_users,a=r.owner,l=null!=i?i:[],s=[a];if(o||n){var u=l.findIndex(function(e){return t.isAuth&&e.id===t.id});if(-1!==u){var d=l.splice(u,1)[0];s.push(d)}else s.push(t)}var f=c(l).sort(function(e,t){var n,r,o,i;return(null!==(n=e.full_name)&&void 0!==n?n:"")>(null!==(r=t.full_name)&&void 0!==r?r:"")?1:(null!==(o=t.full_name)&&void 0!==o?o:"")>(null!==(i=e.full_name)&&void 0!==i?i:"")?-1:0});return[].concat(s,c(f))})(p,g,y).map(u),_=v.slice(0,3).map(function(e){return e.name}),P="";switch(v.length){case 3:P=(0,i.Wc)("".concat(b._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(null!==(t=_[0])&&void 0!==t?t:""),second:"".concat(null!==(n=_[1])&&void 0!==n?n:""),last:"".concat(null!==(s=_[2])&&void 0!==s?s:"")});break;case 2:P=(0,i.Wc)("".concat(b._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(null!==(d=_[0])&&void 0!==d?d:""),second:"".concat(null!==(f=_[1])&&void 0!==f?f:"")});break;default:P=_.join(", ")}var S=v.length>3?(0,i.Wc)(", ".concat(b.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', v.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')),{userNames:P,leftCount:"".concat(v.length-3)}):(0,i.Wc)(", ".concat(b._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:P});return(0,l.jsx)(r.HE,{accessibilityLabel:S,collaborators:v,size:h?"xs":"sm"})}},67765:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c},tY:function(){return d},Xt:function(){return s},$7:function(){return f},Yh:function(){return u}});var r=n(780277),o=n(340523),i=n(757640),a=n(149722),l={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function c(e){var t,n,r=(0,a.Z)(),l=r.isAuth&&r.id===e,c=(0,o.F)().checkExperiment,s=(0,i.Z)(!r.isAuth||l?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:l&&r.has_quicksave_board||!!(r.isAuth&&null!==(t=(null!=s?s:{}).data)&&void 0!==t&&t.has_quicksave_board)||(l||r.isAuth)&&!r.has_quicksave_board&&!(null!==(n=(null!=s?s:{}).data)&&void 0!==n&&n.has_quicksave_board)&&c("profile_saves_for_all").anyEnabled}}function s(e){var t,n=(0,a.Z)(),r=n.isAuth&&n.id===e,o=(0,i.Z)(!n.isAuth||r?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{boardlessPinsEnabled:r&&n.has_quicksave_board||!!(n.isAuth&&null!==(t=(null!=o?o:{}).data)&&void 0!==t&&t.has_quicksave_board)}}function u(e){var t,n=(0,r.useDispatch)(),o=(0,a.Z)(),l=o.isAuth&&!!o.boardCount&&o.boardCount<5&&e,c=(0,i.Z)(l&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:o.isAuth&&o.id}}:null);return o.isAuth&&void 0===o.save_behavior&&c&&null!==(t=c.data)&&void 0!==t&&t.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:c.data.save_behavior}}),{showEnabledSaveBehavior:l}}function d(e){var t,n=(0,a.Z)();return e&&(n.save_behavior===l.SAVE_TO_PROFILE?t={type:"classic"}:n.save_behavior===l.SHOW_BOARD_PICKER&&(t={type:"inline"})),{saveBehaviorType:t}}function f(){var e,t=(0,a.Z)();return t.isAuth&&(null!==(e=null==t?void 0:t.secretBoardCount)&&void 0!==e?e:0)>0}},402287:function(e,t,n){"use strict";n.d(t,{$n:function(){return S},A4:function(){return O},CE:function(){return b},ET:function(){return T},F$:function(){return P},Kw:function(){return k},Nv:function(){return A},PA:function(){return w},X_:function(){return E},d9:function(){return j},e1:function(){return m},o4:function(){return I},vB:function(){return v}});var r=n(654369),o=n(216167),i=n(107366),a=n(227258),l=n(827625),c=n(821419),s=n(64819),u=n(430408),d=n(539426),f=n(937310);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e){return function(t){var n=e.boardId,r=e.sectionIdBefore,o=e.sectionIdAfter,a=e.sourceSectionId,l=e.targetSectionId;t((0,s._f)({feedType:f.Z.BOARD_SECTIONS,feedId:n,itemType:"boardsection",sourceItemId:a,targetItemId:l}));var c=Object.freeze({});return r&&(c=h(h({},c),{},{section_before:r})),o&&(c=h(h({},c),{},{section_after:o})),(0,i.Z)({url:"/v3/board/sections/".concat(a,"/reorder/"),method:"POST",data:c})}}function b(e,t){return function(n){return n((0,a.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}}function g(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function v(e,t,n,r){var i=e.boardId,a=e.sourceBoardId,d=void 0===a?"":a,p=e.sourceSectionId,y=void 0===p?"":p,m=e.name,b=e.nameSource,v=e.pinImport,_=e.initialPinIds,P=0;"RECOMMENDATION"===b?P=1:"EDITED_RECOMMENDATION"===b&&(P=2);var S=h({board_id:i,initial_pins:v&&!v.all?v.pinIds:void 0===_?[]:_,name:m,name_source:P},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return o.Z.create("BoardSectionResource",S).callCreate({showError:!1}).then(function(o){var a=o.resource_response.data;r({event_type:7100,object_id_str:a.id}),e(g(i,a)),e((0,s.vX)({feedId:i,feedType:f.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),e((0,c.Tq)(i,"pin_count")),e((0,l.jB)("BoardSectionsRepinResource",{board_id:i,orbac_subject_id:n}));var p=v||{all:!1,pinIds:[]},h=p.all,m=p.pinIds;return h?new Promise(function(n,r){return e((0,u.Z)({inverseSelection:!0,selectedPinIds:m,source:{boardId:d||i,sectionId:y||null},target:{boardId:i,sectionId:a.id}},t)).then(function(){return n(a)}).catch(r)}):(m.length>0&&e((0,s.N8)(f.Z.BOARDFEED,i)),a)})}}function _(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function P(e,t,n){return function(r){return o.Z.create("BoardSectionEditResource",h({section_id:t},n?{orbac_subject_id:n}:Object.freeze({}))).callDelete({showError:!1}).then(function(){return Promise.all([r(_(e,t)),r((0,s.EX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),r((0,c.Tq)(e,"pin_count")),r((0,l.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:n}))])})}}function S(e,t,n,r){return function(i){return o.Z.create("BoardSectionEditResource",h({section_id:t,title:n},r?{orbac_subject_id:r}:Object.freeze({}))).callCreate({showError:!1}).then(function(t){var n=t.resource_response.data;return i(function(t){var r,o,i,a,l,u=n.board;u&&u.id!==e?(t(_(e,null!==(r=n.id)&&void 0!==r?r:"")),t((0,s.EX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[null!==(o=n.id)&&void 0!==o?o:""],itemType:"boardsection"})),t((0,c.Tq)(e,"pin_count")),t(g(null!==(i=u.id)&&void 0!==i?i:"",n)),t((0,s.vX)({feedId:null!==(a=u.id)&&void 0!==a?a:"",feedType:f.Z.BOARD_SECTIONS,itemIds:[null!==(l=n.id)&&void 0!==l?l:""],itemType:"boardsection"})),t((0,c.Tq)(e,"pin_count"))):t({type:"SECTION_UPDATED",payload:{boardId:e,section:n}})}),i((0,l.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:r})),n})}}function j(e,t,n){return function(r){return(0,i.Z)({url:"/v3/board/sections/".concat(t,"/merge/").concat(n,"/"),method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then(function(o){return Promise.all([r(_(e,t)),r((0,l.jB)("BoardSectionsRepinResource",{board_id:e})),r(b(n)),r((0,s.N8)(f.Z.BOARD_SECTION_PINS,n))]).then(function(){return o})})}}var x=function(e,t){return{type:"BOARD_SECTION_EDIT",payload:t}},w=function(e,t){return function(n){return o.Z.create("BoardSectionEditResource",h(h({},t),{},{section_id:e})).callCreate().then(function(r){return n(x(e,t)),r.resource_response.data})}},O=function(e){return function(t){return o.Z.create("BoardSectionResource",{section_id:e}).callGet().then(function(n){return t(x(e,n.resource_response.data||{id:"",title:""})),n})}},I=function(e,t,n,r){return function(i){var a=o.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return i({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:n,pinCount:r}}),a}},A=function(e,t,n,i){return function(a){var c={board_id:e,initial_pins:t,name:n},u="BoardSectionResource";return o.Z.create(u,c).callCreate().then(function(n){var o=n.resource_response.data,p=(0,r.Fv)(o,d.Z[u]);return i({event_type:7100,object_id_str:o.id}),a((0,l.XM)(u,c,n,p)),a(g(e,o)),a((0,s.vX)({feedId:e,feedType:f.Z.BOARD_SECTIONS,itemIds:[o.id],itemType:"boardsection"})),t.length&&a({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:o.id},pinIds:t}}),n})}},k=function(e){return function(t){var n=e.source,i=e.target,a=e.pinIds;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||i.boardId!==n.boardId){var c={board_id:i.boardId,pin_ids:a,section_id:i.sectionId};return o.Z.create("BulkEditResource",c).callUpdate()}if(i.sectionId){var s={section_id:i.sectionId,pins:a},u="BoardSectionEditResource";return o.Z.create(u,s).callUpdate().then(function(e){var n=(0,r.Fv)(e.resource_response.data,d.Z[u]);return t((0,l.XM)(u,s,e,n)),e})}var f={section_id:n.sectionId,pins:a};return o.Z.create("BoardSectionPinsResource",f).callDelete()}},E=function(e){return function(t){t({type:"PINS_MOVE_ALL",payload:e});var n=e.source,r=e.target,i=e.excludePinIds,a={board_id:n.boardId,new_board_id:r.boardId,pin_ids:i,old_section_id:n.sectionId,new_section_id:r.sectionId};return o.Z.create("BulkEditSelectAllResource",a).callUpdate()}},T=function(e,t,n,r,o){return function(i){return i(A(e,[],t,o)).then(function(t){return i(E({source:{boardId:e,sectionId:r},target:{boardId:e,sectionId:t.resource_response.data.id},excludePinIds:n}))})}}},430408:function(e,t,n){"use strict";n.d(t,{Z:function(){return p},S:function(){return f}});var r=n(216167),o=n(821419),i=n(402287),a=n(64819),l=n(937310),c=n(622888),s=function(e){return function(t){c.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))}},u=function(e){return(0,a.N8)(e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,e.sectionId||e.boardId)};function d(e,t){var n=e.source,r=e.target;r.boardId!==n.boardId?(t((0,o.Tq)(n.boardId,"pin_count")),t((0,o.Tq)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t((0,o.Tq)(r.boardId,"pin_count")),n.sectionId&&t((0,i.CE)(n.sectionId)),r.sectionId&&t((0,i.CE)(r.sectionId))}function f(e){return function(t){var n=e.selectedPinIds,r=e.source,o=e.target;t((0,a.EX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,a.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:n,itemType:"pin"})),d(e,t)}}function p(e,t){return function(n){return(function(e,t,n){var o=e.inverseSelection,i=e.selectedPinIds,c=e.source,d=e.target,f=e.orbacSubjectId;if(c.boardId===d.boardId&&(c.sectionId||null)===(d.sectionId||null))return Promise.reject();if(o){var p={board_id:c.boardId,new_board_id:d.boardId,old_section_id:c.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return r.Z.create("BulkEditSelectAllResource",p).callUpdate({showError:!1}).then(function(){return Promise.all([t(u(c)),t(u(d))])}).catch(s(n))}var y=function(e,n){t((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,a.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:i,itemType:"pin"}))};y(c,d);var h=function(){return y(d,c)};if(d.boardId===c.boardId){if(d.sectionId){var m={section_id:d.sectionId,pins:i,orbac_subject_id:f};return r.Z.create("BoardSectionEditResource",m).callUpdate({showError:!1}).catch(function(e){h(),s(n)(e)})}var b={section_id:c.sectionId,pins:i,orbac_subject_id:f};return r.Z.create("BoardSectionPinsResource",b).callDelete({showError:!1}).catch(function(e){h(),s(n)(e)})}var g={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:i,orbac_subject_id:f};return r.Z.create("BulkEditResource",g).callUpdate({showError:!1}).catch(function(e){h(),s(n)(e)})})(e,n,t).then(function(){return d(e,n)})}}},409403:function(e,t,n){"use strict";function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e){return{type:"PIN_SAVE",payload:e}}function a(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function s(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,nodeId:e.nodeId}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!0,nodeId:e.nodeId}}}function d(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function f(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function p(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}function y(e){return{payload:{id:e.id,nodeId:e.nodeId,resource:e.resource,value:e.value},type:"UPDATE_PIN_TRACKING_PARAMS_MAP"}}n.d(t,{Er:function(){return y},Gb:function(){return a},I1:function(){return c},Ib:function(){return u},Ur:function(){return i},Vw:function(){return l},b9:function(){return f},i0:function(){return d},mO:function(){return o},q1:function(){return s},yR:function(){return r},yj:function(){return p}})},70982:function(e,t,n){"use strict";n.d(t,{KF:function(){return f},ZN:function(){return s},fv:function(){return d},kE:function(){return y},yA:function(){return u}});var r=n(216167),o=n(107366),i=n(386129);function a(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){n(e);return}l.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,c,"next",e)}function c(e){a(i,r,o,l,c,"throw",e)}l(void 0)})}}function c(e,t,n,o){return r.Z.create("UserFollowResource",{user_id:e,invite_code:o||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:n})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return function(o){c(e,t,n,r).callCreate().catch(function(){return o((0,i.P_)(e,!1))}),o((0,i.P_)(e,!0))}}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return t=l(regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a((0,i.P_)(e,!0)),t.next=3,c(e,n,r,o).callCreate().catch(function(t){throw a((0,i.P_)(e,!1)),t});case 3:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return function(r){c(e,t,n).callDelete().catch(function(){return r((0,i.P_)(e,!0))}),r((0,i.P_)(e,!1))}}function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;return t=l(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o((0,i.P_)(e,!1)),t.next=3,c(e,n,r).callDelete().catch(function(t){throw o((0,i.P_)(e,!0)),t});case 3:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}}var p=function(e,t){return{type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}},y=function(e){return function(t){e.length>0&&((0,o.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(function(){return t(p(e,!1))}),t(p(e,!0)))}}},991944:function(e,t,n){"use strict";n.d(t,{P:function(){return c},u:function(){return l}});var r=n(193163),o=function(e){return e||[]},i=function(e){return e?e.reduce(function(e,t){return null!=t&&t.objects?e.concat(t.objects):e.concat([t].filter(Boolean))},[]):[]},a=function(e){return e&&Array.isArray(e)?e.map(function(e){return e.content_pin}).filter(function(e){return!!e}):[]},l={ApiResource:function(e){if(e&&Array.isArray(e)){var t=[];return e.forEach(function(e){e.call_to_create_source_pin_id?t.push(e):"story"===e.type&&e.objects&&Array.isArray(e.objects)?e.objects.forEach(function(e){t.push(e)}):"pin"===e.type&&t.push(e)}),t}return[]},BaseSearchResource:function(e){return e?i(e.results):[]},BoardContentRecommendationResource:o,BoardFeedResource:o,BoardlessPinsResource:o,BoardSectionPinsResource:o,BoardShopCategoryFeedResource:o,BoardShopSavedProductsFeedResource:o,BrandCatalogFeedResource:o,BusinessProfileUserPinsResource:o,CategoryFeedResource:o,DomainFeedResource:o,IdeaPinStelaResultsResource:o,InterestResource:function(e){return e?e.results:[]},LiveSessionProductsResource:function(e){return e?Object.values(e).reduce(function(e,t){return e.concat(t)},[]):[]},NewsHubDetailsResource:function(e){return e?e.reduce(function(e,t){return t.content_items?e.concat(t.content_items.map(function(e){return e.content_object}).filter(Boolean)):e},[]):[]},PinCatalogResource:o,ProfileCoverFeedResource:o,RelatedModulesResource:i,RelatedPinFeedResource:o,RelatedProductFeedResource:o,RelatedStreamResource:o,SearchResource:o,SectionSuggestionsPinsResource:o,ShoppingFeedModularizedResource:i,TaggedObjectsResource:i,TodayArticleFeedResource:function(e){return(0,r.nx)(e)?e.reduce(function(e,t){if(Array.isArray(t.objects)){var n=[];return t.objects.forEach(function(e){var t;"todayarticle"===e.type&&(null===(t=e.content_pin)||void 0===t?void 0:t.type)==="pin"?n.push(e.content_pin):"pin"===e.type&&n.push(e)}),e.concat(n)}return e},[]):e||[]},TodayTabInterestFeedResource:a,TodayTabResource:a,TopicFeedResource:o,UserDiscoveredPinsResource:o,UserHomefeedResource:i,UserActivityPinsResource:o,UserRecentActivityResource:o,UserStoryPinsFeedResource:o,UserPinsResource:o,VisualLiveSearchResource:function(e){return e?e.results:[]},VisualLiveSearchProductFeedResource:o,VisualLinkVisualSearchResource:o,VisualSearchFlashlightUnifiedResource:function(e){return e?i(e.results):[]},ShoppingListFeedResource:i,ShoppingListRecentlyViewedFeedResource:o,BestPinsFeedAltResource:o,StoryFeedResource:i},c=function(e,t){var n,r=e;switch(e){case"ApiResource":break;case"BaseSearchResource":case"SearchResource":var o=t.query;"blp"===t.auth_lp_type?n=null:o&&(n=encodeURIComponent(o)),r="SearchResource";break;case"BrandCatalogFeedResource":case"RelatedModulesResource":case"RelatedPinFeedResource":case"RelatedProductFeedResource":case"ShoppingFeedModularizedResource":case"VisualSearchFlashlightUnifiedResource":case"BoardShopCategoryFeedResource":n=t.pin;break;case"CategoryFeedResource":n=t.feed;break;case"DomainFeedResource":n=t.domain;break;case"LiveSessionProductsResource":n=t.classId;break;case"NewsHubDetailsResource":n=t.news_id;break;case"BestPinsFeedAltResource":case"TopicFeedResource":n=t.interest;break;case"TodayArticleFeedResource":n=t.id;break;case"StoryFeedResource":n="".concat(t.feed_type,"-").concat(t.request_params)}return n?"".concat(r,"_").concat(n.toLowerCase()):e}},296011:function(e,t,n){"use strict";var r=(0,n(746074).P1)(function(e){var t=e.users,n=e.boards,r=t[e.session.userId]||null;return Object.keys(n).reduce(function(e,t){var o,i=n[t];return!i.archived_by_me_at&&((null===(o=i.owner)||void 0===o?void 0:o.id)===r.id||i.collaborating_users&&i.collaborating_users.map(function(e){return e.id}).includes(r.id))&&i.cover_images?e.concat([i]):e},[])},function(e){return e.sort(function(e,t){return e.name.localeCompare(t.name)})});t.Z=r},951766:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(780277),o=n(684404),i=n(140017),a=n(339001),l=n(358589),c=n(70660),s=n(819267);function u(e){var t,n=e.boardId,u=e.onBoardSelected,d=e.noArrowIcon,f=e.showSingleBoardRep,p=(0,i.ZP)(),y=(0,r.useSelector)(function(e){return e.boards})[n],h=y.section_count,m=!!h&&h>0,b=(0,l.Z)(),g=null!==(t=y.name)&&void 0!==t?t:"this board";return(0,s.jsx)(o.iP,{accessibilityLabel:(0,a.Wc)("".concat(p._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')),{boardName:g}),onTap:b({fn:function(){return u(m)}}),rounding:2,tapStyle:"compress",children:(0,s.jsx)(c.Z,{boardId:n,noArrowIcon:d,showSingleBoardRep:f})})}},70660:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(672652),o=n(780277),i=n(684404),a=n(140017),l=n(339001),c=n(316667),s=n(274262),u=n(677068),d=n(819267);function f(e){var t=e.boardId,n=e.navigateToBoard,f=e.noArrowIcon,p=e.showCollaborators,y=e.showSingleBoardRep,h=e.shouldShowPinAndSectionCount,m=(0,a.ZP)(),b=(0,o.useSelector)(function(e){return e.boards})[t],g=(b.collaborating_users||[]).map(function(e){var t,n;return{name:null!==(t=e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(n=e.image_medium_url)&&void 0!==n?n:""}}),v="",_=g.slice(0,3).map(function(e){return e.name});switch(g.length){case 3:v=(0,l.Wc)("".concat(m._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(_[0]),second:"".concat(_[1]),last:"".concat(_[2])});break;case 2:v=(0,l.Wc)("".concat(m._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(_[0]),second:"".concat(_[1])});break;default:v=_.join(", ")}var P=g.length>3?(0,l.Wc)(m.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', g.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:v,leftCount:"".concat(g.length-3)}):(0,l.Wc)("".concat(m._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:v}),S=new i.Ry(0),j=b.pin_count,x=b.section_count,w=(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(i.xu,{"data-test-id":x?"boardWithSection":"boardWithoutSection",children:(0,d.jsxs)(i.xu,{alignItems:"center",column:12,"data-test-id":"board-picker-row",display:"flex",marginBottom:y?4:0,rounding:2,children:[(0,d.jsx)(i.xu,{paddingY:y?0:2,children:y?(0,d.jsx)(i.xu,{height:48,overflow:"hidden",width:48,children:(0,d.jsx)(i.zd,{height:"100%",rounding:2,width:"100%",children:(0,d.jsx)(i.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:b.image_cover_url||" "})})}):(0,d.jsx)(i.xu,{height:60,overflow:"hidden",rounding:4,width:60,children:(0,d.jsx)(u.Z,{boardId:b.id,fullSize:!0,type:"thumbnail"})})}),(0,d.jsxs)(i.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsxs)(i.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:y?2:4,overflow:y?"hidden":"auto",width:"100%",children:[(0,d.jsx)(i.xv,{lineClamp:y?1:void 0,size:"400",weight:"bold",children:b.name}),h&&(0,d.jsxs)(i.kC,{children:[(0,d.jsx)(i.xv,{inline:!0,children:!!j&&(0,l.nk)(m.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', null != j ? j : 0, 'BoardRow.pinCount', 'Number of Pins on board or section, pinCount: number of Pins'),{PinCount:j})}),!!j&&!!x&&(0,d.jsx)(s.Z,{}),(0,d.jsx)(i.xv,{inline:!0,children:!!x&&(0,l.nk)(m.ngettext('{{ sectionCount }} section', '{{ sectionCount }} sections', null != x ? x : 0, 'BoardRow.sectionCount', 'Number of sections on board, sectionCount: number of sections'),{sectionCount:x})})]})]}),(0,d.jsxs)(i.kC,{alignItems:y?"center":"start",justifyContent:"start",children:["secret"===b.privacy&&(0,d.jsx)(i.xu,{marginStart:y?3:1,children:(0,d.jsx)(i.JO,{accessibilityLabel:m._('secret board icon', ' - ', ' -- '),color:y?"default":"subtle",icon:"lock"})}),b.is_collaborative&&(y||p)&&g.length>0?(0,d.jsx)(i.xu,{zIndex:S,children:(0,d.jsx)(i.HE,{accessibilityLabel:c.U+P,collaborators:g,size:1===g.length?"sm":"xs"})}):b.is_collaborative&&(0,d.jsx)(i.xu,{marginStart:1,children:(0,d.jsx)(i.JO,{accessibilityLabel:m._('group board icon', ' - ', ' -- '),icon:"people"})}),!f&&!!b.section_count&&(0,d.jsx)(i.xu,{"data-test-id":"boardSectionPicker",marginStart:y?3:0,children:(0,d.jsx)(i.JO,{accessibilityLabel:m._('board section board picker icon', ' - ', ' -- '),color:y?"default":"subtle",icon:"arrow-forward"})})]})]})]})})});return n&&b.url?(0,d.jsx)(i.Tg,{href:b.url,rounding:2,tapStyle:"compress",children:w}):w}},900876:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(780277),o=n(328038),i=n(684404),a=n(140017),l=n(870319),c=n(761203),s=n(951766),u=n(339001),d=n(490166),f=n(819267);function p(e){var t,n,o=e.onSectionSelected,l=e.sectionId,c=e.showSectionRep,s=(0,r.useSelector)(function(e){return e.boardsections[l]}),p=(0,a.ZP)(),y=s&&(null===(t=s.preview_pins)||void 0===t?void 0:t[0])&&s.preview_pins[0].image_medium_url,h=null!==(n=s.title)&&void 0!==n?n:"";return(0,f.jsx)(d.Z,{onTouch:o,pressState:"none",rounding:2,children:(0,f.jsxs)(i.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:c?4:0,rounding:2,children:[c&&(0,f.jsx)(i.xu,{height:48,width:51,children:(0,f.jsx)(i.zd,{height:"100%",rounding:2,width:"100%",children:(0,f.jsx)(i.Ee,{alt:(0,u.Wc)(p._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:h}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=y?y:""})})}),!c&&(0,f.jsx)(i.xu,{column:1,paddingY:2}),(0,f.jsx)(i.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:c?(0,f.jsx)(i.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,f.jsx)(i.xv,{lineClamp:1,size:"400",weight:"bold",children:s.title})}):(0,f.jsx)(i.xu,{marginStart:2,children:(0,f.jsx)(i.xv,{weight:"bold",children:s.title})})})]})})}var y=function(e,t){var n=(0,l.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}).isFetching,o=(0,r.useSelector)(function(t){return(t.feeds["board-sections:".concat(e)]||[]).reduce(function(e,t){if("boardsection"===t.type){var n={type:"boardsection",id:t.id};e.push(n)}return e},[])}),i=(0,r.useSelector)(function(n){return o.map(function(e){return e.id}).reduce(function(r,o){var i=n.boardsections[null!=o?o:""];return o!==t&&i&&r.push({board:{id:e},id:i.id,title:i.title,type:"boardsection",slug:i.slug}),r},[])});return{isFetching:n,boardSections:o,filteredBoardSections:i}};function h(e){var t=e.boardId,n=e.originalBoardId,r=e.sectionId,l=e.repin,u=e.hideBoardPickerRow,d=e.showSectionRep,h=(0,a.ZP)(),m=y(t,r),b=m.isFetching,g=m.boardSections,v=m.filteredBoardSections,_=(0,o.k6)(),P=(0,c.gC)()(n||"");return(0,f.jsxs)(i.xu,{children:[g.length>0&&(0,f.jsxs)(i.xu,{paddingY:d?0:3,children:[d&&(0,f.jsx)(i.xu,{paddingY:2,children:(0,f.jsx)(i.xu,{marginBottom:2,children:(0,f.jsx)(i.xv,{children:h._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})}),!u&&(0,f.jsx)(s.Z,{boardId:t,noArrowIcon:!0,onBoardSelected:function(){return l(t,void 0,h)},showSingleBoardRep:d},t),d&&(0,f.jsx)(i.xu,{paddingY:4,children:(0,f.jsx)(i.xv,{children:h._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})}),v.map(function(e){var r;return(0,f.jsx)(p,{onSectionSelected:function(){if(l(t,e,h),n){var r;_.push(null!==(r=null==P?void 0:P.url)&&void 0!==r?r:"")}},sectionId:null!==(r=e.id)&&void 0!==r?r:"",showSectionRep:d},e.id)})]}),(0,f.jsx)(i.$j,{accessibilityLabel:h._('Loading board section for repin flow', ' - ', ' -- '),show:b})]})}},581349:function(e,t,n){"use strict";n.d(t,{W:function(){return u}});var r=n(684404),o=n(481177),i=n(140017),a=n(267508),l=n(319510),c=n(327540),s=n(819267);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce(function(n,r,o){if(n.length>0&&e&&e.length){var i=t.toLowerCase().indexOf(e.toLowerCase());return n.concat((0,s.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(i,i+e.length)},o),r)}return[r]},[]):t}t.Z=function(e){var t,n,d,f,p,y,h=(0,i.ZP)(),m=e.disabled,b=e.item,g=e.isSection,v=e.isSelectMode,_=e.isWithinSectionPicker,P=e.saveState,S=e.searchQuery,j=e.selected,x=g?null:b,w=g?b:null,O=w&&w.title||x&&x.name||"",I="",A=!1,k="",E=0;if(x){I=x.image_cover_url,A=x.is_collaborative,k=x.privacy;var T=x.section_count;E=void 0===T?0:T}var C=u(S,O),R=k===o.Z.BoardPrivacy.SECRET,D=!m&&(j||!!P),B=!_&&"number"==typeof E&&E>0,F="number"==typeof E&&E>0?"boardWithSection":"boardWithoutSection",Z=v?h._('Select', 'Board select button label', 'Board select button label'):h._('Save', 'Pin save button label', 'Pin save button label');return(0,s.jsxs)(r.xu,{alignItems:"center",color:D?"secondary":"default","data-test-id":F,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:3,children:[x&&(0,s.jsx)(r.xu,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:2,width:48,children:I?(0,s.jsx)(r.Ee,{alt:h._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:I}):(0,s.jsx)("span",{})}),w&&!!(null!==(t=w.preview_pins)&&void 0!==t&&t.length)&&(0,s.jsx)(l.Z,{image_url:null!==(n=w.preview_pins[0].image_square_url)&&void 0!==n?n:"",naturalHeight:null!==(d=null===(f=w.preview_pins[0].image_square_size_pixels)||void 0===f?void 0:f.height)&&void 0!==d?d:1,naturalWidth:null!==(p=null===(y=w.preview_pins[0].image_square_size_pixels)||void 0===y?void 0:y.width)&&void 0!==p?p:1}),(0,s.jsxs)(r.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,s.jsx)(r.xv,{color:m?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:C}),(B||!D)&&(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[R&&(0,s.jsx)(c.Z,{type:"secret"}),A&&(0,s.jsx)(a.Z,{board:x,showCollaborativeIcon:A,useLegoLayout:!0}),B&&(0,s.jsx)(c.Z,{type:"sections"})]}),!B&&D&&!P&&(0,s.jsx)(r.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,s.jsx)(r.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:Z})}),!B&&D&&"loading"===P&&(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,s.jsx)(r.$j,{accessibilityLabel:h._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},327540:function(e,t,n){"use strict";var r=n(684404),o=n(140017),i=n(819267);t.Z=function(e){var t=e.type,n=(0,o.ZP)(),a={group:{accessibilityLabel:n._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:n._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"protect"},secret:{accessibilityLabel:n._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:n._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:n._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-down"}}[t];return(0,i.jsx)(r.xu,{marginStart:1,children:(0,i.jsx)(r.xu,{marginStart:2,children:"sections"===t||"sectionsInline"===t?(0,i.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:"12"}):(0,i.jsx)(r.JO,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:16})})})}},503500:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(672652),o=n(684404),i=n(214877),a=n(140017),l=n(757640),c=n(819267);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=p(i);if(t){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return y(f(e=r.call.apply(r,[this].concat(n))),"state",{isHovering:!1}),y(f(e),"onHover",function(){e.setState({isHovering:!0})}),y(f(e),"offHover",function(){e.setState({isHovering:!1})}),e}return u(i.prototype,[{key:"render",value:function(){var e,t,n,r=this.props,i=r.name,a=r.selected,l=r.image;return r.inFlyoutExp?(0,c.jsxs)(o.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,c.jsx)(o.xu,{children:(0,c.jsx)(o.zd,{height:40,rounding:2,width:40,children:this.state.isHovering&&l?(0,c.jsx)(o.Ee,{alt:"",color:"",fit:"cover",naturalHeight:null!==(e=l.height)&&void 0!==e?e:1,naturalWidth:null!==(t=l.width)&&void 0!==t?t:1,src:null!==(n=l.url)&&void 0!==n?n:""}):(0,c.jsx)(o.xu,{color:"secondary",height:40,width:40})})}),(0,c.jsx)(o.xu,{padding:2,children:(0,c.jsx)(o.X6,{size:"400",children:i})})]}):(0,c.jsxs)(o.xu,{alignItems:"center",color:a?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,c.jsx)(o.xu,{children:(0,c.jsx)(o.JO,{accessibilityLabel:"",color:a?"default":"subtle",icon:"add"})}),(0,c.jsx)(o.xu,{marginStart:3,children:(0,c.jsx)(o.xv,{color:a?"default":"subtle",weight:"bold",children:i})})]})}}]),n&&u(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g=function(e){var t,n,s=e.inFlyoutExp,u=e.inFirstBoardCreateGestaltExp,d=e.pinId,f=e.image,p=e.minHeight,y=e.onBoardSelected,h=(0,i.v)().logContextEvent,g=(0,a.ZP)(),v=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(-1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=v[0],P=v[1],S=(0,l.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(String(d),"/board_title_suggestions/"),pin_id:d}}),j=S.data,x=S.isLoaded,w=(n=void 0===j?[]:j,(0,r.useMemo)(function(){return n&&n.length?n.map(function(e){return e.title}):[]},[n])),O=function(e){y(w[e],!1),h({event_type:101,component:13025,element:23})},I=function(e){P(e)},A=function(){P(-1)},k=function(e,t){var n=_===t;return(0,c.jsx)("li",{children:(0,c.jsx)(o.iP,{onMouseEnter:function(){return I(t)},onMouseLeave:A,onTap:function(){return O(t)},children:(0,c.jsx)(m,{image:f,inFlyoutExp:s,name:e,selected:n})})},t)};return x?w&&w.length?s?(0,c.jsx)(o.xu,{children:(0,c.jsx)("ul",{children:w.map(k)})}):u?(0,c.jsxs)(o.xu,{children:[(0,c.jsx)(o.xu,{marginBottom:3,marginStart:6,marginTop:5,children:(0,c.jsx)(o.xv,{children:g._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,c.jsx)("ul",{children:w.map(k)})]}):(0,c.jsxs)(o.xu,{children:[(0,c.jsx)(o.xu,{marginTop:2,paddingX:5,children:(0,c.jsx)(o.xv,{children:g._('Suggested board names', ' - ', ' -- ')})}),(0,c.jsx)("ul",{children:w.map(k)})]}):null:(0,c.jsx)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:p||"",children:(0,c.jsx)(o.$j,{accessibilityLabel:g._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},160390:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(684404),o=n(140017),i=n(334688),a=n(819267);function l(e){var t=(0,o.ZP)(),n=e.buttonLabel,l=e.hasHoverState,c=e.name,s=e.onClick,u=(0,i.Z)(),d=u.isHovering,f=u.hoverHandlers,p=c||n||t._('Create board', ' - ', ' -- ');return(0,a.jsx)(r.iP,{onMouseEnter:f.onMouseOver,onMouseLeave:f.onMouseLeave,onTap:s,children:(0,a.jsxs)(r.xu,{alignItems:"center",color:l&&d?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,a.jsx)(r.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:2,children:(0,a.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})}),c?(0,a.jsx)(r.xu,{margin:1,children:(0,a.jsxs)(r.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,a.jsxs)(r.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",p," "]})]})})}},916964:function(e,t,n){"use strict";var r=n(672652),o=n(780277),i=n(684404),a=n(587703),l=n(140017),c=n(317540),s=n(149722),u=n(785059),d=n(199677),f=n(317985),p=n(402287),y=n(819267);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return(t=j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=P(a);if(t){var r=P(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),S(_(t=o.call(this,e)),"onCreateSection",function(){var e=t.props,n=e.board,r=e.sourceBoard,o=e.sourceSection,i=e.dispatch,a=e.completeCreateSectionAction,l=e.pinImport,c=e.viewer,s=e.orbacActingAs,u=e.logContextEvent,f=(0,d.lJ)(c,s);return t.setState({isSaving:!0}),i((0,p.vB)({boardId:n.id,sourceBoardId:r&&r.id,sourceSectionId:o&&o.id,name:t.state.inputName.trim(),pinImport:l},t.props.i18n,f,u)).then(function(e){t.setState({isSaving:!1}),a(e)}).catch(function(e){t.setState({createError:e.message_detail||e.message,isSaving:!1})})}),S(_(t),"handleKeyDown",function(e){var n=e.event,r=t.state,o=r.createError,i=r.inputName;[c.Z.ENTER,c.Z.NUMPAD_ENTER].includes(n.which)&&!o&&i.trim()&&t.onCreateSection()}),S(_(t),"handleChangeName",function(e){var n=e.value;t.setState({createError:null,inputName:n})}),S(_(t),"handleInputRef",function(e){t.setState({inputRef:e})}),t.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1},t}return n=[{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.createError,o=n.inputRef;o&&(!t.inputRef||r)&&o.focus()}},{key:"render",value:function(){var e=this.props,t=e.showTitle,n=e.positionRelative,r=this.state,o=r.createError,a=r.inputName,l=r.isSaving,c=!!a.trim()&&!o;return(0,y.jsxs)(i.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:n?"relative":"absolute",right:!0,rounding:2,top:!0,width:"100%",children:[t&&(0,y.jsx)(i.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,y.jsx)(i.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,y.jsxs)(i.xu,{padding:4,children:[(0,y.jsx)(i.xu,{marginBottom:2,children:(0,y.jsx)(i.__,{htmlFor:"sectionEditName",children:(0,y.jsx)(i.xv,{color:o?"error":"subtle",size:"200",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,y.jsx)(i.xu,{children:(0,y.jsx)(i.xu,{ref:this.handleInputRef,children:(0,y.jsx)(i.nv,{errorMessage:o||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:a})})})]}),(0,y.jsx)(i.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,y.jsx)(i.xu,{padding:4,children:(0,y.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,y.jsx)(f.Z,{disabled:!c||l,onClick:this.onCreateSection,submitting:l,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}],g(a.prototype,n),r&&g(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);t.Z=function(e){var t=(0,o.useDispatch)(),n=(0,l.ZP)(),r=(0,s.Z)(),i=(0,u.Z)();return(0,y.jsx)(x,b(b({},e),{},{dispatch:t,i18n:n,logContextEvent:(0,a.Z)(),orbacActingAs:i,viewer:r}))}},751279:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(684404),o=n(139655),i=n(819267);function a(e){var t=e.url,n=e.description,a=e.color;return a=a||"#8fa7bf",(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:a}},height:216,rounding:2,width:"100%",children:(0,i.jsxs)(r.xu,{maxHeight:200,overflow:"hidden",padding:4,children:[t&&(0,i.jsx)(r.xu,{marginBottom:2,children:(0,i.jsx)(r.xv,{color:"inverse",size:"100",children:(0,o.Z)(t).hostname||t})}),(0,i.jsx)(r.xu,{maxHeight:144,children:(0,i.jsx)(r.xv,{color:"inverse",overflow:"normal",weight:"bold",children:n})})]})})}},540363:function(e,t,n){"use strict";var r,o=n(672652);n(42279);var i=n(684404),a=n(214877),l=n(207012),c=n(172560),s=n(599874),u=n(819267),d=["userKey"];function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(a,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=g(a);if(t){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(b(e=o.call.apply(o,[this].concat(n))),"state",{}),v(b(e),"handleUserFollow",function(t,n){e.setState({isFollowing:n}),n?e.props.logContextEvent({event_type:45,object_id_str:t,view_type:3,view_parameter:73}):e.props.logContextEvent({event_type:46,object_id_str:t,view_type:3,view_parameter:73})}),e}return n=[{key:"render",value:function(){var e=this,t=this.props.user,n=t.entityId,r=t.fullName,o=t.imageMediumUrl,a=t.username,l=a?"/".concat(a,"/"):"";return n&&r?(0,u.jsxs)(i.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,u.jsx)(i.xu,{flex:"grow",paddingX:1,children:(0,u.jsx)(c.Z,{fullName:r,imageUrl:o,openNewTab:!0,profileUrl:l})}),(0,u.jsx)(i.xu,{flex:"none",paddingX:1,children:(0,u.jsx)(s.Z,{fullName:r,id:n,imageUrl:o||"",isOwnProfile:!1,onUserFollow:function(t){return e.handleUserFollow(n,t)},profileUrl:l,size:"md",suppressToasts:!0})})]}):null}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return void 0===t.isFollowing&&e.user?{isFollowing:!!e.user.followedByMe}:Object.freeze({})}}],n&&h(a.prototype,n),r&&h(a,r),Object.defineProperty(a,"prototype",{writable:!1}),a}(o.PureComponent);t.Z=function(e){var t=e.userKey,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,d),i=(0,a.v)().logContextEvent,c=void 0!==r?r:r=n(775793),s=(0,l.Z)(c,t);return(0,u.jsx)(P,y(y({},o),{},{logContextEvent:i,user:s}))}},540554:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(672652),o=n(684404),i=n(107366),a=n(388769),l=n(140017),c=n(339001),s=n(317540),u=n(825765),d=n(819267);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_(r.key),r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return(t=_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(u,e);var t,n,r,l=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=g(u);if(t){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function u(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(b(e=l.call.apply(l,[this].concat(n))),"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),v(b(e),"onDismiss",function(){}),v(b(e),"mounted",!1),v(b(e),"addHashtag",function(t){e.props.addHashtag(t),e.setState({recommendations:[]})}),v(b(e),"handleKeyDown",function(t){t.keyCode===s.Z.UP?e.handlePrevHashtag(t):t.keyCode===s.Z.DOWN?e.handleNextHashtag(t):t.keyCode===s.Z.ESCAPE?e.handleClose(t):t.keyCode===s.Z.ENTER&&e.handleSubmit(t)}),v(b(e),"handlePrevHashtag",function(t){t.preventDefault(),e.state.selectedIndex>0&&e.setState(function(e){return{selectedIndex:e.selectedIndex-1}})}),v(b(e),"handleNextHashtag",function(t){t.preventDefault(),e.state.selectedIndex<e.state.recommendations.length-1&&e.setState(function(e){return{selectedIndex:e.selectedIndex+1}})}),v(b(e),"handleClose",function(t){t.preventDefault(),e.setState({recommendations:[]})}),v(b(e),"handleSubmit",function(t){t.preventDefault(),e.addHashtag(e.state.recommendations[e.state.selectedIndex].query)}),v(b(e),"callResource",function(t){(0,e.props.makeCancelablePromise)((0,i.Z)({url:"/v3/search/autocomplete/",data:{q:t,show_pin_count:!0}}),"typeahead").then(function(t){if(e.mounted){var n=t.resource_response.data;e.setState({recommendations:n.slice(0,5),resourceLoaded:!0})}}).catch(function(t){t.isCanceled||e.setState({resourceLoaded:!1})})}),e}return n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,n=t.recommendations,r=t.resourceLoaded,i=t.selectedIndex,l=this.props,s=l.anchor,u=l.idealDirection,f=n.filter(function(e){return e.query}),p="flyout_"+f.length;return r&&f.length>0?(0,d.jsx)(o.J2,{anchor:s,idealDirection:u||"down",onDismiss:this.onDismiss,size:"sm",children:(0,d.jsx)(o.xu,{width:"100%",zIndex:new o.Ry(3),children:f.length>0?f.map(function(t,n){return(0,d.jsx)(o.iP,{fullWidth:!1,onTap:function(){return e.addHashtag(t.query)},children:(0,d.jsxs)(o.xu,{alignItems:"center",color:n===i?"secondary":"transparent",display:"flex",justifyContent:"between",padding:1,children:[(0,d.jsx)(o.xu,{flex:"grow",children:(0,d.jsx)(o.xv,{inline:!0,size:"200",weight:"bold",children:t.query})}),(0,d.jsx)(o.xu,{flex:"none",children:(0,d.jsx)(o.xv,{inline:!0,size:"100",children:(0,c.nk)(e.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(t.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,d.jsx)(a.Z,{value:Number(t.pin_count)},"pinCount")})})})]})},t.query)}):null})},p):null}}],h(u.prototype,n),r&&h(u,r),Object.defineProperty(u,"prototype",{writable:!1}),u}(r.Component);function S(e){var t=(0,l.ZP)(),n=(0,u.Z)();return(0,d.jsx)(P,y(y({},e),{},{i18n:t,makeCancelablePromise:n}))}},662058:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r,o,i,a,l,c=n(672652);n(42279);var s=n(684404),u=n(214877),d=n(207012),f=n(751279),p=n(91402),y=n(673500),h=n(140017),m=n(339001),b=n(757640),g=n(819267),v=void 0!==r?r:r=n(308322),_=void 0!==o?o:o=n(410661),P=void 0!==i?i:i=n(340723);function S(e){var t=e.pinKey,n=(0,h.ZP)(),r=(0,d.Z)(v,t),o="GraphQL"===(0,p.g)(t).kind,i=(0,y.Z)({strategy:o?"GRAPHQL":"LEGACY",query:P,variables:{pinId:r.entityId},options:{fetchPolicy:"network-only"},transformGraphQL:function(e){var t;return(null===(t=e.v3GetPinQuery)||void 0===t?void 0:t.__typename)==="V3GetPin"?e.v3GetPinQuery.data:null},useGetLegacyResource:function(e){var t=e.pinId;return(0,b.Z)({name:"ApiResource",options:{url:"/v3/pins/".concat(t,"/"),field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0})}}),a=(0,d.Z)(_,i);return a&&a.pinnedToBoard&&"quick_creates"!==a.pinnedToBoard.layout?(0,g.jsxs)(s.xu,{children:[(0,g.jsx)(s.xu,{color:"errorBase","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:(0,g.jsx)(s.xv,{align:"center",color:"inverse",size:"200",weight:"bold",children:(0,m.nk)(n._('Psst! You already saved this Pin to {{ board_name }} ', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:(a.pinnedToBoard||{}).name}).join(" ")})}),(0,g.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,g.jsx)(s.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:26})})]}):null}var j=n(540554),x=["pinKey","shuffleAssetKey"];function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R(r.key),r)}}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return(t=R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==w(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}var D=void 0!==a?a:a=n(109500),B=void 0!==l?l:l=n(505406),F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=T(i);if(t){var r=T(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return E(e)}(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var e,t,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return C(E(t=o.call.apply(o,[this].concat(r))),"state",{flyoutCursorIndex:-1,description:(null===(e=t.props.pin)||void 0===e?void 0:e.description)&&t.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),C(E(t),"updateDescription",function(e){t.props.updateDescription&&t.props.updateDescription(e)}),C(E(t),"handleDescriptionBlur",function(e){var n=e.target.value.trim(),r=t.state.isHashtagFlyoutOpen;t.updateDescription(n),t.setState({description:n,editing:r})}),C(E(t),"handleDescriptionEdit",function(){t.setState({editing:!0})}),C(E(t),"handleHashtagAddition",function(e){var n=t.props.pin;t.props.logContextEvent({event_type:101,component:208,element:10249,object_id_str:null==n?void 0:n.entityId,aux_data:{hashtags:e}});var r=t.state.flyoutCursorIndex,o=Number(r+t.state.hashtagQuery.length),i=t.state.description.slice(0,r)+e+" "+t.state.description.slice(o);t.updateDescription(i),t.setState({description:i,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),t}return n=[{key:"render",value:function(){var e,t,n,r,o=this.props,i=o.color,a=o.isFirstPin,l=o.pin,c=o.pinImageRef,u=o.shuffleAsset,d=this.state,p=d.editing,y=d.flyoutOpened,h=d.hashtagQuery,m=d.isHashtagFlyoutOpen,b=null!==(e=null==u?void 0:u.cutoutImages)&&void 0!==e?e:null==l?void 0:l.imageSpec_236x,v=(null==b?void 0:b.url)||(null==l?void 0:l.imageBase64)||(null===(t=this.props.urlPinInfo)||void 0===t?void 0:t.imageUrl),_=this.state.description||(null===(n=this.props.urlPinInfo)||void 0===n?void 0:n.description)||"",P=(null==l?void 0:l.link)||(null===(r=this.props.urlPinInfo)||void 0===r?void 0:r.link);return(0,g.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:y&&p?{transform:"translateY(-75px)"}:{}},display:"flex",justifyContent:"center",position:"relative",width:a?"50%":"",children:[(0,g.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(null==l?void 0:l.entityId)&&!u&&(0,g.jsx)(S,{pinKey:l}),(0,g.jsx)(s.xu,{paddingY:a?9:0,width:240,children:(0,g.jsx)(s.xu,{ref:c,maxHeight:y&&p?220:335,overflow:"hidden",rounding:4,children:v?(0,g.jsx)(s.Ee,{alt:_,naturalHeight:(null==b?void 0:b.height)||1,naturalWidth:(null==b?void 0:b.width)||1,src:v}):!!P&&(0,g.jsx)(f.Z,{color:i||"",description:_,url:P})})})]}),this.anchor&&m?(0,g.jsx)(j.Z,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,query:h}):null]})}}],A(i.prototype,n),r&&A(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(c.Component);function Z(e){var t=e.pinKey,n=e.shuffleAssetKey,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,x),o=(0,u.v)().logContextEvent,i=(0,d.Z)(D,t),a=(0,d.Z)(B,n);return(0,g.jsx)(F,I(I({},r),{},{logContextEvent:o,pin:i,shuffleAsset:a}))}},894711:function(e,t,n){"use strict";n.d(t,{K:function(){return Y}});var r,o,i=n(672652),a=n(780277);n(42279);var l=n(328038),c=n(684404),s=n(216167),u=n(798580),d=n(214877),f=n(622888),p=n(25919),y=n(190971),h=n(454514),m=n(207012),b=n(901855),g=n(140017),v=n(339001),_=n(456299),P=n(227258),S=n(13848),j=n(498301),x=n(149722),w=n(164212),O=n(692440),I=n(180338),A=n(821419),k=n(409403),E=n(386129);n(481177);var T=n(873955),C=n(819267),R=function(e,t,n){var r;return n?(0,T.Z)(e._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:null!==(r=n.title)&&void 0!==r?r:"",boardName:null!=t?t:""}):(0,C.jsx)(c.xv,{children:(0,v.nk)(e._('Saved to {{ boardName }}', 'Libs.PinToBoard.NewBoardToast', 'boardName:Name of the new board created to add the saved pin'),{boardName:(0,C.jsx)(c.xv,{weight:"bold",children:t})})})},D=n(691010),B=["pinKey","shuffleAssetKey"];function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){U(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return(t=H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==F(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===F(t)?t:String(t)}var G=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,W=void 0!==r?r:r=n(450634),V=void 0!==o?o:o=n(882455),q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=K(i);if(t){var r=K(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return M(e)}(this,e)});function i(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var e,t,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return U(M(t=o.call.apply(o,[this].concat(r))),"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:t.getModalTitle(t.props.showCreate,!!t.props.boardWithSection),pinDescription:t.props.pin&&t.props.pin.description||(null===(e=t.props.urlPinInfo)||void 0===e?void 0:e.description)||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),U(M(t),"unmounted",!1),U(M(t),"setModalTitle",function(e){return t.safeSetState({modalTitle:e})}),U(M(t),"updateDescription",function(e){t.safeSetState({pinDescription:e})}),U(M(t),"close",function(){var e=t.props.onClose;e&&e(),t.props.logContextEvent({event_type:2502,component:5,element:610})}),U(M(t),"safeSetState",function(e,n){t.unmounted?n&&n():t.setState(e,n)}),U(M(t),"getPinResource",function(e,n,r){var o,i,a,l,c,d,f,p=t.props,y=p.color,h=p.location,m=p.pin,b=p.method,g=p.guid,v=p.additionalCreateFields,P=p.advertiser_id,S=p.previousHistory,x=p.urlPinInfo,w=p.shuffleAsset;null!=m&&m.entityId&&(c=(0,u.Z)({boardUrl:null===(d=m.board)||void 0===d?void 0:d.url,location:h,pinId:m.entityId,pinnerUserName:null===(f=m.pinner)||void 0===f?void 0:f.username,previousHistory:S,storyPinDataId:m.storyPinDataId,trackingParams:m.trackingParams,trackingParamsMap:(0,_.Z)(m)})||"".concat(m.trackingParams||"","~0"));var O=null!=m&&m.entityId?"RepinResource":"PinResource",I=(null==m?void 0:m.imageUrl)||(null==x?void 0:x.imageUrl),A=(null==m?void 0:m.link)||(null==x?void 0:x.link),k=!(null!=m&&m.entityId)&&I?(0,j.Z)(I,A):(null==m?void 0:null===(o=m.imageSpec_orig)||void 0===o?void 0:o.url)||"",E=z(z(z({},v),{},{board_id:n||"",color:y||"",clientTrackingParams:c,description:t.state.pinDescription,guid:g||"",link:A,image_base64:null!==(i=null==m?void 0:m.imageBase64)&&void 0!==i?i:void 0,image_url:k,is_buyable_pin:!1,is_removable:null!==(a=null==m?void 0:m.promotedIsRemovable)&&void 0!==a?a:void 0,media_upload_id:null!==(l=null==m?void 0:m.mediaUploadId)&&void 0!==l?l:void 0,method:b||"",pin_id:(null==m?void 0:m.entityId)||"",section:r,title:(null==m?void 0:m.title)||""},P?{advertiser_id:P}:Object.freeze({})),w?{shuffle_asset:w.entityId}:{});if(!e){var T=t.state.sharing,C=T.facebook,R=T.twitter;E.share_facebook=C,E.share_twitter=R}return s.Z.create(O,E)}),U(M(t),"triggerPubSubs",function(e){t.props.onPinCreate&&t.props.onPinCreate({boardId:e.board.id,pinId:e.id})}),U(M(t),"makeCancelablePromise",function(e){var t=!1;return{promise:new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)}),e.catch(function(e){return t?r({isCanceled:!0}):r(e)})}),cancel:function(){t=!0}}}),U(M(t),"handleLogToastClick",function(){t.props.logContextEvent({event_type:101,component:20,view_type:52})}),U(M(t),"showSuggestedBoardToast",function(e){var n=t.props,r=n.toastManagerContext;if(n.shouldShowToast&&e){var o=e.name,i=e.url,a=e.image_thumbnail_url;r.showOneToast(function(e){var n=e.hideToast;return(0,C.jsx)(h.ZP,{duration:D.A,href:i,imageUrl:a,onClick:t.handleLogToastClick,onHide:n,text:(0,C.jsx)(c.xv,{children:(0,v.nk)(t.props.i18n._('You might also like {{ suggestion }}', 'PinSaveRequest.Toast.Suggestion', 'Post repin suggested board. suggestion: suggested board name'),{suggestion:(0,C.jsx)(c.xv,{weight:"bold",children:o})})})})})}}),U(M(t),"showBoardSavedToast",function(e,n){var r=t.props,o=r.toastManagerContext,i=r.i18n;o.showToast(function(r){var o,a,l,c=r.hideToast;return(0,C.jsx)(h.ZP,{duration:D.A,href:n?"".concat(null!==(o=e.url)&&void 0!==o?o:"").concat(null!==(a=n.slug)&&void 0!==a?a:""):e.url,imageUrl:null!==(l=e.image_cover_url)&&void 0!==l?l:"",onClick:t.handleLogToastClick,onHide:c,text:R(i,e.name,n)})})}),U(M(t),"dismissModal",function(){var e=t.state,n=e.resolve,r=e.newPin;n&&n(r)}),U(M(t),"fetchBoardRecommendation",function(e){return s.Z.create("RelatedBoardForPinRandomFeedResource",{pin:e.id,page_size:1}).callGet({showError:!1}).then(function(e){return Promise.resolve(e.resource_response.error?null:e.resource_response.data[0])})}),U(M(t),"handleBoardSaveSuccess",function(e,n,r,o){var i,a,l,c=t.props,s=c.action,u=c.saveToBoard,d=c.dispatch,f=c.pin,y=c.setCompletionPromise,h=c.shouldShowToast,m=c.showRepinAnimation,b=c.viewerUserId,g=c.urlPinInfo;d((0,p.fO)());var v=e.resource_response.data,_=t.makeCancelablePromise(new Promise(function(e){t.triggerPubSubs(v);var i,a=t.state.pinDescription.match(G)||[];a.length>0&&t.props.logContextEvent({event_type:2,element:10273,object_id_str:null===(i=t.props.pin)||void 0===i?void 0:i.entityId,aux_data:{hashtags:JSON.stringify(a)}}),"repin"===s&&t.fetchBoardRecommendation(v).then(function(e){t.showSuggestedBoardToast(e)}),o?(h&&t.showBoardSavedToast(n,r),t.safeSetState({displaySuccessAnimation:!0,modalTitle:t.props.i18n._('Board created', 'Modal title after creating a new board', 'Modal title after creating a new board'),newPin:v,resolve:e})):e(v)}));!o&&null!=f&&f.entityId&&m(f.entityId),y(_),u(n),d((0,A.Br)({boardId:n.id,sectionId:r&&r.id,increment:1})),b&&(d((0,E.JS)({userId:b,increment:1})),d((0,p.fO)())),(r||!n.image_cover_url)&&(n.image_cover_url=(null==f?void 0:f.imageUrl)||(null==g?void 0:g.imageUrl)||(null==f?void 0:null===(i=f.imageSpec_236x)||void 0===i?void 0:i.url)||"",d((0,A.yT)(n))),r&&d((0,P.U)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:r.id}})),null!=f&&f.entityId&&d((0,k.Ur)({id:f.entityId,nodeId:f.__id,boardId:n.id,title:null!==(a=n.name)&&void 0!==a?a:"",url:null!==(l=n.url)&&void 0!==l?l:"",localPinId:v.id}))}),U(M(t),"handleSaveToBoard",function(e,n,r){var o=t.props,i=o.onToggleModal,a=o.shouldShowToast,l=o.mountAfterActionPlacement;a&&!r&&(t.close(),t.showBoardSavedToast(e,n));var c="secret"===(e.privacy||""),s={board:n?n.id:e.id,state:D.S.LOADING};t.safeSetState({boardSavedTo:s},function(){t.getPinResource(c,e.id,(n||{}).id).callCreate({showError:!1}).then(function(o){var a,c;l("Save",{pin_id:null===(a=t.props.pin)||void 0===a?void 0:a.entityId,is_promoted:null===(c=t.props.pin)||void 0===c?void 0:c.isPromoted}),t.safeSetState({boardSavedTo:Object.assign(s,{state:D.S.SUCCESS})},function(){return t.handleBoardSaveSuccess(o,e,n,r)}),i&&!r&&i(!1)}).catch(function(e){t.unmounted||t.safeSetState({boardSavedTo:null}),f.Z.showError(e.message_detail||e.message);var n=t.makeCancelablePromise(Promise.reject(e));t.props.setCompletionPromise(n),i&&i(!1)})})}),U(M(t),"handleNewBoardAnimationCompletion",function(){var e=t.props,n=e.pin,r=e.showRepinAnimation;null!=n&&n.entityId&&r(n.entityId)}),t}return n=[{key:"getModalTitle",value:function(e,t){return e?t?this.props.i18n._('Create section', 'modal title for create section pane', 'modal title for create section pane'):this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):t?this.props.i18n._('Choose section', 'modal title for choose section', 'modal title for choose section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board')}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.boardWithSection,r=t.showCreate,o=t.pin,i=t.urlPinInfo,a=t.description,l={};(o!==e.pin||i!==e.urlPinInfo||a!==e.description)&&(l.pinDescription=(null==o?void 0:o.description)||(null==i?void 0:i.description)||a||""),(r!==e.showCreate||n!==e.boardWithSection)&&(l.modalTitle=this.getModalTitle(r,!!n)),Object.keys(l).length>0&&this.safeSetState(l)}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=this.close,t=this.dismissModal,n=this.handleNewBoardAnimationCompletion,r=this.handleSaveToBoard,o=this.setModalTitle,i=this.updateDescription,a=this.state,l=a.boardSavedTo,c=a.displaySuccessAnimation,s=a.modalTitle,u=a.newPin,d=this.props.color;return this.props.children({boardSavedTo:l,color:d,dismissModal:t,displaySuccessAnimation:c,handleAbort:e,handleNewBoardAnimationCompletion:n,handleSaveToBoard:r,modalTitle:s,newPin:u,setModalTitle:o,updateDescription:i})}}],L(i.prototype,n),r&&L(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(i.Component);function Y(e){var t,n=e.pinKey,r=e.shuffleAssetKey,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,B),i=(0,O.N)().saveToBoard,c=(0,d.v)().logContextEvent,s=null===(t=(0,I.W)())||void 0===t?void 0:t.onPinCreate,u=(0,g.ZP)(),f=(0,l.TH)(),p=(0,x.Z)(),h=(0,S.F9)(),v=(0,a.useDispatch)(),_=(0,w.J)().updateHeaderState,P=(0,a.useSelector)(function(e){var t=e.advertiser;return p.isAuth&&t&&t.owner_user_id!==p.id?t.id:void 0}),j=(0,b.Hv)().previous,A=(0,y.c)(),k=(0,m.Z)(W,n),E=(0,m.Z)(V,r);return(0,C.jsx)(q,z(z({},o),{},{advertiser_id:P,dispatch:v,i18n:u,location:f,logContextEvent:c,mountAfterActionPlacement:A,onPinCreate:s,pin:k,previousHistory:j,saveToBoard:i,showRepinAnimation:function(e){return _({type:"showRepinAnimation",payload:e})},shuffleAsset:E,toastManagerContext:h,viewerUserId:p.isAuth?p.id:void 0}))}},898924:function(e,t,n){"use strict";n.d(t,{ZP:function(){return eJ}});var r,o,i,a,l=n(672652);n(42279);var c=n(684404),s=n(930837),u=n(207012),d=n(140017),f=n(149722),p=n(373395),y=n(88988),h=n(780277),m=n(587703),b=n(5859),g=n(402287),v=n(819267);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t=e.board,n=e.completeCreateSectionAction,r=e.height,o=e.onClose,i=e.pinImport,a=e.url,u=e.width,f=(0,d.ZP)(),p=(0,b.B)().isRTL,y=(0,m.Z)(),P=(0,h.useDispatch)(),S=_((0,l.useState)(""),2),j=S[0],x=S[1],w=_((0,l.useState)(!1),2),O=w[0],I=w[1],A=_((0,l.useState)(null),2),k=A[0],E=A[1];return(0,v.jsx)(s.ZP,{accessibilityModalLabel:f._('Repin modal', 'save.pinToBoard.modal.label', 'Accessibility label on modal'),footer:(0,v.jsx)(c.kC,{children:(0,v.jsx)(c.xu,{marginStart:"auto",children:(0,v.jsx)(c.zx,{color:"red",disabled:O||!j.trim()||!!k,fullWidth:!0,onClick:function(){t&&(I(!0),P((0,g.vB)({boardId:t.id,name:j.trim(),pinImport:i},f,void 0,y)).then(function(e){n(t,e,!1)}).catch(function(e){E(e.message_detail||e.message)}).finally(function(){I(!1)}))},size:"lg",text:f._('Add', 'sectionCreateModal.add.button', 'add a new section')})})}),heading:(0,v.jsx)(c.xu,{paddingY:8,children:(0,v.jsxs)(c.kC,{justifyContent:"center",children:[(0,v.jsx)(c.xu,{maxWidth:400,children:(0,v.jsx)(c.X6,{align:"center",size:"500",children:f._('Add section', 'sectionCreateModal.title', 'Title in the add section modal')})}),(0,v.jsx)(c.xu,{left:p,padding:8,position:"absolute",right:!p,top:!0,children:(0,v.jsx)(c.hU,{accessibilityLabel:f._('Close', 'sectionCreateModal.closeButton', 'close section create modal button'),icon:"cancel",iconColor:"darkGray",onClick:o,size:"md"})})]})}),onDismiss:o,size:"sm",children:(0,v.jsx)(c.xu,{padding:8,children:(0,v.jsxs)(c.kC,{children:[(0,v.jsx)(c.zd,{height:r,rounding:4,width:u,children:(0,v.jsx)(c.Ee,{alt:"",fit:"cover",naturalHeight:null!=r?r:1,naturalWidth:null!=u?u:1,src:a||""})}),(0,v.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{width:u?"calc(100% - ".concat(u,"px)"):"100%"}},marginStart:8,children:(0,v.jsx)(c.nv,{errorMessage:k,id:"sectionEditName",label:f._('Name', 'section.create.label', 'label text for section input'),onChange:function(e){x(e.value),E(null)},placeholder:f._('Like "Lighting"', 'sectionCreateModal.boardSection.name', 'Placeholder for board section name'),size:"lg",type:"text",value:j})})]})})})},j=n(214877),x=n(827625),w=n(757640),O=n(416049),I=n(554786),A=n(175597),k=n(673463),E=["pinKey"];function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===T(t)?t:String(t)}var N=void 0!==r?r:r=n(569483),M=void 0,K=function(e){var t=[],n=[];return e.forEach(function(e){var r;null!==(r=e.name)&&void 0!==r&&r.match(/^\d/)?n.push(e):t.push(e)}),[].concat(t,n)};function U(e,t,n,r){return Z(Z(Z(Z({},e?{pin_id:e}:Object.freeze({})),t?{username:t}:Object.freeze({})),n?{advertiser_id:n,filter:"protected"}:Object.freeze({})),{},{field_set_key:"board_picker",limit:M,shortlist_suggestions:2,isDesktop:r})}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(o,e);var t,n,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=B(o);if(t){var r=B(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return D(e)}(this,e)});function o(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return z(D(e=r.call.apply(r,[this].concat(n))),"getSections",function(t){var n=e.props.boardResource.data;if(!n)return[];var r=n.all_boards,o=n.boards_shortlist,i=K(r);return i.length<=3?[{items:i}]:t.length>=O.Z?[{items:(0,k.j)(i,t)}]:[o.length?{items:o,title:e.props.i18n._('Top choices', ' - ', ' -- ')}:{items:[]},{items:i,title:e.props.i18n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')}]}),e}return C(o.prototype,[{key:"render",value:function(){var e=this.props,t=e.boardResource,n=t.data,r=t.error,o=t.isLoaded,i=e.boardSavedTo,a=e.isSelectMode,l=e.onBoardCreate,c=e.onBoardSelected,s=e.pin,u=o&&!!n&&n.all_boards.length<=3;return(0,v.jsx)(A.Z,{boardSavedTo:i,getSections:this.getSections,hasLoadError:!!r,hasLowBoardCount:u,isLoaded:o,isSelectMode:a,onCreate:l,onSelected:c,pinId:null==s?void 0:s.entityId})}}]),n&&C(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.Component);function G(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,E),r=(0,d.ZP)(),o=(0,f.Z)(),i=(0,I.HG)(),a=(0,u.Z)(N,t),l=(0,h.useSelector)(function(e){var t=e.advertiser;if(o.isAuth&&t&&t.owner_user_id!==o.id)return t.id}),c=(0,h.useSelector)(function(e){var t=e.advertiser;if(o.isAuth&&t&&t.owner_user_id!==o.id)return t.owner_user_id}),s=(0,w.Z)({name:"BoardPickerBoardsResource",options:U(null==a?void 0:a.entityId,c,l,i)});return(0,v.jsx)(H,Z(Z({},n),{},{boardResource:s,i18n:r,pin:a}))}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){J(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ee(r.key),r)}}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,n){return(t=ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==W(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===W(t)?t:String(t)}var et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=$(i);if(t){var r=$(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return X(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return J(X(e=o.call.apply(o,[this].concat(n))),"getSections",function(t){var n=e.props,r=n.board,o=n.i18n,i=n.sectionsResource.data,a=o._('Board', 'PinSaveButton.RepinPicker.SectionListBoardTitle', 'board title on section picker'),l=o._('Section', 'PinSaveButton.BoardFlyout.SectionListSectionTitle', 'section title on section picker');return t.length>=O.Z?[{items:(0,k.j)([r],t),customProps:{inSectionSelection:!0}},{items:(0,k.j)(null!=i?i:[],t,"title")}]:[{items:[r],customProps:{inSectionSelection:!0},title:a},{items:null!=i?i:[],title:l}]}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.sectionsResource,n=t.error,r=t.isLoaded,o=e.boardSavedTo,i=e.isSelectMode,a=e.onSectionCreate,l=e.onSectionSelected,c=e.pinId;return(0,v.jsx)(A.Z,{boardSavedTo:o,createButtonLabel:this.props.i18n._('Add section', 'Button for creating a board section', 'Button for creating a board section'),getSections:this.getSections,hasLoadError:!!n,isLoaded:r,isSelectMode:i,onCreate:a,onSelected:l,pinId:c})}}],Y(i.prototype,n),r&&Y(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.Component);function en(e){var t=(0,d.ZP)(),n=(0,w.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,v.jsx)(et,q(q({},e),{},{i18n:t,sectionsResource:n}))}var er=n(481177),eo=n(137023),ei=n(675266),ea=n(205841),el=n(873955);function ec(e){var t=(0,d.ZP)(),n=e.body,r=e.img,o=e.onClick,i=e.selected,a=e.title,l=e.username,s=e.valid;return(0,v.jsx)(c.xu,{marginBottom:4,children:(0,v.jsx)(c.iP,{onTap:o,children:(0,v.jsxs)(c.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[r,(0,v.jsxs)(c.xu,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,v.jsx)(c.xu,{marginBottom:1,children:(0,v.jsx)(c.xv,{lineClamp:1,weight:"bold",children:a})}),(0,v.jsx)(c.xv,{lineClamp:1,size:"100",children:l||n})]}),(0,v.jsx)(c.xu,{marginStart:2,children:l?i?(0,v.jsx)(c.JO,{accessibilityLabel:t._('Confirmation an invite will be sent', 'Alt tags on a check box on the board create flow for board invites', 'Alt tags on a check box on the board create flow for board invites'),color:"error",icon:"check-circle",size:32}):(0,v.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,v.jsx)(c.zx,{color:"gray",disabled:!!i||!s,size:"sm",text:i?t._('Sent', 'Sent a board collaborator invite', 'Sent a board collaborator invite'):t._('Invite', 'Add board collaborator invite', 'Add board collaborator invite')})})]})})})}var es=n(823813);function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(n),!0).forEach(function(t){eb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ed(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ep(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eg(r.key),r)}}function ey(e,t){return(ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eh(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function em(e){return(em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eb(e,t,n){return(t=eg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eg(e){var t=function(e,t){if("object"!==eu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eu(t)?t:String(t)}function ev(e,t,n){var r=e.id;return t===n.findIndex(function(e){return e.id===r})}var e_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=em(i);if(t){var r=em(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===eu(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eh(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eb(eh(e=o.call.apply(o,[this].concat(n))),"state",{selectedCollaborators:e.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),eb(eh(e),"isIdSelected",{}),eb(eh(e),"handleTextFieldChange",function(t){var n=t.value;e.setState({value:n})}),eb(eh(e),"handleCollaboratorClick",function(t){var n=t.id,r=t.type;e.isIdSelected[n]=!e.isIdSelected[n];var o=e.props,i=o.inviteUsers,a=o.inviteEmails,l=e.state.selectedCollaborators.concat([t]);e.props.onSelectedCollaboratorsChange({id:n,resource:"email"===r?a:i}),e.setState({selectedCollaborators:l})}),eb(eh(e),"handleTypeaheadSuggestionsChange",function(t){e.setState({typeaheadSuggestions:t})}),e}return n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.inviteUsers,r=t.inviteEmails;this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(function(t){var o=t.id,i=t.type;return e.isIdSelected[o]=!e.isIdSelected[o],e.props.onSelectedCollaboratorsChange({id:o,resource:"email"===i?r:n}),null})}},{key:"render",value:function(){var e=this,t=this.state.value,n=this.props.shareSuggestionsResource.data||[],r=(""===t?this.state.selectedCollaborators.concat(n).filter(ev):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:t,valid:(0,ei.Z)(t)}).concat(n).filter(ev)).map(function(t){return function(e,t,n,r){if("user_share_suggestion"===e.type||"user"===e.type){var o=(0,v.jsx)(ea.qE,{accessibilityLabel:"",name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,v.jsx)(ec,{img:o,onClick:function(){return n(e)},selected:t,title:e.full_name,username:e.username})}if("email"===e.type){var i,a,l=e.id,s=e.valid,u=(0,v.jsx)(c.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,v.jsx)(c.JO,{accessibilityLabel:r._('Email icon', 'Email icon on board create modal', 'Email icon on board create modal'),color:"default",icon:"envelope",size:20})}),d=(0,el.Z)(r._('Email {{ email }}', ' - ', ' -- '),{email:l});return t?(i=r._('Done!', 'Text that lets the user know we sent the board invite email', 'Text that lets the user know we sent the board invite email'),a=function(){}):(i=s?r._('Click to send!', 'Text that lets the user know they can successfully send a board invite email', 'Text that lets the user know they can successfully send a board invite email'):r._('Keep typing!', 'Text that lets a user know the email they are typing is not valid yet', 'Text that lets a user know the email they are typing is not valid yet'),a=function(){return s?n(e):void 0}),(0,v.jsx)(ec,{body:i,img:u,onClick:a,selected:t,title:d,valid:s})}}(t,e.isIdSelected[t.id],e.handleCollaboratorClick,e.props.i18n)}).map(function(e,t){return(0,v.jsx)("li",{children:e},t)});return(0,v.jsxs)(c.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,v.jsx)(c.xu,{paddingX:3,paddingY:2,children:(0,v.jsx)(c.xv,{size:"100",children:this.props.i18n._('Add collaborators (optional)', 'Optional field to add collaborators to a board on board create', 'Optional field to add collaborators to a board on board create')})}),(0,v.jsx)(c.xu,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,v.jsx)(c.xu,{flex:"grow",children:(0,v.jsx)(eo.Z,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:t,children:(0,v.jsx)(c.Um,{accessibilityLabel:this.props.i18n._('Search for collaborators by name or email', ' - ', ' -- '),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n._('Search by name or email', ' - ', ' -- '),size:"lg",value:t})})})}),(0,v.jsx)(c.xu,{overflow:"scrollY",paddingX:3,children:(0,v.jsx)("ul",{children:r})})]})}}],ep(i.prototype,n),r&&ep(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.Component);function eP(e){var t=(0,d.ZP)(),n=(0,w.Z)({name:"ShareSuggestionsResource",noCache:!0}),r=(0,es.zC)(),o=(0,es.DK)();return(0,v.jsx)(e_,ef(ef({},e),{},{i18n:t,inviteEmails:r,inviteUsers:o,shareSuggestionsResource:n}))}var eS=n(317985),ej=n(316796);function ex(e){var t=e.onCancel,n=e.onCreate,r=e.onInvite,o=e.prefilledName,i=e.preselectedCollaborators,a=e.showTitle,s=(0,d.ZP)(),u=(0,b.B)().isRTL,f=(0,ej.Z)({onCreate:n,prefilledName:o}),p=f.handleCreate,y=f.handleChangeName,h=f.handleChangePrivacy,m=f.isAdAccountOwner,g=f.state,_=g.createBoardError,P=g.inputName,S=g.nameValidatorErrors,j=g.privacy,x=g.saving,w=0===S.length,O=j===er.Z.BoardPrivacy.SECRET;return(0,v.jsx)(c.xu,{color:"default",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,v.jsx)("form",{onSubmit:function(e){e.preventDefault(),p()},style:{height:"100%"},children:(0,v.jsxs)(c.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[a&&(0,v.jsx)(c.xu,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,v.jsx)(c.X6,{size:"400",children:s._('Create board', ' - ', ' -- ')})}),(0,v.jsxs)(c.xu,{padding:3,children:[(0,v.jsx)(c.xu,{marginBottom:2,children:(0,v.jsx)(c.__,{htmlFor:"boardEditName",children:(0,v.jsx)(c.xv,{size:"100",children:s._('Name', ' - ', ' -- ')})})}),(0,v.jsx)(c.xu,{children:(0,v.jsx)(c.nv,{errorMessage:S.join(", "),id:"boardEditName",name:"boardName",onChange:function(e){return y(e.value)},placeholder:s._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:P})})]}),m&&(0,v.jsxs)(l.Fragment,{children:[(0,v.jsxs)(c.xu,{padding:3,children:[(0,v.jsx)(c.xu,{marginBottom:2,children:(0,v.jsx)(c.__,{htmlFor:"secret",children:(0,v.jsx)(c.xv,{size:"100",children:s._('Secret', 'secret board', 'secret board')})})}),(0,v.jsx)(c.xu,{children:(0,v.jsx)(c.rs,{id:"secret",onChange:h,switched:O})})]}),(0,v.jsx)(c.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,v.jsx)(c.xu,{width:"100%",children:(0,v.jsx)(eP,{onSelectedCollaboratorsChange:r,preselectedCollaborators:i})})})]}),!m&&(0,v.jsx)(l.Fragment,{children:(0,v.jsxs)(c.xu,{padding:3,children:[(0,v.jsx)(c.xu,{marginBottom:2,children:(0,v.jsx)(c.__,{htmlFor:"protected",children:(0,v.jsx)(c.xv,{size:"100",children:s._('Protected board (not listed on user\'s profile)', 'protected board', 'protected board')})})}),(0,v.jsx)(c.xu,{children:(0,v.jsx)(c.rs,{disabled:!0,id:"protected",onChange:function(){},switched:!0})})]})}),(0,v.jsxs)(c.xu,{borderStyle:"shadow",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},display:"flex",justifyContent:"between",left:u,paddingX:4,paddingY:2,position:"absolute",right:!u,width:720,children:[(0,v.jsx)(c.kC,{children:(0,v.jsx)(c.zx,{onClick:t,text:s._('Cancel', 'cancel board create', 'cancel board create')})}),(0,v.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"end",children:[!!_&&(0,v.jsx)(c.xu,{paddingX:2,children:(0,v.jsx)(c.xv,{align:"center",color:"error",size:"200",weight:"bold",children:_})}),(0,v.jsx)(eS.Z,{disabled:!P.trim()||!w||!!_||x,submitting:x,text:s._('Create', 'create a new board', 'create a new board')})]})]})]})})})}var ew=n(916964),eO=["pinKey"];function eI(e){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(t){eD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eB(r.key),r)}}function eT(e,t){return(eT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eC(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eR(e){return(eR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eD(e,t,n){return(t=eB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eB(e){var t=function(e,t){if("object"!==eI(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eI(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eI(t)?t:String(t)}var eF=void 0!==o?o:o=n(580986),eZ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eT(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eR(i);if(t){var r=eR(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===eI(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eC(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eD(eC(e=o.call.apply(o,[this].concat(n))),"state",{inviteQueue:{},newName:"",selectedSectionBoard:e.props.boardWithSection||null,showCreate:e.props.showCreate||!1}),eD(eC(e),"close",function(){var t=e.state,n=t.selectedSectionBoard,r=t.showCreate,o=e.props.onClose;r&&n?e.setState({showCreate:!1},e.manageModalTitle):n?e.setState({selectedSectionBoard:null},e.manageModalTitle):o()}),eD(eC(e),"sendInvites",function(t){var n=e.state.inviteQueue;Object.keys(n).forEach(function(e){var r;n[e].resource(null!==(r=t.id)&&void 0!==r?r:"",[e])})}),eD(eC(e),"handleInvite",function(t){var n=e.state.inviteQueue;if(n[t.id]){var r=ek({},n);delete r[t.id],e.setState({inviteQueue:r})}else{var o=ek(ek({},n),{},eD({},t.id,t));e.setState({inviteQueue:o})}}),eD(eC(e),"handleBoardCreate",function(t){var n=e.props.onBoardCreated;e.handleBoardSave(t,!0),n&&n(t)}),eD(eC(e),"handleBoardSave",function(t,n){var r=e.state.selectedSectionBoard,o=e.props,i=o.onBoardSave,a=o.invalidatePinBetterSaveResource,l=o.invalidateResource,c="board_section"===t.type;if(l(),a(),r&&("boardsection"===t.type||c))return i(r,t,n);var s=t.section_count,u=void 0===s?0:s;!r&&"number"==typeof u&&u>0?e.setState({selectedSectionBoard:t},e.manageModalTitle):(e.sendInvites(t),i(t,void 0,n))}),eD(eC(e),"handleCreate",function(t){return function(n){n=n||"",e.setState({newName:n,showCreate:!0},e.manageModalTitle),e.props.logContextEvent({event_type:101,component:t?13105:13025,element:t?10306:249})}}),eD(eC(e),"manageModalTitle",function(){var t=e.props.setModalTitle,n=e.state,r=n.selectedSectionBoard,o=n.showCreate;t&&t(o&&r?e.props.i18n._('Add section', 'Repin title for making a board section', 'Repin title for making a board section'):o&&!r?e.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):r&&!o?e.props.i18n._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'):e.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board'))}),e}return n=[{key:"render",value:function(){var e=this.props,t=e.boardSavedTo,n=e.isRepin,r=e.isSelectMode,o=e.pin,i=e.preselectedCollaborators,a=e.setModalTitle,l=e.suggestedBoardTitle,s=this.state,u=s.newName,d=s.selectedSectionBoard,f=s.showCreate,p=!!d,y=!a;return(0,v.jsxs)(c.xu,{display:"flex",position:"relative",width:"100%",children:[!f&&(0,v.jsx)(c.xu,{direction:"column",display:"flex",marginTop:4,width:"100%",children:d?(0,v.jsx)(en,{board:d,boardSavedTo:t,isSelectMode:r,onSectionCreate:this.handleCreate(p),onSectionSelected:this.handleBoardSave}):(0,v.jsx)(G,{boardSavedTo:t,isSelectMode:r,onBoardCreate:this.handleCreate(p),onBoardSelected:this.handleBoardSave,pinKey:o})}),f&&!d&&(0,v.jsx)(ex,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,prefilledName:u||l,preselectedCollaborators:i,showTitle:y}),f&&d&&(0,v.jsx)(ew.Z,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:u,isRepin:n,onClearModal:this.close,showTitle:y})]})}}],eE(i.prototype,n),r&&eE(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.Component);function ez(e){var t=e.pinKey,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,eO),r=(0,j.v)().logContextEvent,o=(0,d.ZP)(),i=(0,u.Z)(eF,t),a=(0,h.useDispatch)();return(0,v.jsx)(eZ,ek(ek({},n),{},{i18n:o,invalidatePinBetterSaveResource:function(){a((0,x.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},invalidateResource:function(){a((0,x.jB)("BoardPickerBoardsResource",U(null==i?void 0:i.entityId)))},logContextEvent:r,pin:i}))}var eL=n(662058),eN=["pinKey","shuffleAssetKey"];function eM(e){return(eM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eK(Object(n),!0).forEach(function(t){eq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eY(r.key),r)}}function eG(e,t){return(eG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eW(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eV(e){return(eV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eq(e,t,n){return(t=eY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eY(e){var t=function(e,t){if("object"!==eM(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eM(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eM(t)?t:String(t)}var eQ=void 0!==i?i:i=n(738258),eX=void 0!==a?a:a=n(945950),e$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eG(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eV(i);if(t){var r=eV(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===eM(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eW(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return eq(eW(e=o.call.apply(o,[this].concat(n))),"pinImageRef",(0,l.createRef)()),eq(eW(e),"handleSavePinToBoard",function(t,n,r){(0,e.props.handleSaveToBoard)(t,n,r)}),eq(eW(e),"close",function(){(0,e.props.handleAbort)()}),eq(eW(e),"dismissModal",function(){var t=e.props.dismissModal;t&&t()}),e}return n=[{key:"render",value:function(){var e,t,n,r,o,i,a,u=this,d=this.props,f=d.boardSavedTo,h=d.boardWithSection,m=d.color,b=d.displaySuccessAnimation,g=d.handleNewBoardAnimationCompletion,_=d.isInModal,P=d.newPin,j=d.pin,x=d.preselectedCollaborators,w=d.onBoardCreated,O=d.sensitiveContentNotice,I=d.setModalTitle,A=d.showCreate,k=d.shouldRenderContent,E=d.suggestedBoardTitle,T=d.updateDescription,C=d.urlPinInfo,R=d.shuffleAsset,D=(null==C?void 0:C.description)||(null==C?void 0:C.link)||(null==C?void 0:C.imageUrl);if(!j&&!D||!k)return null;if(A&&h)return(0,v.jsx)(S,{board:h,completeCreateSectionAction:this.handleSavePinToBoard,height:null!==(e=null==j?void 0:null===(t=j.imageSpec_236x)||void 0===t?void 0:t.height)&&void 0!==e?e:0,onClose:this.close,url:null!==(n=null!==(r=null==j?void 0:null===(o=j.imageSpec_236x)||void 0===o?void 0:o.url)&&void 0!==r?r:null==C?void 0:C.imageUrl)&&void 0!==n?n:"",width:null!==(i=null==j?void 0:null===(a=j.imageSpec_236x)||void 0===a?void 0:a.width)&&void 0!==i?i:0});var B=null;P&&P.board&&(B=P.board.name);var F=O&&O.title||this.props.modalTitle,Z=O?(0,v.jsx)(p.Z,{inModal:!0,notices:[O]}):(0,v.jsx)(c.kC,{alignItems:"stretch",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:(0,v.jsxs)(l.Fragment,{children:[(0,v.jsxs)(c.xu,{color:"default",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[(0,v.jsx)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:(0,v.jsx)(c.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,v.jsx)(eL.Z,{color:m,pinImageRef:this.pinImageRef,pinKey:j,shuffleAssetKey:R,updateDescription:T,urlPinInfo:C})})}),(0,v.jsx)(c.kC,{alignItems:"stretch",width:"60%",children:(0,v.jsx)(ez,{boardSavedTo:f,boardWithSection:h,isRepin:!0,onBoardCreated:w,onBoardSave:this.handleSavePinToBoard,onClose:this.close,pinKey:j,preselectedCollaborators:x,setModalTitle:_?I:void 0,showCreate:A,suggestedBoardTitle:E})})]}),b&&(0,v.jsx)(y.Z,{onDismiss:function(){g(),u.dismissModal()},pinImageRef:this.pinImageRef,pinKey:j,selectedBoardName:B,shuffleAssetKey:R})]})});return _?(0,v.jsx)(s.ZP,{accessibilityModalLabel:F||this.props.i18n._('Repin modal', 'save.pin-to-board.PinToBoard.PinToBoard', 'Accessibility label on modal'),heading:F,onDismiss:this.close,size:"md",children:Z}):Z}}],eH(i.prototype,n),r&&eH(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(l.PureComponent);eq(e$,"defaultProps",{pwtAuxData:{}});var eJ=function(e){var t=e.pinKey,n=e.shuffleAssetKey,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,eN),o=(0,d.ZP)(),i=(0,f.Z)(),a=(0,u.Z)(eQ,t),l=(0,u.Z)(eX,n);return(0,v.jsx)(e$,eU(eU({},r),{},{i18n:o,pin:a,shuffleAsset:l,viewer:i}))}},691010:function(e,t,n){"use strict";n.d(t,{A:function(){return r},S:function(){return o}});var r=4e3,o={LOADING:"loading",SUCCESS:"success"}},316796:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(672652),o=n(780277),i=n(481177),a=n(140017),l=n(339001),c=n(827625),s=n(149722),u=n(747602),d=n(281871),f=n(112544);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n=e.onCreate,p=e.prefilledName,y=(0,a.ZP)(),b=(0,o.useSelector)(function(e){return e.advertiser}),g=(0,o.useDispatch)(),v=(0,s.Z)(),_=!b||v.isAuth&&b.owner_user_id===v.id,P=b&&b.id,S=(0,f.Z)(),j=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)({createBoardError:null,inputName:p||"",nameValidatorErrors:[],privacy:_?i.Z.BoardPrivacy.PUBLIC:i.Z.BoardPrivacy.PROTECTED,saving:!1}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=j[0],w=j[1],O=function(){var e=x.inputName,t=x.privacy;w(h(h({},x),{},{saving:!0,createBoardError:null})),S({boardCreateOptions:h({name:e,privacy:t},!_&&P?{advertiser_id:P}:Object.freeze({}))}).then(function(e){w(h(h({},x),{},{saving:!1})),n(e)}).catch(function(e){var t=y._('Uh oh! Something went wrong.', ' - ', ' -- ');if("string"==typeof e)t=e;else if(e.message){var n=e.message,r=e.message_detail;t=r?"".concat(n," ").concat(r):n}w(h(h({},x),{},{saving:!1,createBoardError:t}))}),g((0,c.jB)("BoardsResource",(0,d.Z)(v.isAuth?v.username:"",t===i.Z.BoardPrivacy.SECRET)))};return{handleChangeName:function(e,t){w(h(h({},x),{},{inputName:e,nameValidatorErrors:(0,u.FU)([(0,u.aH)({message:y._('Don\'t forget to name your board!', ' - ', ' -- ')}),(0,u.Gy)({max:i.Z.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,l.nk)(y._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:i.Z.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],e),createBoardError:null})),t&&O()},handleChangePrivacy:function(){w(h(h({},x),{},{privacy:x.privacy===i.Z.BoardPrivacy.SECRET?i.Z.BoardPrivacy.PUBLIC:i.Z.BoardPrivacy.SECRET}))},handleCreate:O,isAdAccountOwner:_,state:x}}},156591:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(684404),o=n(419075),i=n(140017),a=n(819267);function l(e){var t=e.duration,n=(0,i.ZP)();return(0,a.jsxs)(r.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(r.JO,{accessibilityLabel:n._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,a.jsx)(r.xu,{marginStart:1,children:(0,a.jsx)(r.xv,{color:"inverse",lineClamp:1,size:"100",children:(0,o.Z)(t)})})]})}},818133:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(328038),o=n(5859),i=n(554786),a=n(672652),l=n(684404),c=n(810174),s=n(549629),u=n(140017),d=n(757640),f=n(254292),p=n(894711),y=n(898924),h=n(819267);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}var w=function(){return window.close()},O=function(e){window.resizeTo(675,e+52)},I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(i,e);var t,n,r,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=S(i);if(t){var r=S(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return P(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(P(e=o.call.apply(o,[this].concat(n))),"state",{newPin:null}),j(P(e),"_pincreateCompletionPromise",null),j(P(e),"setCompletionPromise",function(t){e._pincreateCompletionPromise=t,e._pincreateCompletionPromise.promise.then(function(t){e.setState({newPin:t}),window.setTimeout(w,1e4)})}),e}return n=[{key:"render",value:function(){var e,t,n=this.props.pin.data,r=this.state.newPin;return n?r?(0,h.jsx)(c.Z,{boardName:r.board.name,color:n.dominant_color||"",description:n.description||"",imageUrl:(null===(e=n.images)||void 0===e?void 0:null===(t=e["236x"])||void 0===t?void 0:t.url)||"",link:n.link||"",onClose:w,openNewTab:!0,pinId:r.id}):(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(f.Z,{text:this.props.i18n._('Select a board to save this Pin', 'PinToBoardPage.Header.HiddenAccessibilityHeader', 'Accessibility h1 on pin to board page for extension')}),(0,h.jsx)(p.K,{action:"repin",onClose:w,pinKey:{type:"deprecated",data:n},setCompletionPromise:this.setCompletionPromise,shouldShowToast:!0,urlPinInfo:null,children:function(e){var t=e.handleAbort,r=e.handleNewBoardAnimationCompletion,o=e.handleSaveToBoard,i=e.newPin,a=e.modalTitle,c=e.setModalTitle;return(0,h.jsx)(l.xu,{"data-test-id":"pin-to-board-page",display:"flex",justifyContent:"center",width:"100%",children:(0,h.jsx)(y.ZP,{handleAbort:t,handleNewBoardAnimationCompletion:r,handleSaveToBoard:o,modalTitle:a,newPin:i,onHeightChange:O,pinKey:{type:"deprecated",data:n},pwtAuxData:{pin_create_method:"repin"},setModalTitle:c,shouldRenderContent:!0,urlPinInfo:null})})}})]}):null}}],v(i.prototype,n),r&&v(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.Component);function A(e){var t=(0,r.$B)(),n=(0,u.ZP)();(0,s.Q)({view_type:91,object_id_str:t.params.id,view_data:{pin_id:t.params.id}});var o=(0,d.Z)({name:"PinResource",options:{noCache:!0,field_set_key:"detailed",id:t.params.id}});return(0,h.jsx)(I,g(g({},e),{},{i18n:n,pin:o}))}var k=n(793545),E=function(){var e=(0,r.UO)().id,t=(0,i.ZP)();return(0,o.B)().isAuthenticated?"desktop"===t?(0,h.jsx)(A,{}):(0,h.jsx)(k.ZP,{shouldFetchPinFromGraphQL:!1}):(0,h.jsx)(r.l_,{to:"/pin/".concat(null!=e?e:"","/")})}},561953:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},168151:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},635634:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(561953);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},746074:function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return e===t}t.P1=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return function(){for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];var a=0,l=o.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return n(e)}).join(", ")+"]");return t}(o),s=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(r)),u=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=c.map(function(n){return n.apply(void 0,[e,t].concat(r))});return s.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(i))};return u.resultFunc=l,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,o=null;return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return null!==n&&n.length===i.length&&i.every(function(e,r){return t(e,n[r])})||(o=e.apply(void 0,i)),n=i,o}})}},function(e){e.O(0,[97270,84404,28038,24797,55169,88166,57640,44801,2909,27672,11930,15927,40370,64212,13503,81592,23813,60430,77454,9752,78381,92034,10930],function(){return e(e.s=916737)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/repin/x-d7b1a123b205240a.js.map
